"use strict";(self.webpackChunkcoffee_admin=self.webpackChunkcoffee_admin||[]).push([[148],{3801:(I,h,r)=>{r.r(h),r.d(h,{OrganizationsComponent:()=>Pt});var t=r(4292),f=r(9351),l=r(4165),_=r(7317),m=r(1613),M=r(1488),s=r(9353),g=r(5720),A=r(5822),p=r(4193),R=r(4755),P=r(8200),w=r(2517),O=r(7199),E=r(6721),z=r(3505),S=r(5320),G=r(91),T=r(8497),b=r(1980);function U(e,u){1&e&&(t.j41(0,"mat-error"),t.pXf(1,0),t.k0s())}function B(e,u){1&e&&(t.j41(0,"mat-error"),t.pXf(1,1),t.k0s())}function Y(e,u){1&e&&(t.j41(0,"mat-error"),t.pXf(1,2),t.k0s())}function V(e,u){1&e&&(t.j41(0,"div",9)(1,"div",12)(2,"mat-slide-toggle",20),t.EFF(3," \u0410\u043a\u0442\u0438\u0432\u043d\u0430 "),t.k0s(),t.j41(4,"span",14),t.EFF(5,"\u041e\u0442\u043c\u0435\u0442\u044c\u0442\u0435, \u0435\u0441\u043b\u0438 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u0430"),t.k0s()()())}function Q(e,u){1&e&&t.nrm(0,"mat-spinner",21)}function W(e,u){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&e){const n=t.XpG();t.R7$(),t.JRh(n.data.isEdit?"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")}}let $=(()=>{class e{constructor(){this.fb=(0,t.WQX)(O.ok),this.dialogRef=(0,t.WQX)(l.CP),this.organizationsService=(0,t.WQX)(g.k),this.toastService=(0,t.WQX)(R.f),this.data=(0,t.WQX)(l.Vh),this.isLoading=(0,t.vPA)(!1),this.organizationForm=this.fb.group({name:["",[O.k0.required]],baseRate:[0,[O.k0.required,O.k0.min(.01)]],overtimeMultiplier:[null],hasOvertime:[!1],isActive:[!0]})}ngOnInit(){this.data.isEdit&&this.data.organization&&this.organizationForm.patchValue({name:this.data.organization.name,baseRate:this.data.organization.baseRate,overtimeMultiplier:this.data.organization.overtimeMultiplier,hasOvertime:this.data.organization.hasOvertime})}onSave(){this.organizationForm.invalid||(this.isLoading.set(!0),this.data.isEdit&&this.data.organization?this.updateOrganization():this.createOrganization())}createOrganization(){const n=this.organizationForm.value,i={name:n.name,baseRate:parseFloat(n.baseRate),overtimeMultiplier:n.overtimeMultiplier?parseFloat(n.overtimeMultiplier):void 0,hasOvertime:n.hasOvertime};this.organizationsService.createOrganization(i).subscribe({next:o=>{this.toastService.showSuccess("\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430"),this.dialogRef.close(o)},error:o=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438:",o),this.toastService.showError("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),this.isLoading.set(!1)}})}updateOrganization(){if(!this.data.organization)return;const n=this.organizationForm.value,i={name:n.name,baseRate:parseFloat(n.baseRate),overtimeMultiplier:n.overtimeMultiplier?parseFloat(n.overtimeMultiplier):void 0,hasOvertime:n.hasOvertime,isActive:n.isActive};this.organizationsService.updateOrganization(this.data.organization.id,i).subscribe({next:o=>{this.toastService.showSuccess("\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430"),this.dialogRef.close(o)},error:o=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438:",o),this.toastService.showError("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),this.isLoading.set(!1)}})}onCancel(){this.dialogRef.close()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-organization-dialog"]],standalone:!0,features:[t.aNF],decls:36,vars:9,consts:()=>{let n,i,o;return n=$localize`:@@organization.nameRequired: Название организации обязательно `,i=$localize`:@@organization.baseRateRequired: Базовая ставка обязательна `,o=$localize`:@@organization.baseRateMin: Базовая ставка должна быть больше 0 `,[n,i,o,[1,"organization-dialog"],["mat-dialog-title",""],[1,"organization-form",3,"formGroup"],["appearance","outline",1,"form-field"],["matInput","","formControlName","name","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"],[4,"ngIf"],[1,"form-row"],["matInput","","formControlName","baseRate","type","number","step","0.01","min","0","placeholder","\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: 500.00"],["matInput","","formControlName","overtimeMultiplier","type","number","step","0.1","min","0","placeholder","\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: 1.5"],[1,"toggle-field"],["formControlName","hasOvertime"],[1,"toggle-hint"],["class","form-row",4,"ngIf"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],["diameter","20",4,"ngIf"],["formControlName","isActive"],["diameter","20"]]},template:function(i,o){if(1&i&&(t.j41(0,"div",3)(1,"h2",4),t.EFF(2),t.k0s(),t.j41(3,"mat-dialog-content")(4,"form",5)(5,"mat-form-field",6)(6,"mat-label"),t.EFF(7,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"),t.k0s(),t.nrm(8,"input",7),t.DNE(9,U,2,0,"mat-error",8),t.k0s(),t.j41(10,"div",9)(11,"mat-form-field",6)(12,"mat-label"),t.EFF(13,"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 (\u0440\u0443\u0431/\u0447\u0430\u0441)"),t.k0s(),t.nrm(14,"input",10),t.DNE(15,B,2,0,"mat-error",8)(16,Y,2,0,"mat-error",8),t.k0s(),t.j41(17,"mat-form-field",6)(18,"mat-label"),t.EFF(19,"\u041a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442 \u0441\u0432\u0435\u0440\u0445\u0443\u0440\u043e\u0447\u043d\u044b\u0445"),t.k0s(),t.nrm(20,"input",11),t.j41(21,"mat-hint"),t.EFF(22,"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c, \u0435\u0441\u043b\u0438 \u043d\u0435\u0442 \u0441\u0432\u0435\u0440\u0445\u0443\u0440\u043e\u0447\u043d\u044b\u0445"),t.k0s()()(),t.j41(23,"div",9)(24,"div",12)(25,"mat-slide-toggle",13),t.EFF(26," \u0421\u0432\u0435\u0440\u0445\u0443\u0440\u043e\u0447\u043d\u044b\u0435 "),t.k0s(),t.j41(27,"span",14),t.EFF(28,"\u041e\u0442\u043c\u0435\u0442\u044c\u0442\u0435, \u0435\u0441\u043b\u0438 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u043b\u0430\u0442\u0438\u0442 \u0437\u0430 \u0441\u0432\u0435\u0440\u0445\u0443\u0440\u043e\u0447\u043d\u044b\u0435"),t.k0s()()(),t.DNE(29,V,6,0,"div",15),t.k0s()(),t.j41(30,"mat-dialog-actions",16)(31,"button",17),t.bIt("click",function(){return o.onCancel()}),t.EFF(32,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.k0s(),t.j41(33,"button",18),t.bIt("click",function(){return o.onSave()}),t.DNE(34,Q,1,0,"mat-spinner",19)(35,W,2,1,"span",8),t.k0s()()()),2&i){let a,c,C;t.R7$(2),t.SpI(" ",o.data.isEdit?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e"," "),t.R7$(2),t.Y8G("formGroup",o.organizationForm),t.R7$(5),t.Y8G("ngIf",null==(a=o.organizationForm.get("name"))?null:a.hasError("required")),t.R7$(6),t.Y8G("ngIf",null==(c=o.organizationForm.get("baseRate"))?null:c.hasError("required")),t.R7$(),t.Y8G("ngIf",null==(C=o.organizationForm.get("baseRate"))?null:C.hasError("min")),t.R7$(13),t.Y8G("ngIf",o.data.isEdit),t.R7$(4),t.Y8G("disabled",o.organizationForm.invalid||o.isLoading()),t.R7$(),t.Y8G("ngIf",o.isLoading()),t.R7$(),t.Y8G("ngIf",!o.isLoading())}},dependencies:[f.MD,f.bT,O.X1,O.qT,O.me,O.Q0,O.BC,O.cb,O.VZ,O.j4,O.JD,l.hM,l.BI,l.E7,l.Yi,E.RG,E.rl,E.nJ,E.MV,E.TL,z.fS,z.fg,S.Hl,S.$z,G.m_,T.D6,T.LG,b.mV,b.sG],styles:[".organization-dialog[_ngcontent-%COMP%]{min-width:500px;max-width:90vw;border-radius:12px;overflow:hidden}h2[mat-dialog-title][_ngcontent-%COMP%]{margin:0;padding:24px 24px 16px;font-size:24px;font-weight:500;color:#1976d2;border-bottom:1px solid #e0e0e0}.organization-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding:24px;max-height:70vh;overflow-y:auto}.form-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-start}.form-field[_ngcontent-%COMP%]{flex:1;min-width:0}.toggle-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;width:100%}.toggle-hint[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-left:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-dialog-content[_ngcontent-%COMP%]{padding:0!important}mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 24px 24px;margin:0;border-top:1px solid #e0e0e0;justify-content:flex-end;gap:12px}button[_ngcontent-%COMP%]{min-width:100px;border-radius:8px;text-transform:uppercase;font-weight:500;letter-spacing:.5px}button[color=primary][_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}button[color=primary][_ngcontent-%COMP%]:disabled{background-color:#ccc;color:#666}.mat-mdc-form-field[_ngcontent-%COMP%]{margin-bottom:0}.mat-mdc-form-field-outline[_ngcontent-%COMP%], .mdc-text-field--outlined[_ngcontent-%COMP%]   .mdc-notched-outline__leading[_ngcontent-%COMP%], .mdc-text-field--outlined[_ngcontent-%COMP%]   .mdc-notched-outline__notch[_ngcontent-%COMP%], .mdc-text-field--outlined[_ngcontent-%COMP%]   .mdc-notched-outline__trailing[_ngcontent-%COMP%]{border-radius:8px}mat-error[_ngcontent-%COMP%]{font-size:12px;margin-top:4px}@media (max-width: 600px){.organization-dialog[_ngcontent-%COMP%]{min-width:95vw;margin:16px}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.organization-form[_ngcontent-%COMP%]{padding:16px;gap:16px}h2[mat-dialog-title][_ngcontent-%COMP%]{padding:20px 16px 12px;font-size:20px}mat-dialog-actions[_ngcontent-%COMP%]{padding:12px 16px 20px;flex-direction:column;gap:8px}button[_ngcontent-%COMP%]{width:100%;min-width:unset}}"]})}}return e})();var N=r(8598),J=r(8613),H=r(6093);const K=()=>[10,25,50];function q(e,u){if(1&e){const n=t.RV6();t.j41(0,"button",42),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.onCreateOrganization())}),t.j41(1,"mat-icon"),t.EFF(2,"add"),t.k0s(),t.j41(3,"span"),t.pXf(4,4),t.k0s()()}}function tt(e,u){1&e&&(t.j41(0,"th",43),t.pXf(1,5),t.k0s())}function nt(e,u){if(1&e&&(t.j41(0,"td",44)(1,"div",45)(2,"strong"),t.EFF(3),t.k0s()()()),2&e){const n=u.$implicit;t.R7$(3),t.JRh(n.name)}}function et(e,u){1&e&&(t.j41(0,"th",43),t.pXf(1,6),t.k0s())}function ot(e,u){if(1&e&&(t.j41(0,"td",44),t.EFF(1),t.k0s()),2&e){const n=u.$implicit,i=t.XpG();t.R7$(),t.SpI(" ",i.formatCurrency(n.baseRate),"/\u0447\u0430\u0441 ")}}function it(e,u){1&e&&(t.j41(0,"th",43),t.pXf(1,7),t.k0s())}function at(e,u){if(1&e&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&e){const n=t.XpG().$implicit;t.R7$(),t.SpI(" ",n.overtimeMultiplier,"x ")}}function ut(e,u){1&e&&(t.j41(0,"span",47),t.EFF(1,"\u2014"),t.k0s())}function rt(e,u){if(1&e&&(t.j41(0,"td",44),t.DNE(1,at,2,1,"span",46)(2,ut,2,0,"ng-template",null,0,t.C5r),t.k0s()),2&e){const n=u.$implicit,i=t.sdS(3);t.R7$(),t.Y8G("ngIf",n.overtimeMultiplier)("ngIfElse",i)}}function st(e,u){1&e&&(t.j41(0,"th",43),t.pXf(1,8),t.k0s())}function lt(e,u){if(1&e&&(t.j41(0,"td",44)(1,"mat-chip",48),t.EFF(2),t.k0s()()),2&e){const n=u.$implicit;t.R7$(),t.Y8G("color",n.hasOvertime?"primary":"warn"),t.R7$(),t.SpI(" ",n.hasOvertime?"\u0414\u0430":"\u041d\u0435\u0442"," ")}}function ct(e,u){1&e&&(t.j41(0,"th",43),t.pXf(1,9),t.k0s())}function gt(e,u){if(1&e&&(t.j41(0,"td",44)(1,"mat-chip",48),t.EFF(2),t.k0s()()),2&e){const n=u.$implicit,i=t.XpG();t.R7$(),t.Y8G("color",i.getStatusColor(n.isActive)),t.R7$(),t.SpI(" ",i.getStatusText(n.isActive)," ")}}function _t(e,u){1&e&&(t.j41(0,"th",43),t.pXf(1,10),t.k0s())}function dt(e,u){if(1&e&&(t.j41(0,"td",44),t.EFF(1),t.k0s()),2&e){const n=u.$implicit,i=t.XpG();t.R7$(),t.SpI(" ",i.formatDate(n.createdAt)," ")}}function mt(e,u){1&e&&(t.j41(0,"th",49),t.pXf(1,11),t.k0s())}function Ot(e,u){if(1&e){const n=t.RV6();t.j41(0,"button",54),t.bIt("click",function(){t.eBV(n);const o=t.XpG().$implicit,a=t.XpG();return t.Njj(a.onDeleteOrganization(o))}),t.j41(1,"mat-icon"),t.EFF(2,"delete"),t.k0s()()}if(2&e){const n=t.XpG(2);t.Y8G("disabled",!n.canDelete())}}function pt(e,u){if(1&e){const n=t.RV6();t.j41(0,"td",44)(1,"div",50)(2,"button",51),t.bIt("click",function(){const o=t.eBV(n).$implicit,a=t.XpG();return t.Njj(a.onEditOrganization(o))}),t.j41(3,"mat-icon"),t.EFF(4,"edit"),t.k0s()(),t.j41(5,"button",52),t.bIt("click",function(){const o=t.eBV(n).$implicit,a=t.XpG();return t.Njj(a.onToggleStatus(o))}),t.j41(6,"mat-icon"),t.EFF(7),t.k0s()(),t.DNE(8,Ot,3,1,"button",53),t.k0s()()}if(2&e){const n=u.$implicit,i=t.XpG();t.R7$(2),t.Y8G("disabled",!i.canEdit()),t.R7$(3),t.Y8G("disabled",!i.canEdit())("color",n.isActive?"warn":"primary")("matTooltip",n.isActive?"\u0414\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e":"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e"),t.R7$(2),t.JRh(n.isActive?"block":"check_circle"),t.R7$(),t.Y8G("ngIf",i.canDelete())}}function ft(e,u){1&e&&t.nrm(0,"tr",55)}function Ct(e,u){1&e&&t.nrm(0,"tr",56)}function Et(e,u){1&e&&(t.j41(0,"div",57),t.nrm(1,"mat-spinner",58),t.j41(2,"p"),t.pXf(3,12),t.k0s()())}function ht(e,u){1&e&&(t.j41(0,"p"),t.pXf(1,14),t.k0s())}function At(e,u){1&e&&(t.j41(0,"p"),t.pXf(1,15),t.k0s())}function Nt(e,u){if(1&e){const n=t.RV6();t.j41(0,"button",42),t.bIt("click",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.onCreateOrganization())}),t.j41(1,"mat-icon"),t.EFF(2,"add"),t.k0s(),t.j41(3,"span"),t.pXf(4,16),t.k0s()()}}function St(e,u){if(1&e&&(t.j41(0,"div",59)(1,"mat-icon",60),t.EFF(2,"business"),t.k0s(),t.j41(3,"h3"),t.pXf(4,13),t.k0s(),t.DNE(5,ht,2,0,"p",61)(6,At,2,0,"p",61)(7,Nt,5,0,"button",23),t.k0s()),2&e){const n=t.XpG();t.R7$(5),t.Y8G("ngIf",n.searchQuery()),t.R7$(),t.Y8G("ngIf",!n.searchQuery()),t.R7$(),t.Y8G("ngIf",n.canEdit()&&!n.searchQuery())}}function Mt(e,u){1&e&&t.nrm(0,"mat-paginator",62),2&e&&t.Y8G("pageSizeOptions",t.lJ4(1,K))}let Pt=(()=>{class e{constructor(){this.organizationsService=(0,t.WQX)(g.k),this.authService=(0,t.WQX)(A.u),this.dialog=(0,t.WQX)(l.bZ),this.modalService=(0,t.WQX)(p.B),this.toastService=(0,t.WQX)(R.f),this.organizations=(0,t.vPA)([]),this.dataSource=new _.I6,this.isLoading=(0,t.vPA)(!1),this.searchQuery=(0,t.vPA)(""),this.displayedColumns=["name","baseRate","overtimeMultiplier","hasOvertime","isActive","createdAt","actions"],this.currentUser=this.authService.currentUser,this.canEdit=(0,t.EWP)(()=>{const n=this.currentUser();return n?.role===P.gG.ADMIN||n?.role===P.gG.MANAGER}),this.canDelete=(0,t.EWP)(()=>this.currentUser()?.role===P.gG.ADMIN),this.dataSource.filterPredicate=(n,i)=>n.name.toLowerCase().includes(i),(0,t.QZP)(()=>{const n=this.searchQuery();this.dataSource.filter=n.trim().toLowerCase()})}ngOnInit(){console.log("\u{1f3e2} Organizations component initialized"),console.log("\u{1f3e2} Current user:",this.currentUser()),console.log("\u{1f3e2} canEdit():",this.canEdit()),console.log("\u{1f3e2} canDelete():",this.canDelete()),this.loadOrganizations()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}loadOrganizations(n){this.isLoading.set(!0),this.organizationsService.getOrganizations(n).subscribe({next:i=>{const o=i.data||[];this.organizations.set(o),this.dataSource.data=o,this.isLoading.set(!1)},error:i=>{console.error("Failed to load organizations:",i),this.toastService.showError("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"),this.organizations.set([]),this.dataSource.data=[],this.isLoading.set(!1)}})}onSearchChange(n){this.searchQuery.set(n)}onCreateOrganization(){this.dialog.open($,{data:{isEdit:!1},width:"600px",disableClose:!0}).afterClosed().subscribe(i=>{if(i){const a=[...this.organizations()||[],i];this.organizations.set(a),this.dataSource.data=a}})}onEditOrganization(n){if(console.log("\u270f\ufe0f onEditOrganization called for:",n.name,"User role:",this.currentUser()?.role),console.log("\u270f\ufe0f canEdit():",this.canEdit()),!this.canEdit())return console.log("\u270f\ufe0f User does not have edit permissions"),void this.toastService.showError("\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0439");let i;console.log("\u270f\ufe0f Opening edit dialog...");try{i=this.dialog.open($,{data:{organization:n,isEdit:!0},width:"600px",disableClose:!0}),console.log("\u270f\ufe0f Dialog opened successfully:",i),i.afterClosed().subscribe(o=>{if(console.log("\u270f\ufe0f Edit dialog closed with result:",o),o){const c=(this.organizations()||[]).map(C=>C.id===o.id?o:C);this.organizations.set(c),this.dataSource.data=c}})}catch(o){console.error("\u270f\ufe0f Error opening dialog:",o),this.toastService.showError("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0434\u0438\u0430\u043b\u043e\u0433\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f")}}onToggleStatus(n){if(console.log("\u{1f504} onToggleStatus called for:",n.name,"User role:",this.currentUser()?.role),console.log("\u{1f504} canEdit():",this.canEdit()),!this.canEdit())return console.log("\u{1f504} User does not have edit permissions"),void this.toastService.showError("\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0439");console.log("\u{1f504} Toggling organization status..."),this.organizationsService.toggleOrganizationStatus(n.id).subscribe({next:i=>{console.log("\u{1f504} Status toggled successfully:",i);const a=(this.organizations()||[]).map(c=>c.id===i.id?i:c);this.organizations.set(a),this.dataSource.data=a,this.toastService.showSuccess(`\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f ${i.name} ${i.isActive?"\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0430":"\u0434\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0430"}`)},error:i=>{console.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438:",i),this.toastService.showError("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438")}})}onDeleteOrganization(n){if(console.log("\u{1f5d1}\ufe0f onDeleteOrganization called for:",n.name,"User role:",this.currentUser()?.role),!this.canDelete())return console.log("\u{1f5d1}\ufe0f User does not have delete permissions"),void this.toastService.showError("\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0439. \u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0440\u043e\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430.");let i;console.log("\u{1f5d1}\ufe0f Opening delete confirmation dialog");try{i=this.dialog.open(w.i,{data:{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e",message:`\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c "${n.name}"? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.`,confirmText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430"}}),console.log("\u{1f5d1}\ufe0f Delete dialog opened successfully:",i)}catch(o){return console.error("\u{1f5d1}\ufe0f Error opening delete dialog:",o),void this.toastService.showError("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0434\u0438\u0430\u043b\u043e\u0433\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f")}i.afterClosed().subscribe(o=>{console.log("\u{1f5d1}\ufe0f Delete confirmation dialog result:",o,typeof o),o?(console.log("\u{1f5d1}\ufe0f Starting organization deletion:",{organizationId:n.id,organizationName:n.name,user:this.currentUser()?.email,userRole:this.currentUser()?.role,hasToken:!!this.authService.getToken()}),this.organizationsService.deleteOrganization(n.id).subscribe({next:()=>{console.log("\u2705 Organization deleted successfully:",n.id);const c=(this.organizations()||[]).filter(C=>C.id!==n.id);this.organizations.set(c),this.dataSource.data=c,this.toastService.showSuccess("\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430"),this.loadOrganizations()},error:a=>{console.error("\u274c \u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e:",{error:a,organizationId:n.id,status:a.status,statusText:a.statusText,url:a.url,userRole:this.currentUser()?.role});let c="\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e";401===a.status?c="\u041d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0441\u043d\u043e\u0432\u0430.":403===a.status?c="\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438. \u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0440\u043e\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430.":404===a.status?c="\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430.":a.error?.message&&(c=a.error.message),this.toastService.showError(c)}})):console.log("\u{1f5d1}\ufe0f User cancelled deletion")})}formatCurrency(n){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:2}).format(n)}formatDate(n){return new Date(n).toLocaleDateString("ru-RU")}getStatusColor(n){return n?"primary":"warn"}getStatusText(n){return n?"\u0410\u043a\u0442\u0438\u0432\u043d\u0430":"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u0430"}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-organizations"]],viewQuery:function(i,o){if(1&i&&(t.GBs(m.iy,5),t.GBs(M.B4,5)),2&i){let a;t.mGM(a=t.lsd())&&(o.paginator=a.first),t.mGM(a=t.lsd())&&(o.sort=a.first)}},standalone:!0,features:[t.aNF],decls:46,vars:8,consts:()=>{let n,i,o,a,c,C,v,D,x,F,y,X,L,j,Z,k;return n=$localize`:@@organizations.management:Управление организациями`,i=$localize`:@@organizations.subtitle:Управление организациями компании и их настройками`,o=$localize`:@@organizations.search:Поиск организаций`,a=$localize`:@@organizations.addOrganization:Добавить организацию`,c=$localize`:@@organizations.name: Название `,C=$localize`:@@organizations.baseRate: Базовая ставка `,v=$localize`:@@organizations.overtimeRate: Ставка переработки `,D=$localize`:@@organizations.overtime: Переработка `,x=$localize`:@@organizations.status: Статус `,F=$localize`:@@organizations.created: Создано `,y=$localize`:@@organizations.actions:Действия`,X=$localize`:@@organizations.loading:Загрузка организаций...`,L=$localize`:@@organizations.noOrganizationsFound:Организации не найдены`,j=$localize`:@@organizations.noOrganizationsMatch: Нет организаций, соответствующих критериям поиска. `,Z=$localize`:@@organizations.getStarted: Начните с создания первой организации. `,k=$localize`:@@organizations.addOrganization:Добавить организацию`,[["noOvertime",""],n,i,o,a,c,C,v,D,x,F,y,X,L,j,Z,k,[1,"organizations-container"],[1,"header-card"],[1,"actions-row"],["appearance","outline",1,"search-field"],["matInput","","placeholder","\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e...",3,"input","value"],["matSuffix",""],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],[1,"table-card"],[1,"table-container"],["mat-table","","matSort","",1,"organizations-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","baseRate"],["matColumnDef","overtimeMultiplier"],["matColumnDef","hasOvertime"],["matColumnDef","isActive"],["matColumnDef","createdAt"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","loading-container",4,"ngIf"],["class","no-data-container",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"name-cell"],[4,"ngIf","ngIfElse"],[1,"no-data"],["selected","",3,"color"],["mat-header-cell",""],[1,"action-buttons"],["mat-icon-button","","color","primary","matTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e","aria-label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"action-btn-icon","edit-btn",3,"click","disabled"],["mat-icon-button","","aria-label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441",1,"action-btn-icon","status-btn",3,"click","disabled","color","matTooltip"],["mat-icon-button","","color","warn","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e","aria-label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c","class","action-btn-icon delete-btn",3,"disabled","click",4,"ngIf"],["mat-icon-button","","color","warn","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e","aria-label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"action-btn-icon","delete-btn",3,"click","disabled"],["mat-header-row",""],["mat-row",""],[1,"loading-container"],["diameter","40"],[1,"no-data-container"],[1,"no-data-icon"],[4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions"]]},template:function(i,o){1&i&&(t.j41(0,"div",17)(1,"mat-card",18)(2,"mat-card-header")(3,"mat-card-title"),t.pXf(4,1),t.k0s(),t.j41(5,"mat-card-subtitle"),t.pXf(6,2),t.k0s()(),t.j41(7,"mat-card-content")(8,"div",19)(9,"mat-form-field",20)(10,"mat-label"),t.pXf(11,3),t.k0s(),t.j41(12,"input",21),t.bIt("input",function(c){return o.onSearchChange(c.target.value)}),t.k0s(),t.j41(13,"mat-icon",22),t.EFF(14,"search"),t.k0s()(),t.DNE(15,q,5,0,"button",23),t.k0s()()(),t.j41(16,"mat-card",24)(17,"mat-card-content")(18,"div",25)(19,"table",26),t.qex(20,27),t.DNE(21,tt,2,0,"th",28)(22,nt,4,1,"td",29),t.bVm(),t.qex(23,30),t.DNE(24,et,2,0,"th",28)(25,ot,2,1,"td",29),t.bVm(),t.qex(26,31),t.DNE(27,it,2,0,"th",28)(28,rt,4,2,"td",29),t.bVm(),t.qex(29,32),t.DNE(30,st,2,0,"th",28)(31,lt,3,2,"td",29),t.bVm(),t.qex(32,33),t.DNE(33,ct,2,0,"th",28)(34,gt,3,2,"td",29),t.bVm(),t.qex(35,34),t.DNE(36,_t,2,0,"th",28)(37,dt,2,1,"td",29),t.bVm(),t.qex(38,35),t.DNE(39,mt,2,0,"th",36)(40,pt,9,6,"td",29),t.bVm(),t.DNE(41,ft,1,0,"tr",37)(42,Ct,1,0,"tr",38),t.k0s(),t.DNE(43,Et,4,0,"div",39)(44,St,8,3,"div",40),t.k0s(),t.DNE(45,Mt,1,2,"mat-paginator",41),t.k0s()()()),2&i&&(t.R7$(12),t.Y8G("value",o.searchQuery()),t.R7$(3),t.Y8G("ngIf",o.canEdit()),t.R7$(4),t.Y8G("dataSource",o.dataSource),t.R7$(22),t.Y8G("matHeaderRowDef",o.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",o.displayedColumns),t.R7$(),t.Y8G("ngIf",o.isLoading()),t.R7$(),t.Y8G("ngIf",!o.isLoading()&&0===o.organizations().length),t.R7$(),t.Y8G("ngIf",o.organizations().length>0))},dependencies:[f.MD,f.bT,s.G,S.$z,S.iY,G.An,N.RN,N.m2,N.MM,N.Lc,N.dh,T.LG,E.rl,E.nJ,E.yw,z.fg,J.Jl,H.oV,_.Zl,_.tL,_.ji,_.cC,_.YV,_.iL,_.KS,_.$R,_.YZ,_.NB,m.iy,M.B4,M.aE],styles:[".organizations-container[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto;display:flex;flex-direction:column;gap:24px}.header-card[_ngcontent-%COMP%]{margin-bottom:0}.header-card[_ngcontent-%COMP%]   .actions-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:16px;margin-top:16px}.header-card[_ngcontent-%COMP%]   .actions-row[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{flex:1;max-width:400px}.table-card[_ngcontent-%COMP%]{flex:1}.table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto}.table-card[_ngcontent-%COMP%]   .organizations-table[_ngcontent-%COMP%]{width:100%;min-width:800px}.table-card[_ngcontent-%COMP%]   .organizations-table[_ngcontent-%COMP%]   .name-cell[_ngcontent-%COMP%]{max-width:200px}.table-card[_ngcontent-%COMP%]   .organizations-table[_ngcontent-%COMP%]   .name-cell[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.table-card[_ngcontent-%COMP%]   .organizations-table[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{color:#9e9e9e;font-style:italic}.table-card[_ngcontent-%COMP%]   .organizations-table[_ngcontent-%COMP%]   .delete-action[_ngcontent-%COMP%]{color:#f44336!important}.table-card[_ngcontent-%COMP%]   .organizations-table[_ngcontent-%COMP%]   .delete-action[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336!important}.table-card[_ngcontent-%COMP%]   .organizations-table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;justify-content:flex-start}.table-card[_ngcontent-%COMP%]   .organizations-table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn-icon[_ngcontent-%COMP%]{width:36px;height:36px;transition:all .2s ease}.table-card[_ngcontent-%COMP%]   .organizations-table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn-icon[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.1)}.table-card[_ngcontent-%COMP%]   .organizations-table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn-icon[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.table-card[_ngcontent-%COMP%]   .organizations-table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .action-btn-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.table-card[_ngcontent-%COMP%]   .organizations-table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2196f31a}.table-card[_ngcontent-%COMP%]   .organizations-table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .status-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#ff98001a}.table-card[_ngcontent-%COMP%]   .organizations-table[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f443361a}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px;gap:16px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.no-data-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px 24px;text-align:center;gap:16px}.no-data-container[_ngcontent-%COMP%]   .no-data-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#9e9e9e}.no-data-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#424242;margin:0}.no-data-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0;max-width:400px}@media (max-width: 768px){.organizations-container[_ngcontent-%COMP%]{padding:16px}.header-card[_ngcontent-%COMP%]   .actions-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.header-card[_ngcontent-%COMP%]   .actions-row[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{max-width:none}.organizations-table[_ngcontent-%COMP%]{font-size:14px}.organizations-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .organizations-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 4px}}@media (max-width: 600px){.organizations-container[_ngcontent-%COMP%]{padding:8px}.displayedColumns[_ngcontent-%COMP%]{display:none}}"]})}}return e})()},5720:(I,h,r)=>{r.d(h,{k:()=>_});var t=r(4292),f=r(6e3),l=r(878);let _=(()=>{class m{constructor(){this.http=(0,t.WQX)(f.Qq)}getOrganizations(s){let g=new f.Nl;return s&&Object.entries(s).forEach(([A,p])=>{null!=p&&""!==p&&(g=g.set(A,p.toString()))}),this.http.get(`${l.c.apiUrl}/organizations`,{params:g})}getOrganization(s){return this.http.get(`${l.c.apiUrl}/organizations/${s}`)}createOrganization(s){return this.http.post(`${l.c.apiUrl}/organizations`,s)}updateOrganization(s,g){return this.http.patch(`${l.c.apiUrl}/organizations/${s}`,g)}deleteOrganization(s){return this.http.delete(`${l.c.apiUrl}/organizations/${s}`)}toggleOrganizationStatus(s){return this.http.patch(`${l.c.apiUrl}/organizations/${s}/toggle-status`,{})}static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275prov=t.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},4740:(I,h,r)=>{r.d(h,{g:()=>_});var t=r(4292),f=r(6e3),l=r(878);let _=(()=>{class m{constructor(){this.http=(0,t.WQX)(f.Qq)}getUsers(s){let g=new f.Nl;return s&&Object.entries(s).forEach(([A,p])=>{null!=p&&""!==p&&(g=g.set(A,p.toString()))}),this.http.get(`${l.c.apiUrl}/users`,{params:g})}getUser(s){return this.http.get(`${l.c.apiUrl}/users/${s}`)}createUser(s){return this.http.post(`${l.c.apiUrl}/users`,s)}updateUser(s,g){return this.http.patch(`${l.c.apiUrl}/users/${s}`,g)}deleteUser(s){return this.http.delete(`${l.c.apiUrl}/users/${s}`)}checkUserDeletion(s){return this.http.delete(`${l.c.apiUrl}/users/${s}`)}forceDeleteUser(s){return this.http.delete(`${l.c.apiUrl}/users/${s}/force`)}getUserProfile(){return this.http.get(`${l.c.apiUrl}/users/profile`)}updateProfile(s){return this.http.patch(`${l.c.apiUrl}/users/profile`,s)}static{this.\u0275fac=function(g){return new(g||m)}}static{this.\u0275prov=t.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()}}]);