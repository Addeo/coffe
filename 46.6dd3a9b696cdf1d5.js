"use strict";(self.webpackChunkcoffee_admin=self.webpackChunkcoffee_admin||[]).push([[46],{5046:(B,b,o)=>{o.r(b),o.d(b,{BackupsComponent:()=>z});var t=o(4292),x=o(9351),E=o(4165),C=o(609),k=o(8497),l=o(8598),M=o(5320),P=o(91),h=o(8613),O=o(6093),s=o(9353),m=o(6e3),u=o(878);let d=(()=>{class i{constructor(){this.http=(0,t.WQX)(m.Qq),this.apiUrl=`${u.c.apiUrl}/backup`}createBackup(){return this.http.post(`${this.apiUrl}/create`,{})}listBackups(){return this.http.get(`${this.apiUrl}/list`)}uploadBackup(e,n){const r=new FormData;return r.append("file",e),this.http.post(`${this.apiUrl}/upload`,r,{reportProgress:!0,observe:"body"})}restoreBackup(e){return this.http.post(`${this.apiUrl}/restore/${e}`,{})}downloadBackup(e){return this.http.get(`${this.apiUrl}/download/${e}`,{responseType:"blob"})}deleteBackup(e){return this.http.delete(`${this.apiUrl}/${e}`)}cleanupOldBackups(e=30){return this.http.delete(`${this.apiUrl}/cleanup?keepDays=${e}`)}downloadAndSaveBackup(e){this.downloadBackup(e).subscribe({next:n=>{const r=window.URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=e,a.click(),window.URL.revokeObjectURL(r)},error:n=>{throw console.error("Failed to download backup:",n),n}})}validateBackupFile(e){const n=[".sql",".sqlite"],r=e.name.substring(e.name.lastIndexOf(".")).toLowerCase();return n.includes(r)?e.size>104857600?{valid:!1,error:"File size exceeds 100MB limit"}:{valid:!0}:{valid:!1,error:`Invalid file type. Only ${n.join(", ")} files are allowed`}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var c=o(4755),F=o(5822);const _=(i,p)=>p.name;function v(i,p){1&i&&(t.nrm(0,"mat-spinner",27),t.EFF(1," \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435... "))}function w(i,p){1&i&&t.EFF(0," \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u044d\u043a\u0430\u043f ")}function D(i,p){1&i&&(t.j41(0,"div",19),t.nrm(1,"mat-spinner"),t.j41(2,"p"),t.EFF(3,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),t.k0s()())}function j(i,p){1&i&&(t.j41(0,"mat-card",20)(1,"mat-card-content")(2,"div",28)(3,"mat-icon"),t.EFF(4,"cloud_upload"),t.k0s(),t.j41(5,"div",29)(6,"h3"),t.EFF(7,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u0430..."),t.k0s(),t.nrm(8,"mat-progress-bar",30),t.k0s()()()())}function A(i,p){if(1&i){const e=t.RV6();t.j41(0,"mat-card",21)(1,"mat-card-content")(2,"mat-icon"),t.EFF(3,"backup"),t.k0s(),t.j41(4,"h2"),t.EFF(5,"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0431\u044d\u043a\u0430\u043f\u043e\u0432"),t.k0s(),t.j41(6,"p"),t.EFF(7,"\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043f\u0435\u0440\u0432\u044b\u0439 \u0431\u044d\u043a\u0430\u043f \u0438\u043b\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439"),t.k0s(),t.j41(8,"div",31)(9,"button",32),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.createBackup())}),t.j41(10,"mat-icon"),t.EFF(11,"add"),t.k0s(),t.EFF(12," \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u044d\u043a\u0430\u043f "),t.k0s(),t.j41(13,"button",33),t.bIt("click",function(){t.eBV(e),t.XpG();const r=t.sdS(13);return t.Njj(r.click())}),t.j41(14,"mat-icon"),t.EFF(15,"upload_file"),t.k0s(),t.EFF(16," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b "),t.k0s()()()()}}function R(i,p){if(1&i){const e=t.RV6();t.j41(0,"mat-card",34)(1,"mat-card-header")(2,"mat-icon",35),t.EFF(3),t.k0s(),t.j41(4,"mat-card-title"),t.EFF(5),t.k0s(),t.j41(6,"mat-card-subtitle"),t.EFF(7),t.k0s()(),t.j41(8,"mat-card-content")(9,"div",36)(10,"div",37)(11,"mat-icon"),t.EFF(12,"calendar_today"),t.k0s(),t.j41(13,"span"),t.EFF(14),t.k0s()(),t.j41(15,"div",37)(16,"mat-icon"),t.EFF(17,"storage"),t.k0s(),t.j41(18,"span"),t.EFF(19),t.k0s()(),t.j41(20,"div",37)(21,"mat-icon"),t.EFF(22,"category"),t.k0s(),t.j41(23,"span")(24,"mat-chip",38),t.EFF(25),t.k0s()()()()(),t.j41(26,"mat-card-actions")(27,"button",39),t.bIt("click",function(){const r=t.eBV(e).$implicit,a=t.XpG(2);return t.Njj(a.downloadBackup(r))}),t.j41(28,"mat-icon"),t.EFF(29,"download"),t.k0s(),t.EFF(30," \u0421\u043a\u0430\u0447\u0430\u0442\u044c "),t.k0s(),t.j41(31,"button",40),t.bIt("click",function(){const r=t.eBV(e).$implicit,a=t.XpG(2);return t.Njj(a.restoreBackup(r))}),t.j41(32,"mat-icon"),t.EFF(33,"restore"),t.k0s(),t.EFF(34," \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c "),t.k0s(),t.j41(35,"button",41),t.bIt("click",function(){const r=t.eBV(e).$implicit,a=t.XpG(2);return t.Njj(a.deleteBackup(r))}),t.j41(36,"mat-icon"),t.EFF(37,"delete"),t.k0s(),t.EFF(38," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),t.k0s()()()}if(2&i){const e=p.$implicit,n=t.XpG(2);t.R7$(2),t.Y8G("color",n.getBackupColor(e.type)),t.R7$(),t.SpI(" ",n.getBackupIcon(e.type)," "),t.R7$(2),t.JRh(e.name),t.R7$(2),t.JRh(n.getRelativeTime(e.createdAt)),t.R7$(7),t.JRh(n.formatDate(e.createdAt)),t.R7$(5),t.JRh(e.sizeFormatted),t.R7$(5),t.Y8G("color",n.getBackupColor(e.type)),t.R7$(),t.SpI(" ","mysql"===e.type?"MySQL":"SQLite"," ")}}function S(i,p){if(1&i&&(t.j41(0,"div",22),t.Z7z(1,R,39,8,"mat-card",34,_),t.k0s()),2&i){const e=t.XpG();t.R7$(),t.Dyx(e.backups())}}let z=(()=>{class i{constructor(){this.backupService=(0,t.WQX)(d),this.toastService=(0,t.WQX)(c.f),this.authService=(0,t.WQX)(F.u),this.dialog=(0,t.WQX)(E.bZ),this.backups=(0,t.vPA)([]),this.isLoading=(0,t.vPA)(!1),this.isCreating=(0,t.vPA)(!1),this.isUploading=(0,t.vPA)(!1),this.uploadProgress=(0,t.vPA)(0),this.selectedFile=(0,t.vPA)(null),this.hasBackups=(0,t.EWP)(()=>this.backups().length>0),this.canManageBackups=this.authService.isAdmin(),this.totalBackupSize=(0,t.EWP)(()=>{const e=this.backups().reduce((n,r)=>n+r.size,0);return this.formatBytes(e)})}ngOnInit(){this.canManageBackups&&this.loadBackups()}loadBackups(){this.isLoading.set(!0),this.backupService.listBackups().subscribe({next:e=>{this.backups.set(e.backups),this.isLoading.set(!1)},error:e=>{console.error("Failed to load backups:",e),this.toastService.showError("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0431\u044d\u043a\u0430\u043f\u043e\u0432"),this.isLoading.set(!1)}})}createBackup(){this.isCreating()||!confirm("\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u044d\u043a\u0430\u043f \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445?\n\n\u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u043d\u044f\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0438\u043d\u0443\u0442 \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445.")||(this.isCreating.set(!0),this.toastService.showInfo("\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0431\u044d\u043a\u0430\u043f\u0430... \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435"),this.backupService.createBackup().subscribe({next:n=>{this.isCreating.set(!1),this.toastService.showSuccess("\u0411\u044d\u043a\u0430\u043f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d"),this.loadBackups()},error:n=>{console.error("Failed to create backup:",n),this.isCreating.set(!1),this.toastService.showError("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u044d\u043a\u0430\u043f")}}))}onFileSelected(e){const n=e.target;if(!n.files?.length)return;const r=n.files[0],a=this.backupService.validateBackupFile(r);a.valid?(this.selectedFile.set(r),this.uploadBackup(r)):this.toastService.showError(a.error||"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u0430\u0439\u043b")}uploadBackup(e){this.isUploading()||(this.isUploading.set(!0),this.uploadProgress.set(0),this.backupService.uploadBackup(e).subscribe({next:n=>{this.isUploading.set(!1),this.uploadProgress.set(100),this.selectedFile.set(null),this.toastService.showSuccess(`\u0424\u0430\u0439\u043b "${n.fileName}" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d`),this.loadBackups()},error:n=>{console.error("Failed to upload backup:",n),this.isUploading.set(!1),this.selectedFile.set(null),this.toastService.showError("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0430\u0439\u043b \u0431\u044d\u043a\u0430\u043f\u0430")}}))}restoreBackup(e){!confirm(`\u26a0\ufe0f \u0412\u041d\u0418\u041c\u0410\u041d\u0418\u0415: \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0448\u0435\u0442 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445!\n\n\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0431\u0430\u0437\u0443 \u0438\u0437 \u0431\u044d\u043a\u0430\u043f\u0430:\n${e.name}?\n\n\u0420\u0430\u0437\u043c\u0435\u0440: ${e.sizeFormatted}\n\u0414\u0430\u0442\u0430: ${new Date(e.createdAt).toLocaleString("ru-RU")}\n\n\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0431\u044d\u043a\u0430\u043f \u043f\u0435\u0440\u0435\u0434 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u043c.`)||!confirm("\u26a0\ufe0f \u041f\u041e\u0421\u041b\u0415\u0414\u041d\u0415\u0415 \u041f\u0420\u0415\u0414\u0423\u041f\u0420\u0415\u0416\u0414\u0415\u041d\u0418\u0415!\n\n\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435?\n\u0412\u0441\u0435 \u0442\u0435\u043a\u0443\u0449\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u044b!")||(this.isLoading.set(!0),this.toastService.showInfo("\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445... \u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u043d\u044f\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0438\u043d\u0443\u0442"),this.backupService.restoreBackup(e.name).subscribe({next:a=>{this.isLoading.set(!1),this.toastService.showSuccess("\u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430! \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0431\u0443\u0434\u0435\u0442 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u0430 \u0447\u0435\u0440\u0435\u0437 3 \u0441\u0435\u043a\u0443\u043d\u0434\u044b"),setTimeout(()=>{window.location.reload()},3e3)},error:a=>{console.error("Failed to restore backup:",a),this.isLoading.set(!1),this.toastService.showError("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u0431\u044d\u043a\u0430\u043f\u0430")}}))}downloadBackup(e){this.toastService.showInfo(`\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0435 "${e.name}"...`);try{this.backupService.downloadAndSaveBackup(e.name),this.toastService.showSuccess("\u0424\u0430\u0439\u043b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043a\u0430\u0447\u0430\u043d")}catch(n){console.error("Failed to download backup:",n),this.toastService.showError("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u0431\u044d\u043a\u0430\u043f\u0430")}}deleteBackup(e){confirm(`\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u044d\u043a\u0430\u043f "${e.name}"?\n\n\u0420\u0430\u0437\u043c\u0435\u0440: ${e.sizeFormatted}\n\u0414\u0430\u0442\u0430: ${new Date(e.createdAt).toLocaleString("ru-RU")}\n\n\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u043e!`)&&(this.isLoading.set(!0),this.backupService.deleteBackup(e.name).subscribe({next:r=>{this.isLoading.set(!1),this.toastService.showSuccess("\u0411\u044d\u043a\u0430\u043f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d"),this.loadBackups()},error:r=>{console.error("Failed to delete backup:",r),this.isLoading.set(!1),this.toastService.showError("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u044d\u043a\u0430\u043f")}}))}cleanupOldBackups(){const e=prompt("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u044d\u043a\u0430\u043f\u044b \u0441\u0442\u0430\u0440\u0448\u0435 (\u0434\u043d\u0435\u0439):\n\n\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043d\u0435\u0439. \u0411\u044d\u043a\u0430\u043f\u044b \u0441\u0442\u0430\u0440\u0448\u0435 \u044d\u0442\u043e\u0433\u043e \u0441\u0440\u043e\u043a\u0430 \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u044b.","30");if(!e)return;const n=parseInt(e,10);isNaN(n)||n<1?this.toastService.showError("\u041d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043d\u0435\u0439"):confirm(`\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u0431\u044d\u043a\u0430\u043f\u044b \u0441\u0442\u0430\u0440\u0448\u0435 ${n} \u0434\u043d\u0435\u0439?\n\n\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u043e!`)&&(this.isLoading.set(!0),this.backupService.cleanupOldBackups(n).subscribe({next:a=>{this.isLoading.set(!1),this.toastService.showSuccess(`\u0423\u0434\u0430\u043b\u0435\u043d\u043e ${a.deletedCount} \u0441\u0442\u0430\u0440\u044b\u0445 \u0431\u044d\u043a\u0430\u043f\u043e\u0432`),this.loadBackups()},error:a=>{console.error("Failed to cleanup backups:",a),this.isLoading.set(!1),this.toastService.showError("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0441\u0442\u0430\u0440\u044b\u0435 \u0431\u044d\u043a\u0430\u043f\u044b")}}))}getBackupIcon(e){return"mysql"===e?"storage":"database"}getBackupColor(e){return"mysql"===e?"primary":"accent"}formatBytes(e){if(0===e)return"0 Bytes";const a=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,a)*100)/100+" "+["Bytes","KB","MB","GB"][a]}formatDate(e){return new Date(e).toLocaleString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}getRelativeTime(e){const n=new Date,r=new Date(e),a=n.getTime()-r.getTime(),g=Math.floor(a/6e4),f=Math.floor(a/36e5),y=Math.floor(a/864e5);return g<1?"\u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e":g<60?`${g} \u043c\u0438\u043d. \u043d\u0430\u0437\u0430\u0434`:f<24?`${f} \u0447. \u043d\u0430\u0437\u0430\u0434`:y<30?`${y} \u0434\u043d. \u043d\u0430\u0437\u0430\u0434`:this.formatDate(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-backups"]],standalone:!0,features:[t.aNF],decls:111,vars:9,consts:[["fileInput",""],[1,"backups-container"],[1,"page-header"],[1,"header-content"],[1,"title-section"],[1,"page-icon"],[1,"subtitle"],[1,"header-actions"],["type","file","accept",".sql,.sqlite",2,"display","none",3,"change"],["mat-raised-button","","color","accent",3,"click","disabled"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-content"],["color","primary"],[1,"stat-details"],["color","accent"],["color","warn"],[1,"stat-card","action-card",3,"click"],[1,"loading-container"],[1,"upload-progress-card"],[1,"empty-state"],[1,"backups-grid"],[1,"info-card"],["mat-card-avatar","","color","primary"],[1,"info-section"],[1,"docs-card"],["diameter","20",1,"inline-spinner"],[1,"upload-progress"],[1,"progress-details"],["mode","indeterminate","color","accent"],[1,"empty-state-actions"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],[1,"backup-card"],["mat-card-avatar","",3,"color"],[1,"backup-details"],[1,"detail-row"],[3,"color"],["mat-button","","color","primary","matTooltip","\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0431\u044d\u043a\u0430\u043f",3,"click"],["mat-button","","color","accent","matTooltip","\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u0437 \u0431\u044d\u043a\u0430\u043f\u0430",3,"click"],["mat-button","","color","warn","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u044d\u043a\u0430\u043f",3,"click"]],template:function(n,r){if(1&n){const a=t.RV6();t.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"mat-icon",5),t.EFF(5,"backup"),t.k0s(),t.j41(6,"div")(7,"h1"),t.EFF(8,"\u0420\u0435\u0437\u0435\u0440\u0432\u043d\u043e\u0435 \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"),t.k0s(),t.j41(9,"p",6),t.EFF(10,"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u044d\u043a\u0430\u043f\u0430\u043c\u0438 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445"),t.k0s()()(),t.j41(11,"div",7)(12,"input",8,0),t.bIt("change",function(f){return t.eBV(a),t.Njj(r.onFileSelected(f))}),t.k0s(),t.j41(14,"button",9),t.bIt("click",function(){t.eBV(a);const f=t.sdS(13);return t.Njj(f.click())}),t.j41(15,"mat-icon"),t.EFF(16,"upload_file"),t.k0s(),t.EFF(17," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0431\u044d\u043a\u0430\u043f "),t.k0s(),t.j41(18,"button",10),t.bIt("click",function(){return t.eBV(a),t.Njj(r.createBackup())}),t.j41(19,"mat-icon"),t.EFF(20,"add"),t.k0s(),t.DNE(21,v,2,0)(22,w,1,0),t.k0s()()()(),t.j41(23,"div",11)(24,"mat-card",12)(25,"mat-card-content")(26,"div",13)(27,"mat-icon",14),t.EFF(28,"backup"),t.k0s(),t.j41(29,"div",15)(30,"h3"),t.EFF(31),t.k0s(),t.j41(32,"p"),t.EFF(33,"\u0412\u0441\u0435\u0433\u043e \u0431\u044d\u043a\u0430\u043f\u043e\u0432"),t.k0s()()()()(),t.j41(34,"mat-card",12)(35,"mat-card-content")(36,"div",13)(37,"mat-icon",16),t.EFF(38,"storage"),t.k0s(),t.j41(39,"div",15)(40,"h3"),t.EFF(41),t.k0s(),t.j41(42,"p"),t.EFF(43,"\u041e\u0431\u0449\u0438\u0439 \u0440\u0430\u0437\u043c\u0435\u0440"),t.k0s()()()()(),t.j41(44,"mat-card",12)(45,"mat-card-content")(46,"div",13)(47,"mat-icon",17),t.EFF(48,"schedule"),t.k0s(),t.j41(49,"div",15)(50,"h3"),t.EFF(51,"\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u043e"),t.k0s(),t.j41(52,"p"),t.EFF(53,"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0431\u044d\u043a\u0430\u043f\u044b"),t.k0s()()()()(),t.j41(54,"mat-card",18),t.bIt("click",function(){return t.eBV(a),t.Njj(r.cleanupOldBackups())}),t.j41(55,"mat-card-content")(56,"div",13)(57,"mat-icon"),t.EFF(58,"delete_sweep"),t.k0s(),t.j41(59,"div",15)(60,"h3"),t.EFF(61,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),t.k0s(),t.j41(62,"p"),t.EFF(63,"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u0440\u044b\u0435 \u0431\u044d\u043a\u0430\u043f\u044b"),t.k0s()()()()()(),t.DNE(64,D,4,0,"div",19)(65,j,9,0,"mat-card",20)(66,A,17,0,"mat-card",21)(67,S,3,0,"div",22),t.j41(68,"mat-card",23)(69,"mat-card-header")(70,"mat-icon",24),t.EFF(71,"info"),t.k0s(),t.j41(72,"mat-card-title"),t.EFF(73,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0431\u044d\u043a\u0430\u043f\u0430\u0445"),t.k0s()(),t.j41(74,"mat-card-content")(75,"div",25)(76,"h3"),t.EFF(77,"\u{1f4c5} \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0431\u044d\u043a\u0430\u043f\u044b"),t.k0s(),t.j41(78,"p"),t.EFF(79,"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u0431\u044d\u043a\u0430\u043f 1-\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043c\u0435\u0441\u044f\u0446\u0430 \u0432 2:00 \u043d\u043e\u0447\u0438"),t.k0s(),t.j41(80,"h3"),t.EFF(81,"\u{1f4be} \u0425\u0440\u0430\u043d\u0435\u043d\u0438\u0435"),t.k0s(),t.j41(82,"p"),t.EFF(83,"\u0411\u044d\u043a\u0430\u043f\u044b \u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f 30 \u0434\u043d\u0435\u0439 \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0443\u0434\u0430\u043b\u044f\u044e\u0442\u0441\u044f \u043f\u043e \u0438\u0441\u0442\u0435\u0447\u0435\u043d\u0438\u0438 \u0441\u0440\u043e\u043a\u0430"),t.k0s(),t.j41(84,"h3"),t.EFF(85,"\u26a0\ufe0f \u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435"),t.k0s(),t.j41(86,"p"),t.EFF(87,"\u041f\u0440\u0438 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u0435\u043a\u0443\u0449\u0430\u044f \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u0430\u043d\u0430. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0431\u044d\u043a\u0430\u043f \u043f\u0435\u0440\u0435\u0434 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u043c"),t.k0s(),t.j41(88,"h3"),t.EFF(89,"\u{1f4e4} \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430"),t.k0s(),t.j41(90,"p"),t.EFF(91,"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0444\u0430\u0439\u043b\u044b .sql (MySQL) \u0438 .sqlite (SQLite). \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440: 100MB"),t.k0s(),t.j41(92,"h3"),t.EFF(93,"\u{1f512} \u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c"),t.k0s(),t.j41(94,"p"),t.EFF(95,"\u0422\u043e\u043b\u044c\u043a\u043e \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u044b \u0438\u043c\u0435\u044e\u0442 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044e \u0431\u044d\u043a\u0430\u043f\u0430\u043c\u0438. \u0412\u0441\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043b\u043e\u0433\u0438\u0440\u0443\u044e\u0442\u0441\u044f"),t.k0s()()()(),t.j41(96,"mat-card",26)(97,"mat-card-content")(98,"h3")(99,"mat-icon"),t.EFF(100,"menu_book"),t.k0s(),t.EFF(101," \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f "),t.k0s(),t.j41(102,"p"),t.EFF(103,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0435 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e \u043f\u043e \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u0431\u044d\u043a\u0430\u043f\u0430\u043c\u0438:"),t.k0s(),t.j41(104,"ul")(105,"li"),t.EFF(106,"BACKUP_QUICK_START.md - \u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0441\u0442\u0430\u0440\u0442"),t.k0s(),t.j41(107,"li"),t.EFF(108,"docs/BACKUP_BEST_PRACTICES.md - \u041b\u0443\u0447\u0448\u0438\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0438"),t.k0s(),t.j41(109,"li"),t.EFF(110,"docs/VM_MANAGEMENT_BACKUP_README.md - \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0430 VM"),t.k0s()()()()()}2&n&&(t.R7$(14),t.Y8G("disabled",r.isLoading()||r.isUploading()),t.R7$(4),t.Y8G("disabled",r.isLoading()||r.isCreating()),t.R7$(3),t.vxM(21,r.isCreating()?21:22),t.R7$(10),t.JRh(r.backups().length),t.R7$(10),t.JRh(r.totalBackupSize()),t.R7$(23),t.vxM(64,r.isLoading()?64:-1),t.R7$(),t.vxM(65,r.isUploading()?65:-1),t.R7$(),t.vxM(66,r.isLoading()||r.hasBackups()?-1:66),t.R7$(),t.vxM(67,!r.isLoading()&&r.hasBackups()?67:-1))},dependencies:[x.MD,s.G,M.$z,P.An,l.RN,l.YY,l.QG,l.m2,l.MM,l.Lc,l.dh,k.LG,h.Jl,O.oV,C.PO,C.HM,k.D6,l.Hu,M.Hl,P.m_,h.YN,O.uc],styles:[".backups-container[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto}.page-header[_ngcontent-%COMP%]{margin-bottom:24px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:16px}.page-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.page-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .page-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.page-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:28px;font-weight:500;color:#000000de}.page-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:4px 0 0;font-size:14px;color:#0009}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .inline-spinner[_ngcontent-%COMP%]{margin-right:8px;display:inline-block;vertical-align:middle}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px;margin-bottom:24px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{cursor:default;transition:all .3s ease}.stats-grid[_ngcontent-%COMP%]   .stat-card.action-card[_ngcontent-%COMP%]{cursor:pointer}.stats-grid[_ngcontent-%COMP%]   .stat-card.action-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #0000001a}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-details[_ngcontent-%COMP%]{flex:1}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:500;color:#000000de}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:14px;color:#0009}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:64px;text-align:center}.loading-container[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{margin-bottom:16px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#0009;font-size:16px}.upload-progress-card[_ngcontent-%COMP%]{margin-bottom:24px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.upload-progress-card[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.upload-progress-card[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px}.upload-progress-card[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]   .progress-details[_ngcontent-%COMP%]{flex:1}.upload-progress-card[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]   .progress-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;font-size:18px;font-weight:500}.upload-progress-card[_ngcontent-%COMP%]   .upload-progress[_ngcontent-%COMP%]   .progress-details[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{border-radius:4px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:64px 32px}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:96px;width:96px;height:96px;color:#0000001f;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:24px;font-weight:400;color:#000000de}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:#0009;font-size:16px}.empty-state[_ngcontent-%COMP%]   .empty-state-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}.empty-state[_ngcontent-%COMP%]   .empty-state-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.backups-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:16px;margin-bottom:24px}.backups-grid[_ngcontent-%COMP%]   .backup-card[_ngcontent-%COMP%]{transition:all .3s ease}.backups-grid[_ngcontent-%COMP%]   .backup-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 16px #0000001a}.backups-grid[_ngcontent-%COMP%]   .backup-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-icon[mat-card-avatar][_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.backups-grid[_ngcontent-%COMP%]   .backup-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin-bottom:4px;word-break:break-all}.backups-grid[_ngcontent-%COMP%]   .backup-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{font-size:12px}.backups-grid[_ngcontent-%COMP%]   .backup-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px}.backups-grid[_ngcontent-%COMP%]   .backup-card[_ngcontent-%COMP%]   .backup-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.backups-grid[_ngcontent-%COMP%]   .backup-card[_ngcontent-%COMP%]   .backup-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#000000b3}.backups-grid[_ngcontent-%COMP%]   .backup-card[_ngcontent-%COMP%]   .backup-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;color:#0000008a}.backups-grid[_ngcontent-%COMP%]   .backup-card[_ngcontent-%COMP%]   .backup-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{height:24px;font-size:12px}.backups-grid[_ngcontent-%COMP%]   .backup-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 16px;border-top:1px solid rgba(0,0,0,.12)}.backups-grid[_ngcontent-%COMP%]   .backup-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;font-size:13px}.backups-grid[_ngcontent-%COMP%]   .backup-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;margin-right:4px}.info-card[_ngcontent-%COMP%]{margin-bottom:16px}.info-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:16px}.info-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-icon[mat-card-avatar][_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.info-card[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:16px 0 8px;font-size:16px;font-weight:500;color:#000000de}.info-card[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]:first-child{margin-top:0}.info-card[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;color:#0009;line-height:1.6}.docs-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.docs-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0 0 12px;font-size:18px;font-weight:500}.docs-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.docs-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 12px;font-size:14px;opacity:.9}.docs-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px}.docs-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:8px 0;font-size:14px;font-family:Courier New,monospace}@media (max-width: 768px){.backups-container[_ngcontent-%COMP%]{padding:16px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}.stats-grid[_ngcontent-%COMP%], .backups-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .page-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px}.page-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:22px}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:13px}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.backup-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.backup-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})}}return i})()},609:(B,b,o)=>{o.d(b,{HM:()=>P,PO:()=>O});var t=o(4292),E=(o(9351),o(7694));function C(s,m){1&s&&t.nrm(0,"div",2)}const k=new t.nKC("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let P=(()=>{class s{constructor(u,d,c,F,_){this._elementRef=u,this._ngZone=d,this._changeDetectorRef=c,this._animationMode=F,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new t.bkB,this._mode="determinate",this._transitionendHandler=v=>{0===this.animationEnd.observers.length||!v.target||!v.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===F,_&&(_.color&&(this.color=this._defaultColor=_.color),this.mode=_.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(u){this._color=u}get value(){return this._value}set value(u){this._value=h(u||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(u){this._bufferValue=h(u||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(u){this._mode=u,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static{this.\u0275fac=function(d){return new(d||s)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(t.gRc),t.rXU(t.bc$,8),t.rXU(k,8))}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(d,c){2&d&&(t.BMQ("aria-valuenow",c._isIndeterminate()?null:c.value)("mode",c.mode),t.HbH("mat-"+c.color),t.AVh("_mat-animation-noopable",c._isNoopAnimation)("mdc-linear-progress--animation-ready",!c._isNoopAnimation)("mdc-linear-progress--indeterminate",c._isIndeterminate()))},inputs:{color:"color",value:[t.Mj6.HasDecoratorInputTransform,"value","value",t.Udg],bufferValue:[t.Mj6.HasDecoratorInputTransform,"bufferValue","bufferValue",t.Udg],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[t.GFd,t.aNF],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(d,c){1&d&&(t.j41(0,"div",0),t.nrm(1,"div",1),t.DNE(2,C,1,0,"div",2),t.k0s(),t.j41(3,"div",3),t.nrm(4,"span",4),t.k0s(),t.j41(5,"div",5),t.nrm(6,"span",4),t.k0s()),2&d&&(t.R7$(),t.xc7("flex-basis",c._getBufferBarFlexBasis()),t.R7$(),t.vxM(2,"buffer"===c.mode?2:-1),t.R7$(),t.xc7("transform",c._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}.mdc-linear-progress__buffer-dots{background-color:var(--mdc-linear-progress-track-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E\")}}.mdc-linear-progress__buffer-bar{background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{display:block;text-align:start;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0})}}return s})();function h(s,m=0,u=100){return Math.max(m,Math.min(u,s))}let O=(()=>{class s{static{this.\u0275fac=function(d){return new(d||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[E.yE]})}}return s})()}}]);