"use strict";(self.webpackChunkcoffee_admin=self.webpackChunkcoffee_admin||[]).push([[341],{6573:(x,O,d)=>{d.d(O,{F2:()=>l,Re:()=>t,cD:()=>P,jB:()=>M,kc:()=>m});var t=function(r){return r.WAITING="waiting",r.ASSIGNED="assigned",r.PROCESSING="processing",r.WORKING="working",r.REVIEW="review",r.COMPLETED="completed",r.PAID_TO_ENGINEER="paid_to_engineer",r}(t||{}),M=function(r){return r.WAITING="Waiting",r.ASSIGNED="Assigned",r.PROCESSING="Processing",r.WORKING="In Progress",r.REVIEW="Under Review",r.COMPLETED="Completed",r.PAID_TO_ENGINEER="Paid to Engineer",r}(M||{}),l=function(r){return r.URBAN="urban",r.SUBURBAN="suburban",r.RURAL="rural",r.HOME="home",r.ZONE_1="zone_1",r.ZONE_2="zone_2",r.ZONE_3="zone_3",r}(l||{}),P=function(r){return r.STAFF="staff",r.CONTRACT="contract",r}(P||{}),m=function(r){return r.MANUAL="manual",r.AUTOMATIC="automatic",r.EMAIL="email",r.API="api",r}(m||{})},6341:(x,O,d)=>{d.r(O),d.d(O,{DashboardComponent:()=>Pt});var t=d(4292),M=d(9351),l=d(4910),P=d(9353),m=d(5822),r=d(8953),c=d(4740),o=d(8055),s=d(8200),g=d(5320),F=d(91),v=d(8598),w=d(8497),D=d(5408),$=d(6093),f=d(7317);const A=()=>[],R=()=>["engineerName","completedOrders","totalHours","organizationPayments","engineerEarnings","profit","profitMargin"];function I(e,i){1&e&&(t.j41(0,"div",15)(1,"div",16),t.nrm(2,"mat-spinner",17),t.j41(3,"h3"),t.EFF(4,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0430\u043d\u0435\u043b\u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f..."),t.k0s(),t.j41(5,"p"),t.EFF(6,"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435"),t.k0s()()())}function B(e,i){1&e&&(t.j41(0,"div",47)(1,"mat-icon",48),t.EFF(2,"trending_up"),t.k0s(),t.j41(3,"span",49),t.EFF(4,"+12% \u0437\u0430 \u043c\u0435\u0441\u044f\u0446"),t.k0s()())}function T(e,i){1&e&&(t.j41(0,"div",47)(1,"mat-icon",48),t.EFF(2,"schedule"),t.k0s(),t.j41(3,"span",49),t.EFF(4,"\u041e\u0436\u0438\u0434\u0430\u044e\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438"),t.k0s()())}function U(e,i){1&e&&(t.j41(0,"div",47)(1,"mat-icon",48),t.EFF(2,"person"),t.k0s(),t.j41(3,"span",49),t.EFF(4,"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u0430\u043c"),t.k0s()())}function G(e,i){1&e&&(t.j41(0,"div",47)(1,"mat-icon",48),t.EFF(2,"work"),t.k0s(),t.j41(3,"span",49),t.EFF(4,"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),t.k0s()())}function y(e,i){1&e&&(t.j41(0,"div",47)(1,"mat-icon",48),t.EFF(2,"engineering"),t.k0s(),t.j41(3,"span",49),t.EFF(4,"\u0410\u043a\u0442\u0438\u0432\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f"),t.k0s()())}function N(e,i){1&e&&(t.j41(0,"div",47)(1,"mat-icon",48),t.EFF(2,"search"),t.k0s(),t.j41(3,"span",49),t.EFF(4,"\u041d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435"),t.k0s()())}function J(e,i){1&e&&(t.j41(0,"div",47)(1,"mat-icon",48),t.EFF(2,"done_all"),t.k0s(),t.j41(3,"span",49),t.EFF(4,"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u044b"),t.k0s()())}function W(e,i){1&e&&t.nrm(0,"section",19)}function z(e,i){if(1&e&&(t.j41(0,"div",52)(1,"span",53),t.EFF(2,"\u0411\u043e\u043d\u0443\u0441\u044b:"),t.k0s(),t.j41(3,"span",54),t.EFF(4),t.k0s()()),2&e){let n;const a=t.XpG(3);t.R7$(4),t.JRh(a.formatAmount((null==(n=a.engineerStats())?null:n.bonusEarnings)||0))}}function L(e,i){if(1&e&&(t.j41(0,"div",52)(1,"span",53),t.EFF(2,"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0447\u0430\u0441\u043e\u0432:"),t.k0s(),t.j41(3,"span",54),t.EFF(4),t.k0s()()),2&e){let n,a;const u=t.XpG(4);t.R7$(3),t.xc7("color",u.getGrowthColor((null==(n=u.engineerStats())?null:n.hoursGrowth)||0)),t.R7$(),t.Lme(" ",((null==(a=u.engineerStats())?null:a.hoursGrowth)||0)>=0?"+":"","",((null==(a=u.engineerStats())?null:a.hoursGrowth)||0).toFixed(1),"% ")}}function Y(e,i){if(1&e&&(t.j41(0,"mat-card",37)(1,"mat-card-content")(2,"div",25)(3,"mat-icon",27),t.EFF(4),t.k0s(),t.j41(5,"div",28)(6,"h3"),t.EFF(7),t.k0s(),t.j41(8,"p"),t.EFF(9,"\u0420\u043e\u0441\u0442 \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u043a\u0430"),t.k0s()()(),t.j41(10,"div",51)(11,"div",52)(12,"span",53),t.EFF(13,"\u041f\u0440\u043e\u0448\u043b\u044b\u0439 \u043c\u0435\u0441\u044f\u0446:"),t.k0s(),t.j41(14,"span",54),t.EFF(15),t.k0s()(),t.DNE(16,L,5,4,"div",55),t.k0s()()()),2&e){let n,a,u,_,E,b;const h=t.XpG(3);t.R7$(3),t.xc7("color",h.getGrowthColor((null==(n=h.engineerStats())?null:n.earningsGrowth)||0)),t.R7$(),t.SpI(" ",h.getGrowthIcon((null==(a=h.engineerStats())?null:a.earningsGrowth)||0)," "),t.R7$(2),t.xc7("color",h.getGrowthColor((null==(u=h.engineerStats())?null:u.earningsGrowth)||0)),t.R7$(),t.Lme(" ",((null==(_=h.engineerStats())?null:_.earningsGrowth)||0)>=0?"+":"","",((null==(_=h.engineerStats())?null:_.earningsGrowth)||0).toFixed(1),"% "),t.R7$(8),t.JRh(h.formatAmount((null==(E=h.engineerStats())?null:E.previousMonthEarnings)||0)),t.R7$(),t.Y8G("ngIf",null==(b=h.engineerStats())?null:b.previousMonthHours)}}function K(e,i){if(1&e&&(t.j41(0,"section",50)(1,"h2"),t.EFF(2),t.k0s(),t.j41(3,"div",23)(4,"mat-card",37)(5,"mat-card-content")(6,"div",25)(7,"mat-icon",27),t.EFF(8,"schedule"),t.k0s(),t.j41(9,"div",28)(10,"h3"),t.EFF(11),t.k0s(),t.j41(12,"p"),t.EFF(13,"\u0412\u0441\u0435\u0433\u043e \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e"),t.k0s()()(),t.j41(14,"div",51)(15,"div",52)(16,"span",53),t.EFF(17,"\u041e\u0431\u044b\u0447\u043d\u044b\u0435 \u0447\u0430\u0441\u044b:"),t.k0s(),t.j41(18,"span",54),t.EFF(19),t.k0s()(),t.j41(20,"div",52)(21,"span",53),t.EFF(22,"\u041f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u043a\u0430:"),t.k0s(),t.j41(23,"span",54),t.EFF(24),t.k0s()()()()(),t.j41(25,"mat-card",37)(26,"mat-card-content")(27,"div",25)(28,"mat-icon",27),t.EFF(29,"payments"),t.k0s(),t.j41(30,"div",28)(31,"h3"),t.EFF(32),t.k0s(),t.j41(33,"p"),t.EFF(34,"\u0412\u0441\u0435\u0433\u043e \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043e"),t.k0s()()(),t.j41(35,"div",51)(36,"div",52)(37,"span",53),t.EFF(38,"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0447\u0430\u0441\u0442\u044c:"),t.k0s(),t.j41(39,"span",54),t.EFF(40),t.k0s()(),t.j41(41,"div",52)(42,"span",53),t.EFF(43,"\u0417\u0430 \u043f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u043a\u0443:"),t.k0s(),t.j41(44,"span",54),t.EFF(45),t.k0s()(),t.DNE(46,z,5,1,"div",55),t.k0s()()(),t.j41(47,"mat-card",37)(48,"mat-card-content")(49,"div",25)(50,"mat-icon",27),t.EFF(51,"assignment_turned_in"),t.k0s(),t.j41(52,"div",28)(53,"h3"),t.EFF(54),t.k0s(),t.j41(55,"p"),t.EFF(56,"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430\u043a\u0430\u0437\u043e\u0432"),t.k0s()()(),t.j41(57,"div",51)(58,"div",52)(59,"span",53),t.EFF(60,"\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043d\u0430 \u0437\u0430\u043a\u0430\u0437:"),t.k0s(),t.j41(61,"span",54),t.EFF(62),t.k0s()()()()(),t.DNE(63,Y,17,9,"mat-card",56),t.k0s()()),2&e){let n,a,u,_,E,b,h,C,k,S,j;const p=t.XpG(2);t.R7$(2),t.Lme("\u041c\u043e\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0437\u0430 ",null==(n=p.engineerStats())?null:n.month,"/",null==(n=p.engineerStats())?null:n.year,""),t.R7$(9),t.JRh(p.formatHours((null==(a=p.engineerStats())?null:a.totalHours)||0)),t.R7$(8),t.JRh(p.formatHours((null==(u=p.engineerStats())?null:u.regularHours)||0)),t.R7$(5),t.JRh(p.formatHours((null==(_=p.engineerStats())?null:_.overtimeHours)||0)),t.R7$(8),t.JRh(p.formatAmount((null==(E=p.engineerStats())?null:E.totalEarnings)||0)),t.R7$(8),t.JRh(p.formatAmount((null==(b=p.engineerStats())?null:b.baseEarnings)||0)),t.R7$(5),t.JRh(p.formatAmount((null==(h=p.engineerStats())?null:h.overtimeEarnings)||0)),t.R7$(),t.Y8G("ngIf",null==(C=p.engineerStats())?null:C.bonusEarnings),t.R7$(8),t.JRh((null==(k=p.engineerStats())?null:k.completedOrders)||0),t.R7$(8),t.JRh(p.formatHours((null==(S=p.engineerStats())?null:S.averageHoursPerOrder)||0)),t.R7$(),t.Y8G("ngIf",null==(j=p.engineerStats())?null:j.previousMonthEarnings)}}function X(e,i){1&e&&(t.j41(0,"th",78),t.EFF(1,"\u0418\u043d\u0436\u0435\u043d\u0435\u0440"),t.k0s())}function H(e,i){if(1&e&&(t.j41(0,"td",79)(1,"div",80)(2,"strong"),t.EFF(3),t.k0s(),t.j41(4,"small"),t.EFF(5),t.k0s()()()),2&e){const n=i.$implicit;t.R7$(3),t.JRh(n.engineerName),t.R7$(2),t.JRh(n.email)}}function V(e,i){1&e&&(t.j41(0,"td",81)(1,"strong"),t.EFF(2,"\u0418\u0422\u041e\u0413\u041e:"),t.k0s()())}function Q(e,i){1&e&&(t.j41(0,"th",78),t.EFF(1,"\u0417\u0430\u043a\u0430\u0437\u043e\u0432"),t.k0s())}function Z(e,i){if(1&e&&(t.j41(0,"td",79),t.EFF(1),t.k0s()),2&e){const n=i.$implicit;t.R7$(),t.JRh(n.completedOrders)}}function q(e,i){if(1&e&&(t.j41(0,"td",81)(1,"strong"),t.EFF(2),t.k0s()()),2&e){let n;const a=t.XpG(3);t.R7$(2),t.JRh(null==(n=a.adminEngineerStats())||null==n.totals?null:n.totals.completedOrders)}}function tt(e,i){1&e&&(t.j41(0,"th",78),t.EFF(1,"\u0427\u0430\u0441\u043e\u0432"),t.k0s())}function nt(e,i){if(1&e&&(t.j41(0,"td",79),t.EFF(1),t.k0s()),2&e){const n=i.$implicit;t.R7$(),t.JRh(n.totalHours.toFixed(1))}}function et(e,i){if(1&e&&(t.j41(0,"td",81)(1,"strong"),t.EFF(2),t.k0s()()),2&e){let n;const a=t.XpG(3);t.R7$(2),t.JRh(((null==(n=a.adminEngineerStats())||null==n.totals?null:n.totals.totalHours)||0).toFixed(1))}}function at(e,i){1&e&&(t.j41(0,"th",78),t.EFF(1,"\u041e\u0442 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0439"),t.k0s())}function ot(e,i){if(1&e&&(t.j41(0,"td",79),t.EFF(1),t.k0s()),2&e){const n=i.$implicit,a=t.XpG(3);t.R7$(),t.SpI(" ",a.formatAmount(n.organizationPayments)," ")}}function it(e,i){if(1&e&&(t.j41(0,"td",81)(1,"strong"),t.EFF(2),t.k0s()()),2&e){let n;const a=t.XpG(3);t.R7$(2),t.JRh(a.formatAmount((null==(n=a.adminEngineerStats())||null==n.totals?null:n.totals.organizationPayments)||0))}}function st(e,i){1&e&&(t.j41(0,"th",78),t.EFF(1,"\u0418\u043d\u0436\u0435\u043d\u0435\u0440\u0443"),t.k0s())}function rt(e,i){if(1&e&&(t.j41(0,"td",79),t.EFF(1),t.k0s()),2&e){const n=i.$implicit,a=t.XpG(3);t.R7$(),t.SpI(" ",a.formatAmount(n.engineerEarnings)," ")}}function ut(e,i){if(1&e&&(t.j41(0,"td",81)(1,"strong"),t.EFF(2),t.k0s()()),2&e){let n;const a=t.XpG(3);t.R7$(2),t.JRh(a.formatAmount((null==(n=a.adminEngineerStats())||null==n.totals?null:n.totals.engineerEarnings)||0))}}function ct(e,i){1&e&&(t.j41(0,"th",78),t.EFF(1,"\u041f\u0440\u0438\u0431\u044b\u043b\u044c"),t.k0s())}function dt(e,i){if(1&e&&(t.j41(0,"td",79),t.EFF(1),t.k0s()),2&e){const n=i.$implicit,a=t.XpG(3);t.AVh("positive-profit",n.profit>0)("negative-profit",n.profit<0),t.R7$(),t.SpI(" ",a.formatAmount(n.profit)," ")}}function lt(e,i){if(1&e&&(t.j41(0,"td",81)(1,"strong"),t.EFF(2),t.k0s()()),2&e){let n,a;const u=t.XpG(3);t.AVh("positive-profit",((null==(n=u.adminEngineerStats())||null==n.totals?null:n.totals.profit)||0)>0),t.R7$(2),t.JRh(u.formatAmount((null==(a=u.adminEngineerStats())||null==a.totals?null:a.totals.profit)||0))}}function gt(e,i){1&e&&(t.j41(0,"th",78),t.EFF(1,"\u041c\u0430\u0440\u0436\u0430"),t.k0s())}function _t(e,i){if(1&e&&(t.j41(0,"td",79),t.EFF(1),t.k0s()),2&e){const n=i.$implicit;t.AVh("positive-profit",n.profitMargin>0)("negative-profit",n.profitMargin<0),t.R7$(),t.SpI(" ",n.profitMargin.toFixed(1),"% ")}}function pt(e,i){if(1&e&&(t.j41(0,"td",81)(1,"strong"),t.EFF(2),t.k0s()()),2&e){let n,a;const u=t.XpG(3);t.AVh("positive-profit",((null==(n=u.adminEngineerStats())||null==n.totals?null:n.totals.profitMargin)||0)>0),t.R7$(2),t.SpI("",((null==(a=u.adminEngineerStats())||null==a.totals?null:a.totals.profitMargin)||0).toFixed(1),"%")}}function mt(e,i){1&e&&t.nrm(0,"tr",82)}function ht(e,i){1&e&&t.nrm(0,"tr",83)}function ft(e,i){1&e&&t.nrm(0,"tr",84)}function Et(e,i){if(1&e&&(t.j41(0,"section",57)(1,"h2"),t.EFF(2),t.k0s(),t.j41(3,"div",58)(4,"mat-card",37)(5,"mat-card-content")(6,"div",25)(7,"mat-icon",27),t.EFF(8,"attach_money"),t.k0s(),t.j41(9,"div",28)(10,"h3"),t.EFF(11),t.k0s(),t.j41(12,"p"),t.EFF(13,"\u041e\u043f\u043b\u0430\u0442\u0430 \u043e\u0442 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0439"),t.k0s()()()()(),t.j41(14,"mat-card",37)(15,"mat-card-content")(16,"div",25)(17,"mat-icon",27),t.EFF(18,"payments"),t.k0s(),t.j41(19,"div",28)(20,"h3"),t.EFF(21),t.k0s(),t.j41(22,"p"),t.EFF(23,"\u0412\u044b\u043f\u043b\u0430\u0447\u0435\u043d\u043e \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u0430\u043c"),t.k0s()()()()(),t.j41(24,"mat-card",59)(25,"mat-card-content")(26,"div",25)(27,"mat-icon",27),t.EFF(28,"trending_up"),t.k0s(),t.j41(29,"div",28)(30,"h3"),t.EFF(31),t.k0s(),t.j41(32,"p"),t.EFF(33),t.k0s()()()()(),t.j41(34,"mat-card",37)(35,"mat-card-content")(36,"div",25)(37,"mat-icon",27),t.EFF(38,"assignment_turned_in"),t.k0s(),t.j41(39,"div",28)(40,"h3"),t.EFF(41),t.k0s(),t.j41(42,"p"),t.EFF(43,"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043e \u0437\u0430\u043a\u0430\u0437\u043e\u0432"),t.k0s()()()()()(),t.j41(44,"mat-card",60)(45,"mat-card-header")(46,"mat-card-title"),t.EFF(47,"\u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u043e \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u0430\u043c"),t.k0s()(),t.j41(48,"mat-card-content")(49,"div",61)(50,"table",62),t.qex(51,63),t.DNE(52,X,2,0,"th",64)(53,H,6,2,"td",65)(54,V,3,0,"td",66),t.bVm(),t.qex(55,67),t.DNE(56,Q,2,0,"th",64)(57,Z,2,1,"td",65)(58,q,3,1,"td",66),t.bVm(),t.qex(59,68),t.DNE(60,tt,2,0,"th",64)(61,nt,2,1,"td",65)(62,et,3,1,"td",66),t.bVm(),t.qex(63,69),t.DNE(64,at,2,0,"th",64)(65,ot,2,1,"td",65)(66,it,3,1,"td",66),t.bVm(),t.qex(67,70),t.DNE(68,st,2,0,"th",64)(69,rt,2,1,"td",65)(70,ut,3,1,"td",66),t.bVm(),t.qex(71,71),t.DNE(72,ct,2,0,"th",64)(73,dt,2,5,"td",72)(74,lt,3,3,"td",73),t.bVm(),t.qex(75,74),t.DNE(76,gt,2,0,"th",64)(77,_t,2,5,"td",72)(78,pt,3,3,"td",73),t.bVm(),t.DNE(79,mt,1,0,"tr",75)(80,ht,1,0,"tr",76)(81,ft,1,0,"tr",77),t.k0s()()()()()),2&e){let n,a,u,_,E,b,h;const C=t.XpG(2);t.R7$(2),t.Lme(" \u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u0430\u043c \u0437\u0430 ",null==(n=C.adminEngineerStats())?null:n.month,"/",null==(n=C.adminEngineerStats())?null:n.year," "),t.R7$(9),t.JRh(C.formatAmount((null==(a=C.adminEngineerStats())||null==a.totals?null:a.totals.organizationPayments)||0)),t.R7$(10),t.JRh(C.formatAmount((null==(u=C.adminEngineerStats())||null==u.totals?null:u.totals.engineerEarnings)||0)),t.R7$(10),t.JRh(C.formatAmount((null==(_=C.adminEngineerStats())||null==_.totals?null:_.totals.profit)||0)),t.R7$(2),t.SpI("\u041f\u0440\u0438\u0431\u044b\u043b\u044c (",((null==(E=C.adminEngineerStats())||null==E.totals?null:E.totals.profitMargin)||0).toFixed(1),"%)"),t.R7$(8),t.JRh((null==(b=C.adminEngineerStats())||null==b.totals?null:b.totals.completedOrders)||0),t.R7$(9),t.Y8G("dataSource",(null==(h=C.adminEngineerStats())?null:h.engineers)||t.lJ4(11,A)),t.R7$(29),t.Y8G("matHeaderRowDef",t.lJ4(12,R)),t.R7$(),t.Y8G("matRowDefColumns",t.lJ4(13,R)),t.R7$(),t.Y8G("matFooterRowDef",t.lJ4(14,R))}}function Ct(e,i){1&e&&(t.j41(0,"mat-card",85)(1,"mat-card-content")(2,"div",44)(3,"mat-icon"),t.EFF(4,"people"),t.k0s(),t.j41(5,"div")(6,"h4"),t.EFF(7,"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438"),t.k0s(),t.j41(8,"p"),t.EFF(9,"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0447\u0435\u0442\u043d\u044b\u043c\u0438 \u0437\u0430\u043f\u0438\u0441\u044f\u043c\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"),t.k0s()()()()())}function Mt(e,i){if(1&e){const n=t.RV6();t.j41(0,"div",18)(1,"section",19)(2,"div",20)(3,"h2")(4,"mat-icon"),t.EFF(5,"dashboard"),t.k0s(),t.EFF(6," \u041e\u0431\u0437\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 "),t.k0s(),t.j41(7,"div",21)(8,"button",22),t.bIt("click",function(){t.eBV(n);const u=t.XpG();return t.Njj(u.toggleStatsView())}),t.j41(9,"mat-icon"),t.EFF(10),t.k0s()()()(),t.j41(11,"div",23)(12,"mat-card",24)(13,"mat-card-content")(14,"div",25)(15,"div",26)(16,"mat-icon",27),t.EFF(17,"assignment"),t.k0s()(),t.j41(18,"div",28)(19,"h3"),t.EFF(20),t.k0s(),t.j41(21,"p"),t.EFF(22,"\u0412\u0441\u0435\u0433\u043e \u0437\u0430\u043a\u0430\u0437\u043e\u0432"),t.k0s(),t.DNE(23,B,5,0,"div",29),t.k0s()()()(),t.j41(24,"mat-card",30)(25,"mat-card-content")(26,"div",25)(27,"div",26)(28,"mat-icon",27),t.EFF(29,"schedule"),t.k0s()(),t.j41(30,"div",28)(31,"h3"),t.EFF(32),t.k0s(),t.j41(33,"p"),t.EFF(34),t.k0s(),t.DNE(35,T,5,0,"div",29),t.k0s()()()(),t.j41(36,"mat-card",31)(37,"mat-card-content")(38,"div",25)(39,"div",26)(40,"mat-icon",27),t.EFF(41,"assignment_ind"),t.k0s()(),t.j41(42,"div",28)(43,"h3"),t.EFF(44),t.k0s(),t.j41(45,"p"),t.EFF(46),t.k0s(),t.DNE(47,U,5,0,"div",29),t.k0s()()()(),t.j41(48,"mat-card",32)(49,"mat-card-content")(50,"div",25)(51,"div",26)(52,"mat-icon",27),t.EFF(53,"person_add"),t.k0s()(),t.j41(54,"div",28)(55,"h3"),t.EFF(56),t.k0s(),t.j41(57,"p"),t.EFF(58),t.k0s(),t.DNE(59,G,5,0,"div",29),t.k0s()()()(),t.j41(60,"mat-card",33)(61,"mat-card-content")(62,"div",25)(63,"div",26)(64,"mat-icon",27),t.EFF(65,"build"),t.k0s()(),t.j41(66,"div",28)(67,"h3"),t.EFF(68),t.k0s(),t.j41(69,"p"),t.EFF(70),t.k0s(),t.DNE(71,y,5,0,"div",29),t.k0s()()()(),t.j41(72,"mat-card",34)(73,"mat-card-content")(74,"div",25)(75,"div",26)(76,"mat-icon",27),t.EFF(77,"visibility"),t.k0s()(),t.j41(78,"div",28)(79,"h3"),t.EFF(80),t.k0s(),t.j41(81,"p"),t.EFF(82),t.k0s(),t.DNE(83,N,5,0,"div",29),t.k0s()()()(),t.j41(84,"mat-card",35)(85,"mat-card-content")(86,"div",25)(87,"div",26)(88,"mat-icon",27),t.EFF(89,"check_circle"),t.k0s()(),t.j41(90,"div",28)(91,"h3"),t.EFF(92),t.k0s(),t.j41(93,"p"),t.EFF(94),t.k0s(),t.DNE(95,J,5,0,"div",29),t.k0s()()()()()(),t.j41(96,"section",19)(97,"h2"),t.EFF(98,"\u0417\u0430\u043a\u0430\u0437\u044b \u043f\u043e \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430\u043c"),t.k0s(),t.j41(99,"div",36)(100,"mat-card",37)(101,"mat-card-content")(102,"div",25)(103,"mat-icon",27),t.EFF(104,"touch_app"),t.k0s(),t.j41(105,"div",28)(106,"h3"),t.EFF(107),t.k0s(),t.j41(108,"p"),t.EFF(109),t.k0s()()()()(),t.j41(110,"mat-card",37)(111,"mat-card-content")(112,"div",25)(113,"mat-icon",27),t.EFF(114,"settings"),t.k0s(),t.j41(115,"div",28)(116,"h3"),t.EFF(117),t.k0s(),t.j41(118,"p"),t.EFF(119),t.k0s()()()()(),t.j41(120,"mat-card",37)(121,"mat-card-content")(122,"div",25)(123,"mat-icon",27),t.EFF(124,"email"),t.k0s(),t.j41(125,"div",28)(126,"h3"),t.EFF(127),t.k0s(),t.j41(128,"p"),t.EFF(129),t.k0s()()()()(),t.j41(130,"mat-card",37)(131,"mat-card-content")(132,"div",25)(133,"mat-icon",27),t.EFF(134,"api"),t.k0s(),t.j41(135,"div",28)(136,"h3"),t.EFF(137),t.k0s(),t.j41(138,"p"),t.EFF(139),t.k0s()()()()()()(),t.DNE(140,W,1,0,"section",38)(141,K,64,12,"section",39)(142,Et,82,15,"section",40),t.j41(143,"section",41)(144,"h2"),t.EFF(145,"\u0411\u044b\u0441\u0442\u0440\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),t.k0s(),t.j41(146,"div",42)(147,"mat-card",43)(148,"mat-card-content")(149,"div",44)(150,"mat-icon"),t.EFF(151,"shopping_cart"),t.k0s(),t.j41(152,"div")(153,"h4"),t.EFF(154,"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"),t.k0s(),t.j41(155,"p"),t.EFF(156,"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438 \u043e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u0432\u0441\u0435\u0445 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"),t.k0s()()()()(),t.DNE(157,Ct,10,0,"mat-card",45),t.j41(158,"mat-card",43)(159,"mat-card-content")(160,"div",44)(161,"mat-icon"),t.EFF(162,"inventory"),t.k0s(),t.j41(163,"div")(164,"h4"),t.pXf(165,1),t.k0s(),t.j41(166,"p"),t.pXf(167,2),t.k0s()()()()(),t.j41(168,"mat-card",46)(169,"mat-card-content")(170,"div",44)(171,"mat-icon"),t.EFF(172,"analytics"),t.k0s(),t.j41(173,"div")(174,"h4"),t.EFF(175,"\u041e\u0442\u0447\u0435\u0442\u044b"),t.k0s(),t.j41(176,"p"),t.EFF(177,"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0445 \u043e\u0442\u0447\u0435\u0442\u043e\u0432"),t.k0s()()()()()()()()}if(2&e){const n=t.XpG();t.R7$(10),t.JRh(n.showDetailedStats()?"view_module":"view_list"),t.R7$(10),t.JRh(n.orderStats().total),t.R7$(3),t.Y8G("ngIf",n.showDetailedStats()),t.R7$(9),t.JRh(n.orderStats().waiting),t.R7$(2),t.JRh(n.getStatusDisplay("waiting")),t.R7$(),t.Y8G("ngIf",n.showDetailedStats()),t.R7$(9),t.JRh(n.orderStats().assigned),t.R7$(2),t.JRh(n.getStatusDisplay("assigned")),t.R7$(),t.Y8G("ngIf",n.showDetailedStats()),t.R7$(9),t.JRh(n.orderStats().processing),t.R7$(2),t.JRh(n.getStatusDisplay("processing")),t.R7$(),t.Y8G("ngIf",n.showDetailedStats()),t.R7$(9),t.JRh(n.orderStats().working),t.R7$(2),t.JRh(n.getStatusDisplay("working")),t.R7$(),t.Y8G("ngIf",n.showDetailedStats()),t.R7$(9),t.JRh(n.orderStats().review),t.R7$(2),t.JRh(n.getStatusDisplay("review")),t.R7$(),t.Y8G("ngIf",n.showDetailedStats()),t.R7$(9),t.JRh(n.orderStats().completed),t.R7$(2),t.JRh(n.getStatusDisplay("completed")),t.R7$(),t.Y8G("ngIf",n.showDetailedStats()),t.R7$(12),t.JRh(n.orderStats().bySource.manual),t.R7$(2),t.JRh(n.getSourceDisplay("manual")),t.R7$(8),t.JRh(n.orderStats().bySource.automatic),t.R7$(2),t.JRh(n.getSourceDisplay("automatic")),t.R7$(8),t.JRh(n.orderStats().bySource.email),t.R7$(2),t.JRh(n.getSourceDisplay("email")),t.R7$(8),t.JRh(n.orderStats().bySource.api),t.R7$(2),t.JRh(n.getSourceDisplay("api")),t.R7$(),t.Y8G("ngIf",n.showEarningsStats()),t.R7$(),t.Y8G("ngIf",n.showEngineerStats()&&n.engineerStats()),t.R7$(),t.Y8G("ngIf",n.showAdminEngineerStats()&&n.adminEngineerStats()),t.R7$(15),t.Y8G("ngIf",n.showUserStats())}}let Pt=(()=>{class e{constructor(){this.authService=(0,t.WQX)(m.u),this.ordersService=(0,t.WQX)(r.B),this.usersService=(0,t.WQX)(c.g),this.statisticsService=(0,t.WQX)(o.r),this.snackBar=(0,t.WQX)(l.UG),this.isLoading=(0,t.vPA)(!1),this.currentUser=this.authService.currentUser,this.userRole=(0,t.EWP)(()=>this.currentUser()?.role),this.orderStats=(0,t.vPA)({total:0,waiting:0,assigned:0,processing:0,working:0,review:0,completed:0,bySource:{manual:0,automatic:0,email:0,api:0}}),this.userStats=(0,t.vPA)({totalUsers:0,activeUsers:0,newUsersThisMonth:0}),this.earningsStats=(0,t.vPA)({currentMonth:null,previousMonth:null,growth:0}),this.engineerStats=(0,t.vPA)(null),this.adminEngineerStats=(0,t.vPA)(null),this.dashboardTitle=(0,t.EWP)(()=>{switch(this.userRole()){case s.gG.ADMIN:return"\u041f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430";case s.gG.MANAGER:return"\u041f\u0430\u043d\u0435\u043b\u044c \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430";case s.gG.USER:return"\u041c\u043e\u044f \u043f\u0430\u043d\u0435\u043b\u044c";default:return"\u041f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"}}),this.showUserStats=(0,t.EWP)(()=>this.authService.hasAnyRole([s.gG.ADMIN,s.gG.MANAGER])),this.showEarningsStats=(0,t.EWP)(()=>this.authService.hasAnyRole([s.gG.MANAGER,s.gG.USER])),this.showEngineerStats=(0,t.EWP)(()=>this.userRole()===s.gG.USER),this.showAdminEngineerStats=(0,t.EWP)(()=>this.userRole()===s.gG.ADMIN),this.showDetailedStats=(0,t.vPA)(!1)}ngOnInit(){this.loadDashboardData()}loadDashboardData(){this.isLoading.set(!0),this.ordersService.getOrderStats().subscribe({next:n=>{this.orderStats.set(n)},error:n=>{console.error("Failed to load order stats:",n)}}),this.showUserStats()&&this.loadUserStats(),this.showEarningsStats()&&this.loadEarningsStats(),this.showEngineerStats()&&this.loadEngineerStats(),this.showAdminEngineerStats()&&this.loadAdminEngineerStats(),this.isLoading.set(!1)}loadUserStats(){this.usersService.getUsers().subscribe({next:n=>{const a=n.data;this.userStats.set({totalUsers:a.length,activeUsers:a.filter(u=>u.isActive).length,newUsersThisMonth:a.filter(u=>{const _=new Date(u.createdAt),E=new Date;return _.getMonth()===E.getMonth()&&_.getFullYear()===E.getFullYear()}).length})},error:n=>{console.error("Failed to load user stats:",n)}})}loadEarningsStats(){this.statisticsService.getEarningsComparison().subscribe({next:n=>{this.earningsStats.set(n)},error:n=>{console.error("Failed to load earnings stats:",n)}})}getStatusDisplay(n){switch(n){case"waiting":return"\u0412 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0438";case"assigned":return"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d";case"processing":return"\u0412 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435";case"working":return"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435";case"review":return"\u041d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435";case"completed":return"\u0417\u0430\u043a\u043e\u043d\u0447\u0435\u043d\u043d\u044b\u0439";default:return n}}getSourceDisplay(n){switch(n){case"manual":return"\u0412\u0440\u0443\u0447\u043d\u0443\u044e";case"automatic":return"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438";case"email":return"\u0418\u0437 Email";case"api":return"\u0427\u0435\u0440\u0435\u0437 API";default:return n}}getGrowthColor(n){return n>0?"primary":n<0?"warn":"accent"}getGrowthIcon(n){return n>0?"trending_up":n<0?"trending_down":"trending_flat"}loadEngineerStats(){const n=new Date,a=n.getMonth()+1,u=n.getFullYear();this.statisticsService.getEngineerDetailedStats(u,a).subscribe({next:_=>{this.engineerStats.set(_)},error:_=>{console.error("Failed to load engineer statistics:",_)}})}loadAdminEngineerStats(){const n=new Date,a=n.getMonth()+1,u=n.getFullYear();this.statisticsService.getAdminEngineerStatistics(u,a).subscribe({next:_=>{this.adminEngineerStats.set(_)},error:_=>{console.error("Failed to load admin engineer statistics:",_)}})}formatHours(n){return null==n||isNaN(n)?"0 \u0447":n.toFixed(1)+" \u0447"}formatAmount(n){return null==n||isNaN(n)?"0 \u20bd":n.toLocaleString("ru-RU")+" \u20bd"}toggleStatsView(){this.showDetailedStats.set(!this.showDetailedStats())}refreshData(){this.loadDashboardData(),this.snackBar.open("\u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b","\u0417\u0430\u043a\u0440\u044b\u0442\u044c",{duration:2e3})}exportDashboard(){this.snackBar.open("\u0424\u0443\u043d\u043a\u0446\u0438\u044f \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0430 \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435","\u0417\u0430\u043a\u0440\u044b\u0442\u044c",{duration:2e3})}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[t.aNF],decls:28,vars:4,consts:()=>{let n,a;return n=$localize`:@@dashboard.inventory:Inventory`,a=$localize`:@@dashboard.manageInventory:Manage inventory and orders`,[["refreshMenu","matMenu"],n,a,[1,"dashboard-container"],[1,"dashboard-header"],[1,"header-content"],[1,"welcome-section"],[1,"dashboard-title"],[1,"dashboard-subtitle"],[1,"header-actions"],["mat-raised-button","","color","primary","routerLink","/orders",1,"quick-action-btn"],["mat-icon-button","",1,"refresh-btn",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["class","loading-container",4,"ngIf"],["class","dashboard-content",4,"ngIf"],[1,"loading-container"],[1,"loading-content"],["diameter","50"],[1,"dashboard-content"],[1,"stats-section"],[1,"section-header"],[1,"section-actions"],["mat-icon-button","","matTooltip","\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0438\u0434",3,"click"],[1,"stats-grid"],[1,"stat-card","primary"],[1,"stat-content"],[1,"stat-icon-wrapper"],[1,"stat-icon"],[1,"stat-info"],["class","stat-trend",4,"ngIf"],[1,"stat-card","warning"],[1,"stat-card","info"],[1,"stat-card","processing"],[1,"stat-card","working"],[1,"stat-card","review"],[1,"stat-card","success"],[1,"stats-grid","source-stats"],[1,"stat-card"],["class","stats-section",4,"ngIf"],["class","stats-section engineer-stats-section",4,"ngIf"],["class","stats-section admin-engineer-stats-section",4,"ngIf"],[1,"actions-section"],[1,"actions-grid"],["routerLink","/orders",1,"action-card"],[1,"action-content"],["class","action-card","routerLink","/users",4,"ngIf"],["routerLink","/reports",1,"action-card"],[1,"stat-trend"],[1,"trend-icon"],[1,"trend-text"],[1,"stats-section","engineer-stats-section"],[1,"stat-details"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],["class","detail-item",4,"ngIf"],["class","stat-card",4,"ngIf"],[1,"stats-section","admin-engineer-stats-section"],[1,"stats-grid","summary-cards"],[1,"stat-card","profit-card"],[1,"engineers-table-card"],[1,"table-container"],["mat-table","",1,"engineers-table",3,"dataSource"],["matColumnDef","engineerName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","completedOrders"],["matColumnDef","totalHours"],["matColumnDef","organizationPayments"],["matColumnDef","engineerEarnings"],["matColumnDef","profit"],["mat-cell","",3,"positive-profit","negative-profit",4,"matCellDef"],["mat-footer-cell","",3,"positive-profit",4,"matFooterCellDef"],["matColumnDef","profitMargin"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell",""],["mat-cell",""],[1,"engineer-info"],["mat-footer-cell",""],["mat-header-row",""],["mat-row",""],["mat-footer-row",""],["routerLink","/users",1,"action-card"]]},template:function(a,u){if(1&a){const _=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h1",7),t.EFF(5),t.k0s(),t.j41(6,"p",8),t.EFF(7,"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u043f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f"),t.k0s()(),t.j41(8,"div",9)(9,"button",10)(10,"mat-icon"),t.EFF(11,"add"),t.k0s(),t.EFF(12," \u041d\u043e\u0432\u044b\u0439 \u0437\u0430\u043a\u0430\u0437 "),t.k0s(),t.j41(13,"button",11)(14,"mat-icon"),t.EFF(15,"refresh"),t.k0s()(),t.j41(16,"mat-menu",null,0)(18,"button",12),t.bIt("click",function(){return t.eBV(_),t.Njj(u.refreshData())}),t.j41(19,"mat-icon"),t.EFF(20,"refresh"),t.k0s(),t.EFF(21," \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 "),t.k0s(),t.j41(22,"button",12),t.bIt("click",function(){return t.eBV(_),t.Njj(u.exportDashboard())}),t.j41(23,"mat-icon"),t.EFF(24,"download"),t.k0s(),t.EFF(25," \u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043e\u0442\u0447\u0435\u0442\u0430 "),t.k0s()()()()(),t.DNE(26,I,7,0,"div",13)(27,Mt,178,33,"div",14),t.k0s()}if(2&a){const _=t.sdS(17);t.R7$(5),t.JRh(u.dashboardTitle()),t.R7$(8),t.Y8G("matMenuTriggerFor",_),t.R7$(13),t.Y8G("ngIf",u.isLoading()),t.R7$(),t.Y8G("ngIf",!u.isLoading())}},dependencies:[M.MD,M.bT,P.G,g.$z,g.iY,F.An,v.RN,v.m2,v.MM,v.dh,w.LG,D.kk,D.fb,D.Cp,$.oV,f.Zl,f.tL,f.ji,f.cC,f.YV,f.iL,f.Zq,f.xW,f.KS,f.$R,f.Qo,f.YZ,f.NB,f.iF],styles:['.dashboard-container[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);min-height:calc(100vh - 64px);border-radius:16px;box-shadow:0 4px 20px #0000001a}.dashboard-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:16px;padding:32px;margin-bottom:32px;color:#fff;box-shadow:0 8px 32px #667eea4d}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin:0 0 8px;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.1)}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .dashboard-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;margin:0;opacity:.9;font-weight:400}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .quick-action-btn[_ngcontent-%COMP%]{background:#fff3;color:#fff;border:1px solid rgba(255,255,255,.3);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .quick-action-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:translateY(-2px);box-shadow:0 4px 12px #0003}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{color:#fff;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover{background:#fff3}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 20px;text-align:center}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:16px;box-shadow:0 8px 32px #0000001a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:20px 0 8px;color:#333;font-size:1.3rem;font-weight:600}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:1rem}.dashboard-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:40px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:32px}.stats-section[_ngcontent-%COMP%], .actions-section[_ngcontent-%COMP%]{margin-bottom:32px;background:#fff;border-radius:16px;padding:24px;box-shadow:0 4px 20px #00000014;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.stats-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%], .actions-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;padding-bottom:16px;border-bottom:2px solid #f0f0f0}.stats-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .actions-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:1.5rem;font-weight:600;margin:0;color:#333}.stats-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .actions-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea;font-size:1.4rem;width:1.4rem;height:1.4rem}.stats-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-actions[_ngcontent-%COMP%], .actions-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;text-align:center}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:#666;font-size:1.1rem}.stats-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin-bottom:20px;color:#333;border-bottom:2px solid #e0e0e0;padding-bottom:8px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}.stat-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1);border-radius:16px;overflow:hidden;position:relative;background:#fff;border:1px solid rgba(0,0,0,.05)}.stat-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#667eea,#764ba2);transition:all .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 12px 40px #00000026}.stat-card[_ngcontent-%COMP%]:hover:before{height:6px}.stat-card.primary[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#1976d2,#1565c0)}.stat-card.success[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#4caf50,#388e3c)}.stat-card.warning[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#ff9800,#f57c00)}.stat-card.info[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#2196f3,#1976d2)}.stat-card.processing[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#9c27b0,#7b1fa2)}.stat-card.working[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#ff5722,#e64a19)}.stat-card.review[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#607d8b,#455a64)}.stat-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;padding:24px}.stat-content[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:60px;height:60px;border-radius:16px;background:linear-gradient(135deg,#f8f9fa,#e9ecef);transition:all .3s ease}.stat-content[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:2rem;color:#667eea;width:2rem;height:2rem;transition:all .3s ease}.stat-content[_ngcontent-%COMP%]:hover   .stat-icon-wrapper[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);transform:scale(1.1)}.stat-content[_ngcontent-%COMP%]:hover   .stat-icon-wrapper[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{color:#fff}.stat-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{flex:1}.stat-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:700;margin:0 0 8px;color:#333;line-height:1}.stat-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin:0 0 8px;font-weight:500}.stat-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-trend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;margin-top:8px}.stat-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-trend[_ngcontent-%COMP%]   .trend-icon[_ngcontent-%COMP%]{font-size:1rem;width:1rem;height:1rem;color:#4caf50}.stat-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-trend[_ngcontent-%COMP%]   .trend-text[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-weight:500}.earnings-comparison[_ngcontent-%COMP%]{display:flex;justify-content:center}.earnings-card[_ngcontent-%COMP%]{max-width:500px;width:100%}.earnings-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:20px}.earnings-current[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;font-size:1.2rem;color:#333}.earnings-current[_ngcontent-%COMP%]   .earnings-details[_ngcontent-%COMP%]   .earnings-amount[_ngcontent-%COMP%]{margin:0;font-size:2rem;font-weight:600;color:#1976d2}.earnings-current[_ngcontent-%COMP%]   .earnings-details[_ngcontent-%COMP%]   .earnings-orders[_ngcontent-%COMP%]{margin:4px 0 0;color:#666;font-size:.9rem}.earnings-current[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#999;font-style:italic}.earnings-growth[_ngcontent-%COMP%]{text-align:center}.earnings-growth[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;display:block;margin:0 auto 8px}.earnings-growth[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;display:block}.earnings-growth[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;font-size:.8rem;color:#666}.actions-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin-bottom:20px;color:#333;border-bottom:2px solid #e0e0e0;padding-bottom:8px}.actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px}.action-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.action-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.action-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px 0}.action-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:#1976d2}.action-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:1.1rem;font-weight:500;color:#333}.action-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:.9rem}.stat-details[_ngcontent-%COMP%]{margin-top:12px;padding-top:12px;border-top:1px solid #eee}.detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:8px;font-size:14px}.detail-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.detail-label[_ngcontent-%COMP%]{color:#666}.detail-value[_ngcontent-%COMP%]{font-weight:500;color:#333}.engineer-stats-section[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px;border-radius:8px;border-left:4px solid #1976d2}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:16px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px;margin-bottom:24px}.actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.earnings-content[_ngcontent-%COMP%]{flex-direction:column;gap:20px;text-align:center}.dashboard-title[_ngcontent-%COMP%]{font-size:1.5rem}.stats-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem}}@media (max-width: 480px){.dashboard-container[_ngcontent-%COMP%]{padding:12px}.stats-grid[_ngcontent-%COMP%]{gap:12px;margin-bottom:20px}.actions-grid[_ngcontent-%COMP%]{gap:12px}}.admin-engineer-stats-section[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]{margin-bottom:24px}.admin-engineer-stats-section[_ngcontent-%COMP%]   .profit-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%], .admin-engineer-stats-section[_ngcontent-%COMP%]   .profit-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#4caf50}.admin-engineer-stats-section[_ngcontent-%COMP%]   .engineers-table-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:16px}.admin-engineer-stats-section[_ngcontent-%COMP%]   .engineers-table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{overflow-x:auto;max-width:100%}.admin-engineer-stats-section[_ngcontent-%COMP%]   .engineers-table-card[_ngcontent-%COMP%]   .engineers-table[_ngcontent-%COMP%]{width:100%;min-width:900px}.admin-engineer-stats-section[_ngcontent-%COMP%]   .engineers-table-card[_ngcontent-%COMP%]   .engineers-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;background-color:#f5f5f5;padding:12px 16px}.admin-engineer-stats-section[_ngcontent-%COMP%]   .engineers-table-card[_ngcontent-%COMP%]   .engineers-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px}.admin-engineer-stats-section[_ngcontent-%COMP%]   .engineers-table-card[_ngcontent-%COMP%]   .engineers-table[_ngcontent-%COMP%]   .engineer-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.admin-engineer-stats-section[_ngcontent-%COMP%]   .engineers-table-card[_ngcontent-%COMP%]   .engineers-table[_ngcontent-%COMP%]   .engineer-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:14px}.admin-engineer-stats-section[_ngcontent-%COMP%]   .engineers-table-card[_ngcontent-%COMP%]   .engineers-table[_ngcontent-%COMP%]   .engineer-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#666;font-size:12px}.admin-engineer-stats-section[_ngcontent-%COMP%]   .engineers-table-card[_ngcontent-%COMP%]   .engineers-table[_ngcontent-%COMP%]   .positive-profit[_ngcontent-%COMP%]{color:#4caf50;font-weight:500}.admin-engineer-stats-section[_ngcontent-%COMP%]   .engineers-table-card[_ngcontent-%COMP%]   .engineers-table[_ngcontent-%COMP%]   .negative-profit[_ngcontent-%COMP%]{color:#f44336;font-weight:500}.admin-engineer-stats-section[_ngcontent-%COMP%]   .engineers-table-card[_ngcontent-%COMP%]   .engineers-table[_ngcontent-%COMP%]   tr.mat-mdc-footer-row[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600}.admin-engineer-stats-section[_ngcontent-%COMP%]   .engineers-table-card[_ngcontent-%COMP%]   .engineers-table[_ngcontent-%COMP%]   tr.mat-mdc-footer-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:2px solid #ddd}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:16px;border-radius:0}.dashboard-header[_ngcontent-%COMP%]{padding:24px 20px;margin-bottom:24px}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{font-size:2rem}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .dashboard-subtitle[_ngcontent-%COMP%]{font-size:1rem}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.stats-section[_ngcontent-%COMP%], .actions-section[_ngcontent-%COMP%]{padding:16px;margin-bottom:24px}.stats-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%], .actions-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.stats-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .actions-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem}.stats-grid[_ngcontent-%COMP%], .actions-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.stat-content[_ngcontent-%COMP%]{padding:20px;gap:16px}.stat-content[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]{width:50px;height:50px}.stat-content[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:1.5rem;width:1.5rem;height:1.5rem}.stat-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.8rem}.stat-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}@media (max-width: 480px){.dashboard-container[_ngcontent-%COMP%]{padding:12px}.dashboard-header[_ngcontent-%COMP%]{padding:20px 16px}.dashboard-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .welcome-section[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{font-size:1.8rem}.stat-content[_ngcontent-%COMP%]{padding:16px;gap:12px}.stat-content[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]{width:40px;height:40px}.stat-content[_ngcontent-%COMP%]   .stat-icon-wrapper[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:1.2rem;height:1.2rem}.stat-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem}}']})}}return e})()},8953:(x,O,d)=>{d.d(O,{B:()=>m});var t=d(4292),M=d(6e3),l=d(878),P=d(6573);let m=(()=>{class r{constructor(){this.http=(0,t.WQX)(M.Qq)}createOrder(o){return this.http.post(`${l.c.apiUrl}/orders`,o)}getOrders(o={}){let s=new M.Nl;return Object.entries(o).forEach(([g,F])=>{null!=F&&""!==F&&(s=F instanceof Date?s.set(g,F.toISOString()):s.set(g,F.toString()))}),this.http.get(`${l.c.apiUrl}/orders`,{params:s})}getOrderStats(){return this.http.get(`${l.c.apiUrl}/orders/stats`)}getOrder(o){return this.http.get(`${l.c.apiUrl}/orders/${o}`)}updateOrder(o,s){return this.http.patch(`${l.c.apiUrl}/orders/${o}`,s)}assignEngineer(o,s){return this.http.post(`${l.c.apiUrl}/orders/${o}/assign-engineer`,s)}acceptOrder(o){return console.log("\u2705 Frontend: Accepting order",o),this.http.post(`${l.c.apiUrl}/orders/${o}/accept`,{})}deleteOrder(o){return this.http.delete(`${l.c.apiUrl}/orders/${o}`)}startOrder(o){return this.updateOrder(o,{status:P.Re.WORKING})}completeOrder(o){return this.updateOrder(o,{status:P.Re.COMPLETED})}updateMultipleOrders(o,s){return this.http.patch(`${l.c.apiUrl}/orders/batch`,{ids:o,updates:s})}completeWork(o,s){return this.http.post(`${l.c.apiUrl}/orders/${o}/complete-work`,s)}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=t.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})()},8055:(x,O,d)=>{d.d(O,{r:()=>P});var t=d(4292),M=d(6e3),l=d(878);let P=(()=>{class m{constructor(){this.http=(0,t.WQX)(M.Qq)}getEarningsComparison(){return this.http.get(`${l.c.apiUrl}/statistics/earnings/comparison`)}getMonthlyStatistics(c,o){let s="";if(c||o){const g=[];c&&g.push(`year=${c}`),o&&g.push(`month=${o}`),s="?"+g.join("&")}return this.http.get(`${l.c.apiUrl}/statistics/monthly${s}`)}getComprehensiveStatistics(c,o,s){let g=[];c&&g.push(`year=${c}`),o&&g.push(`month=${o}`),void 0!==s?.includeTimeBased&&g.push(`includeTimeBased=${s.includeTimeBased}`),void 0!==s?.includeFinancial&&g.push(`includeFinancial=${s.includeFinancial}`),void 0!==s?.includeRankings&&g.push(`includeRankings=${s.includeRankings}`),void 0!==s?.includeForecast&&g.push(`includeForecast=${s.includeForecast}`);const F=g.length>0?"?"+g.join("&"):"";return this.http.get(`${l.c.apiUrl}/statistics/comprehensive${F}`)}getEngineerDetailedStats(c,o){let s="";if(c||o){const g=[];c&&g.push(`year=${c}`),o&&g.push(`month=${o}`),s="?"+g.join("&")}return this.http.get(`${l.c.apiUrl}/statistics/engineer/detailed${s}`)}getAdminEngineerStatistics(c,o){let s="";if(c||o){const g=[];c&&g.push(`year=${c}`),o&&g.push(`month=${o}`),s="?"+g.join("&")}return this.http.get(`${l.c.apiUrl}/statistics/admin/engineers${s}`)}getCarPaymentStatus(c,o){return this.http.get(`${l.c.apiUrl}/statistics/car-payment-status`,{params:{year:c.toString(),month:o.toString()}})}static{this.\u0275fac=function(o){return new(o||m)}}static{this.\u0275prov=t.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},4740:(x,O,d)=>{d.d(O,{g:()=>P});var t=d(4292),M=d(6e3),l=d(878);let P=(()=>{class m{constructor(){this.http=(0,t.WQX)(M.Qq)}getUsers(c){let o=new M.Nl;return c&&Object.entries(c).forEach(([s,g])=>{null!=g&&""!==g&&(o=o.set(s,g.toString()))}),this.http.get(`${l.c.apiUrl}/users`,{params:o})}getUser(c){return this.http.get(`${l.c.apiUrl}/users/${c}`)}createUser(c){return this.http.post(`${l.c.apiUrl}/users`,c)}updateUser(c,o){return this.http.patch(`${l.c.apiUrl}/users/${c}`,o)}deleteUser(c){return this.http.delete(`${l.c.apiUrl}/users/${c}`)}checkUserDeletion(c){return this.http.delete(`${l.c.apiUrl}/users/${c}`)}forceDeleteUser(c){return this.http.delete(`${l.c.apiUrl}/users/${c}/force`)}getUserProfile(){return this.http.get(`${l.c.apiUrl}/users/profile`)}updateProfile(c){return this.http.patch(`${l.c.apiUrl}/users/profile`,c)}static{this.\u0275fac=function(o){return new(o||m)}}static{this.\u0275prov=t.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()}}]);