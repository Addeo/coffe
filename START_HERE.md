# üöÄ –ù–ê–ß–ù–ò–¢–ï –û–¢–°–Æ–î–ê - –î–µ–ø–ª–æ–π –Ω–∞ VPS

## ‚úÖ –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ VPS:

```
IP –∞–¥—Ä–µ—Å:    192.144.12.102
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: user1
–ü–∞—Ä–æ–ª—å:       coffeAdmin123!
–°–µ—Ä–≤–µ—Ä:       vm-46609d42d (Cloud.ru)
OS:           Ubuntu 22.04
–†–µ—Å—É—Ä—Å—ã:      2 vCPU, 4 GB RAM, 30 GB SSD
```

---

## üìã –ß—Ç–æ –¥–µ–ª–∞—Ç—å (–ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏):

### ‚úÖ –®–ê–ì 1: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VPS –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –µ–≥–æ (5 –º–∏–Ω—É—Ç)

–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VPS:
ssh user1@192.144.12.102
# –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å: coffeAdmin123!

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã (–ø–æ –æ—á–µ—Ä–µ–¥–∏):

sudo apt update && sudo apt upgrade -y

sudo apt install -y docker.io docker-compose git curl

sudo usermod -aG docker user1

mkdir -p ~/coffe

docker --version

# –í—ã–π–¥–∏—Ç–µ –∏ –∑–∞–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞:
exit
ssh user1@192.144.12.102
```

**‚úÖ VPS –≥–æ—Ç–æ–≤!**

---

### ‚úÖ –®–ê–ì 2: –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ GitHub (10 –º–∏–Ω—É—Ç)

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   ```
   https://github.com/Addeo/coffe-deploy/settings/secrets/actions
   ```

2. **–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É:** `New repository secret`

3. **–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª:** `YOUR_GITHUB_SECRETS.txt` (–≤ —ç—Ç–æ–π –ø–∞–ø–∫–µ)

4. **–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–∫—Ä–µ—Ç–∞:**
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Name** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `VPS_HOST`)
   - –í—Å—Ç–∞–≤—å—Ç–µ –≤ –ø–æ–ª–µ "Name" –Ω–∞ GitHub
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Value** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `192.144.12.102`)
   - –í—Å—Ç–∞–≤—å—Ç–µ –≤ –ø–æ–ª–µ "Secret" –Ω–∞ GitHub
   - –ù–∞–∂–º–∏—Ç–µ **"Add secret"**

5. **–î–æ–±–∞–≤—å—Ç–µ –≤—Å–µ 12 —Å–µ–∫—Ä–µ—Ç–æ–≤** (—Å–ø–∏—Å–æ–∫ –≤ —Ñ–∞–π–ª–µ `YOUR_GITHUB_SECRETS.txt`)

**‚ö†Ô∏è –í–∞–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å:**
- `SMTP_USER` - –≤–∞—à Gmail –∞–¥—Ä–µ—Å
- `SMTP_PASS` - –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Gmail (–ø–æ–ª—É—á–∏—Ç—å —Ç—É—Ç: https://myaccount.google.com/apppasswords)

**‚úÖ –°–µ–∫—Ä–µ—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã!**

---

### ‚úÖ –®–ê–ì 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π (1 –º–∏–Ω—É—Ç–∞)

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –Ω–∞ –≤–∞—à–µ–º Mac:

```bash
cd /Users/sergejkosilov/WebstormProjects/new\ goal/coffe

git add .github/workflows/deploy-vps.yml
git add docs/VPS_DEPLOY_CLOUDRU.md
git add VPS_QUICK_START.md
git add STEP_BY_STEP.md
git add DEPLOY_CHEATSHEET.md
git add vps-setup-commands.sh

git commit -m "Setup automatic VPS deployment"

git push origin main
```

**‚úÖ –ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!**

---

### ‚úÖ –®–ê–ì 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–µ–ø–ª–æ–π (10 –º–∏–Ω—É—Ç)

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   ```
   https://github.com/Addeo/coffe-deploy/actions
   ```

2. **–í—ã —É–≤–∏–¥–∏—Ç–µ:**
   ```
   üîÑ Deploy to VPS (Cloud.ru)
      Running...
   ```

3. **–î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:**
   ```
   ‚úÖ Deploy to VPS (Cloud.ru)
      ‚úì Completed (5-10 –º–∏–Ω—É—Ç)
   ```

4. **–ï—Å–ª–∏ –æ—à–∏–±–∫–∞:**
   - –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ workflow
   - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏
   - –ü–æ–∫–∞–∂–∏—Ç–µ –º–Ω–µ –æ—à–∏–±–∫—É

**‚úÖ –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à—ë–Ω!**

---

### ‚úÖ –®–ê–ì 5: –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ! üéâ

–í –±—Ä–∞—É–∑–µ—Ä–µ –æ—Ç–∫—Ä–æ–π—Ç–µ:

```
Frontend (–æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ):
http://192.144.12.102:4000

Backend API (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏):
http://192.144.12.102:3001/api/test
```

**–õ–æ–≥–∏–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
- Email: `admin@coffee.com`
- –ü–∞—Ä–æ–ª—å: `admin123` (–∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞ –Ω–∞ VPS)

---

## üêõ –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ VPS:

```bash
ssh user1@192.144.12.102

cd ~/coffe

# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
docker-compose -f docker-compose.prod.yml ps

# –õ–æ–≥–∏ backend:
docker-compose -f docker-compose.prod.yml logs -f backend

# –õ–æ–≥–∏ frontend:
docker-compose -f docker-compose.prod.yml logs -f frontend

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ë:
docker-compose -f docker-compose.prod.yml restart
```

---

## üìä –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:

- üîó **Frontend:** http://192.144.12.102:4000
- üîó **Backend API:** http://192.144.12.102:3001/api
- üîó **GitHub Actions:** https://github.com/Addeo/coffe-deploy/actions
- üîó **GitHub Secrets:** https://github.com/Addeo/coffe-deploy/settings/secrets/actions

---

## ‚úÖ Checklist:

- [ ] –ü–æ–¥–∫–ª—é—á–∏–ª—Å—è –∫ VPS (ssh user1@192.144.12.102)
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏–ª Docker –Ω–∞ VPS
- [ ] –î–æ–±–∞–≤–∏–ª –≤—Å–µ 12 —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ GitHub
- [ ] –°–¥–µ–ª–∞–ª git push
- [ ] –î–æ–∂–¥–∞–ª—Å—è –∑–µ–ª—ë–Ω–æ–π –≥–∞–ª–æ—á–∫–∏ –≤ GitHub Actions
- [ ] –û—Ç–∫—Ä—ã–ª http://192.144.12.102:4000
- [ ] –ó–∞–ª–æ–≥–∏–Ω–∏–ª—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## üéØ –í—Å—ë –≥–æ—Ç–æ–≤–æ!

**–°–ª–µ–¥—É–π—Ç–µ —à–∞–≥–∞–º –≤—ã—à–µ, –∏ —á–µ—Ä–µ–∑ 20 –º–∏–Ω—É—Ç —É –≤–∞—Å –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—é—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ VPS!** üöÄ

**–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã - –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∂–∏—Ç–µ –º–Ω–µ –æ—à–∏–±–∫—É –∏–ª–∏ —Å–∫—Ä–∏–Ω—à–æ—Ç!**

