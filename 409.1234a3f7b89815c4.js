"use strict";(self.webpackChunkcoffee_admin=self.webpackChunkcoffee_admin||[]).push([[409],{8409:(D,l,e)=>{e.r(l),e.d(l,{SettingsComponent:()=>O});var t=e(4292),g=e(9351),n=e(7199),s=e(8598),r=e(6721),c=e(3505),_=e(5320),d=e(91),h=e(1980),p=e(4536),E=e(4910),f=e(8497),C=e(3501),F=e(7694);function P(i,M){if(1&i&&(t.j41(0,"mat-option",19),t.EFF(1),t.k0s()),2&i){const a=M.$implicit;t.Y8G("value",a.value),t.R7$(),t.SpI(" ",a.label," ")}}let O=(()=>{class i{constructor(){this.fb=(0,t.WQX)(n.ok),this.snackBar=(0,t.WQX)(E.UG),this.themeService=(0,t.WQX)(C.F),this.isLoading=(0,t.vPA)(!1),this.currentTheme=this.themeService.currentTheme,this.effectiveTheme=this.themeService.effectiveTheme,this.themes=[{value:"light",label:"\u0421\u0432\u0435\u0442\u043b\u0430\u044f",icon:"light_mode"},{value:"dark",label:"\u0422\u0435\u043c\u043d\u0430\u044f",icon:"dark_mode"},{value:"auto",label:"\u0410\u0432\u0442\u043e (\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u0430\u044f)",icon:"brightness_auto"}],this.languages=[{value:"en",label:"English"},{value:"ru",label:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"}],this.initializeForm()}ngOnInit(){this.settingsForm.patchValue({theme:this.currentTheme()}),this.settingsForm.get("theme")?.valueChanges.subscribe(a=>{this.themeService.setTheme(a)})}initializeForm(){this.settingsForm=this.fb.group({siteName:["Coffee Admin",[n.k0.required]],theme:[this.themeService.currentTheme(),[n.k0.required]],language:["ru",[n.k0.required]],emailNotifications:[!0],pushNotifications:[!1],autoSave:[!0],itemsPerPage:[10,[n.k0.required,n.k0.min(5),n.k0.max(100)]],timezone:["UTC",[n.k0.required]]})}getCurrentThemeIcon(){return this.themes.find(o=>o.value===this.currentTheme())?.icon||"brightness_auto"}getEffectiveThemeLabel(){return"dark"===this.effectiveTheme()?"\u0442\u0435\u043c\u043d\u0430\u044f":"\u0441\u0432\u0435\u0442\u043b\u0430\u044f"}saveSettings(){this.settingsForm.valid&&(this.isLoading.set(!0),console.log("Saving settings:",this.settingsForm.value),setTimeout(()=>{this.isLoading.set(!1),this.snackBar.open("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b","\u0417\u0430\u043a\u0440\u044b\u0442\u044c",{duration:3e3})},1e3))}resetToDefaults(){this.settingsForm.patchValue({theme:"light",language:"en",emailNotifications:!0,pushNotifications:!1,autoSave:!0,itemsPerPage:10,timezone:"UTC"}),this.snackBar.open("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0431\u0440\u043e\u0448\u0435\u043d\u044b \u043a \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e","\u0417\u0430\u043a\u0440\u044b\u0442\u044c",{duration:2e3})}exportSettings(){this.snackBar.open("\u0424\u0443\u043d\u043a\u0446\u0438\u044f \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0441\u043a\u043e\u0440\u043e \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430","\u0417\u0430\u043a\u0440\u044b\u0442\u044c",{duration:2e3})}importSettings(){this.snackBar.open("\u0424\u0443\u043d\u043a\u0446\u0438\u044f \u0438\u043c\u043f\u043e\u0440\u0442\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0441\u043a\u043e\u0440\u043e \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430","\u0417\u0430\u043a\u0440\u044b\u0442\u044c",{duration:2e3})}static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-settings"]],standalone:!0,features:[t.aNF],decls:78,vars:5,consts:[[1,"settings-container"],[1,"header"],[3,"ngSubmit","formGroup"],[1,"settings-grid"],[1,"settings-section"],["appearance","outline",1,"form-field"],["matInput","","formControlName","siteName"],["formControlName","language"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","number","formControlName","itemsPerPage"],[1,"toggle-setting"],["formControlName","emailNotifications"],["formControlName","pushNotifications"],["formControlName","autoSave"],["matInput","","formControlName","timezone"],[1,"settings-section","actions-section"],[1,"action-buttons"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-button","","type","button",3,"click"],[3,"value"]],template:function(o,u){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"h1"),t.EFF(3,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b"),t.k0s(),t.j41(4,"p"),t.EFF(5,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0438 \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0435\u043d\u0438\u0439"),t.k0s()(),t.j41(6,"form",2),t.bIt("ngSubmit",function(){return u.saveSettings()}),t.j41(7,"div",3)(8,"mat-card",4)(9,"mat-card-header")(10,"mat-card-title"),t.EFF(11,"\u041e\u0431\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),t.k0s()(),t.j41(12,"mat-card-content")(13,"mat-form-field",5)(14,"mat-label"),t.EFF(15,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0430\u0439\u0442\u0430"),t.k0s(),t.nrm(16,"input",6),t.k0s(),t.j41(17,"mat-form-field",5)(18,"mat-label"),t.EFF(19,"\u042f\u0437\u044b\u043a"),t.k0s(),t.j41(20,"mat-select",7),t.DNE(21,P,2,2,"mat-option",8),t.k0s()(),t.j41(22,"mat-form-field",5)(23,"mat-label"),t.EFF(24,"\u042d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435"),t.k0s(),t.nrm(25,"input",9),t.k0s()()(),t.j41(26,"mat-card",4)(27,"mat-card-header")(28,"mat-card-title"),t.EFF(29,"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),t.k0s()(),t.j41(30,"mat-card-content")(31,"div",10)(32,"span"),t.EFF(33,"Email \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),t.k0s(),t.nrm(34,"mat-slide-toggle",11),t.k0s(),t.j41(35,"div",10)(36,"span"),t.EFF(37,"Push \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),t.k0s(),t.nrm(38,"mat-slide-toggle",12),t.k0s()()(),t.j41(39,"mat-card",4)(40,"mat-card-header")(41,"mat-card-title"),t.EFF(42,"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),t.k0s()(),t.j41(43,"mat-card-content")(44,"div",10)(45,"span"),t.EFF(46,"\u0410\u0432\u0442\u043e\u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435"),t.k0s(),t.nrm(47,"mat-slide-toggle",13),t.k0s(),t.j41(48,"mat-form-field",5)(49,"mat-label"),t.EFF(50,"\u0427\u0430\u0441\u043e\u0432\u043e\u0439 \u043f\u043e\u044f\u0441"),t.k0s(),t.nrm(51,"input",14),t.k0s()()(),t.j41(52,"mat-card",15)(53,"mat-card-header")(54,"mat-card-title"),t.EFF(55,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),t.k0s()(),t.j41(56,"mat-card-content")(57,"div",16)(58,"button",17)(59,"mat-icon"),t.EFF(60),t.k0s(),t.j41(61,"span"),t.EFF(62),t.k0s()(),t.j41(63,"button",18),t.bIt("click",function(){return u.resetToDefaults()}),t.j41(64,"mat-icon"),t.EFF(65,"restore"),t.k0s(),t.j41(66,"span"),t.EFF(67,"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043a \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"),t.k0s()(),t.j41(68,"button",18),t.bIt("click",function(){return u.exportSettings()}),t.j41(69,"mat-icon"),t.EFF(70,"download"),t.k0s(),t.j41(71,"span"),t.EFF(72,"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a"),t.k0s()(),t.j41(73,"button",18),t.bIt("click",function(){return u.importSettings()}),t.j41(74,"mat-icon"),t.EFF(75,"upload"),t.k0s(),t.j41(76,"span"),t.EFF(77,"\u0418\u043c\u043f\u043e\u0440\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a"),t.k0s()()()()()()()()),2&o&&(t.R7$(6),t.Y8G("formGroup",u.settingsForm),t.R7$(15),t.Y8G("ngForOf",u.languages),t.R7$(37),t.Y8G("disabled",u.isLoading()||u.settingsForm.invalid),t.R7$(2),t.JRh(u.isLoading()?"refresh":"save"),t.R7$(2),t.JRh(u.isLoading()?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"))},dependencies:[g.MD,g.Sq,n.X1,n.qT,n.me,n.Q0,n.BC,n.cb,n.j4,n.JD,s.Hu,s.RN,s.m2,s.MM,s.dh,r.RG,r.rl,r.nJ,c.fS,c.fg,_.Hl,_.$z,d.m_,d.An,h.mV,h.sG,p.Ve,p.VO,F.wT,f.D6],styles:[".settings-container[_ngcontent-%COMP%]{padding:20px;max-width:1000px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:32px;text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;color:#333}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:1.1rem}.settings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:24px}.settings-section[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content}.settings-section[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.settings-section[_ngcontent-%COMP%]   .toggle-setting[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #e0e0e0}.settings-section[_ngcontent-%COMP%]   .toggle-setting[_ngcontent-%COMP%]:last-child{border-bottom:none}.settings-section[_ngcontent-%COMP%]   .toggle-setting[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;color:#333}  .mat-mdc-option .theme-option-icon{display:inline-block;vertical-align:middle;margin-right:8px;font-size:20px;width:20px;height:20px}.actions-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px}.actions-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:48px}@media (max-width: 768px){.settings-container[_ngcontent-%COMP%]{padding:16px}.settings-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.actions-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{grid-template-columns:1fr}.actions-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}}@media (max-width: 480px){.settings-section[_ngcontent-%COMP%]   .toggle-setting[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}}"]})}}return i})()}}]);