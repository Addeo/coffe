"use strict";(self.webpackChunkcoffee_admin=self.webpackChunkcoffee_admin||[]).push([[220],{7220:(x,h,a)=>{a.r(h),a.d(h,{EngineerRatesComponent:()=>dt});var t=a(4292),m=a(9351),s=a(7317),f=a(5320),d=a(91),F=a(1613),i=a(8598),l=a(4165),E=a(1488),p=a(8613),C=a(6721),M=a(3505),_=a(4536),R=a(6093),O=a(8497),c=a(7199),D=a(1253),b=a(4740),v=a(5720),B=a(5822),$=a(4193),k=a(4755),P=a(8200),j=a(1980),I=a(1084),z=a(7694);function A(n,r){if(1&n&&(t.j41(0,"mat-option",34),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.Lme(" ",e.firstName," ",e.lastName," ")}}function S(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u0430 "),t.k0s())}function w(n,r){if(1&n&&(t.j41(0,"mat-option",34),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function N(n,r){1&n&&(t.j41(0,"mat-error"),t.EFF(1," \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044e "),t.k0s())}function G(n,r){if(1&n&&(t.j41(0,"div",28)(1,"div",29)(2,"mat-form-field",30)(3,"mat-label"),t.EFF(4,"\u0418\u043d\u0436\u0435\u043d\u0435\u0440"),t.k0s(),t.j41(5,"mat-select",31),t.DNE(6,A,2,3,"mat-option",32),t.k0s(),t.DNE(7,S,2,0,"mat-error",27),t.k0s(),t.j41(8,"mat-form-field",30)(9,"mat-label"),t.EFF(10,"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f"),t.k0s(),t.j41(11,"mat-select",33),t.DNE(12,w,2,2,"mat-option",32),t.k0s(),t.DNE(13,N,2,0,"mat-error",27),t.k0s()()()),2&n){let e,o;const u=t.XpG();t.R7$(6),t.Y8G("ngForOf",u.engineers()),t.R7$(),t.Y8G("ngIf",null==(e=u.rateForm.get("engineerId"))?null:e.hasError("required")),t.R7$(5),t.Y8G("ngForOf",u.organizations()),t.R7$(),t.Y8G("ngIf",null==(o=u.rateForm.get("organizationId"))?null:o.hasError("required"))}}function T(n,r){if(1&n&&(t.j41(0,"div",35)(1,"div",36)(2,"strong"),t.EFF(3,"\u0418\u043d\u0436\u0435\u043d\u0435\u0440:"),t.k0s(),t.EFF(4),t.k0s(),t.j41(5,"div",36)(6,"strong"),t.EFF(7,"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f:"),t.k0s(),t.EFF(8),t.k0s()()),2&n){const e=t.XpG();t.R7$(4),t.SpI(" ",e.getEngineerName(e.data.rate.engineerId)," "),t.R7$(4),t.SpI(" ",e.data.rate.organizationName," ")}}function y(n,r){1&n&&t.nrm(0,"mat-spinner",37)}function U(n,r){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.JRh(e.data.isEdit?"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")}}let Y=(()=>{class n{constructor(){this.fb=(0,t.WQX)(c.ok),this.dialogRef=(0,t.WQX)(l.CP),this.engineerRatesService=(0,t.WQX)(D.n),this.usersService=(0,t.WQX)(b.g),this.organizationsService=(0,t.WQX)(v.k),this.toastService=(0,t.WQX)(k.f),this.data=(0,t.WQX)(l.Vh),this.isLoading=(0,t.vPA)(!1),this.engineers=(0,t.vPA)([]),this.organizations=(0,t.vPA)([]),this.rateForm=this.fb.group({engineerId:[""],organizationId:[""],customBaseRate:[null,[c.k0.min(0)]],customOvertimeRate:[null,[c.k0.min(0)]],customZone1Extra:[null,[c.k0.min(0)]],customZone2Extra:[null,[c.k0.min(0)]],customZone3Extra:[null,[c.k0.min(0)]]})}ngOnInit(){this.loadEngineers(),this.loadOrganizations(),this.data.isEdit&&this.data.rate?(this.rateForm.patchValue({engineerId:this.data.rate.engineerId,organizationId:this.data.rate.organizationId,customBaseRate:this.data.rate.customBaseRate,customOvertimeRate:this.data.rate.customOvertimeRate,customZone1Extra:this.data.rate.customZone1Extra,customZone2Extra:this.data.rate.customZone2Extra,customZone3Extra:this.data.rate.customZone3Extra}),this.rateForm.get("engineerId")?.disable(),this.rateForm.get("organizationId")?.disable()):(this.rateForm.get("engineerId")?.setValidators([c.k0.required]),this.rateForm.get("organizationId")?.setValidators([c.k0.required]))}loadEngineers(){this.usersService.getUsers().subscribe({next:e=>{this.engineers.set(e.data.filter(o=>o.role===P.gG.USER))},error:e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u0432:",e)}})}loadOrganizations(){this.organizationsService.getOrganizations().subscribe({next:e=>{this.organizations.set(e.data)},error:e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0439:",e)}})}getEngineerName(e){const o=this.engineers().find(u=>u.id===e);return o?`${o.firstName} ${o.lastName}`:`\u0418\u043d\u0436\u0435\u043d\u0435\u0440 ${e}`}onSave(){this.rateForm.invalid||(this.isLoading.set(!0),this.data.isEdit&&this.data.rate?this.updateRate():this.createRate())}createRate(){const e=this.rateForm.value;this.engineerRatesService.createRate({engineerId:e.engineerId,organizationId:e.organizationId,customBaseRate:e.customBaseRate||void 0,customOvertimeRate:e.customOvertimeRate||void 0,customZone1Extra:e.customZone1Extra||void 0,customZone2Extra:e.customZone2Extra||void 0,customZone3Extra:e.customZone3Extra||void 0}).subscribe({next:u=>{this.toastService.showSuccess("\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0441\u0442\u0430\u0432\u043e\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430"),this.dialogRef.close(u)},error:u=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043a\u0438:",u),this.toastService.showError("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0441\u0442\u0430\u0432\u043e\u043a. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),this.isLoading.set(!1)}})}updateRate(){if(!this.data.rate)return;const e=this.rateForm.value;this.engineerRatesService.updateRate(this.data.rate.id,{customBaseRate:e.customBaseRate||void 0,customOvertimeRate:e.customOvertimeRate||void 0,customZone1Extra:e.customZone1Extra||void 0,customZone2Extra:e.customZone2Extra||void 0,customZone3Extra:e.customZone3Extra||void 0}).subscribe({next:u=>{this.toastService.showSuccess("\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0441\u0442\u0430\u0432\u043e\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430"),this.dialogRef.close(u)},error:u=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043a\u0438:",u),this.toastService.showError("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0441\u0442\u0430\u0432\u043e\u043a. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),this.isLoading.set(!1)}})}onCancel(){this.dialogRef.close()}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-engineer-rate-dialog"]],standalone:!0,features:[t.aNF],decls:77,vars:7,consts:[[1,"engineer-rate-dialog"],["mat-dialog-title",""],[1,"rate-form",3,"formGroup"],["class","selection-section",4,"ngIf"],["class","info-section",4,"ngIf"],[1,"rates-table-container"],[1,"rates-table"],[1,"rate-label"],[1,"rate-input"],["appearance","outline"],["matInput","","formControlName","customBaseRate","type","number","step","0.01","min","0","placeholder","\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"],[1,"rate-description"],["matInput","","formControlName","customOvertimeRate","type","number","step","0.01","min","0","placeholder","\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"],[1,"zone-separator"],["colspan","3"],[1,"zone-header"],["matInput","","formControlName","customZone1Extra","type","number","step","0.01","min","0","placeholder","\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"],["matInput","","formControlName","customZone2Extra","type","number","step","0.01","min","0","placeholder","\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"],["matInput","","formControlName","customZone3Extra","type","number","step","0.01","min","0","placeholder","\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"],[1,"form-row","status-row"],[1,"toggle-field"],["formControlName","isActive"],[1,"toggle-hint"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],["diameter","20",4,"ngIf"],[4,"ngIf"],[1,"selection-section"],[1,"form-row"],["appearance","outline",1,"form-field"],["formControlName","engineerId","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","organizationId","required",""],[3,"value"],[1,"info-section"],[1,"info-item"],["diameter","20"]],template:function(o,u){1&o&&(t.j41(0,"div",0)(1,"h2",1),t.EFF(2),t.k0s(),t.j41(3,"mat-dialog-content")(4,"form",2),t.DNE(5,G,14,4,"div",3)(6,T,9,2,"div",4),t.j41(7,"div",5)(8,"table",6)(9,"thead")(10,"tr")(11,"th"),t.EFF(12,"\u0422\u0438\u043f \u0441\u0442\u0430\u0432\u043a\u0438"),t.k0s(),t.j41(13,"th"),t.EFF(14,"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 (\u0440\u0443\u0431)"),t.k0s(),t.j41(15,"th"),t.EFF(16,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),t.k0s()()(),t.j41(17,"tbody")(18,"tr")(19,"td",7),t.EFF(20,"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430"),t.k0s(),t.j41(21,"td",8)(22,"mat-form-field",9),t.nrm(23,"input",10),t.k0s()(),t.j41(24,"td",11),t.EFF(25,"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 \u0437\u0430 \u0447\u0430\u0441 \u0440\u0430\u0431\u043e\u0442\u044b"),t.k0s()(),t.j41(26,"tr")(27,"td",7),t.EFF(28,"\u0421\u0442\u0430\u0432\u043a\u0430 \u043f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u043a\u0438"),t.k0s(),t.j41(29,"td",8)(30,"mat-form-field",9),t.nrm(31,"input",12),t.k0s()(),t.j41(32,"td",11),t.EFF(33,"\u0424\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 \u0437\u0430 \u043f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u043a\u0443"),t.k0s()(),t.j41(34,"tr",13)(35,"td",14)(36,"div",15)(37,"mat-icon"),t.EFF(38,"location_on"),t.k0s(),t.j41(39,"span"),t.EFF(40,"\u0417\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0434\u0431\u0430\u0432\u043a\u0438"),t.k0s()()()(),t.j41(41,"tr")(42,"td",7),t.EFF(43,"\u041d\u0430\u0434\u0431\u0430\u0432\u043a\u0430 \u0437\u0430 \u0437\u043e\u043d\u0443 1"),t.k0s(),t.j41(44,"td",8)(45,"mat-form-field",9),t.nrm(46,"input",16),t.k0s()(),t.j41(47,"td",11),t.EFF(48,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043e\u043f\u043b\u0430\u0442\u0430 \u0437\u0430 \u0437\u043e\u043d\u0443 1"),t.k0s()(),t.j41(49,"tr")(50,"td",7),t.EFF(51,"\u041d\u0430\u0434\u0431\u0430\u0432\u043a\u0430 \u0437\u0430 \u0437\u043e\u043d\u0443 2"),t.k0s(),t.j41(52,"td",8)(53,"mat-form-field",9),t.nrm(54,"input",17),t.k0s()(),t.j41(55,"td",11),t.EFF(56,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043e\u043f\u043b\u0430\u0442\u0430 \u0437\u0430 \u0437\u043e\u043d\u0443 2"),t.k0s()(),t.j41(57,"tr")(58,"td",7),t.EFF(59,"\u041d\u0430\u0434\u0431\u0430\u0432\u043a\u0430 \u0437\u0430 \u0437\u043e\u043d\u0443 3"),t.k0s(),t.j41(60,"td",8)(61,"mat-form-field",9),t.nrm(62,"input",18),t.k0s()(),t.j41(63,"td",11),t.EFF(64,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043e\u043f\u043b\u0430\u0442\u0430 \u0437\u0430 \u0437\u043e\u043d\u0443 3"),t.k0s()()()()(),t.j41(65,"div",19)(66,"div",20)(67,"mat-slide-toggle",21),t.EFF(68," \u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f "),t.k0s(),t.j41(69,"span",22),t.EFF(70," \u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0434\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 "),t.k0s()()()()(),t.j41(71,"mat-dialog-actions",23)(72,"button",24),t.bIt("click",function(){return u.onCancel()}),t.EFF(73,"\u041e\u0442\u043c\u0435\u043d\u0430"),t.k0s(),t.j41(74,"button",25),t.bIt("click",function(){return u.onSave()}),t.DNE(75,y,1,0,"mat-spinner",26)(76,U,2,1,"span",27),t.k0s()()()),2&o&&(t.R7$(2),t.SpI(" ",u.data.isEdit?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u0430":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0441\u0442\u0430\u0432\u043e\u043a"," "),t.R7$(2),t.Y8G("formGroup",u.rateForm),t.R7$(),t.Y8G("ngIf",!u.data.isEdit),t.R7$(),t.Y8G("ngIf",u.data.isEdit&&u.data.rate),t.R7$(68),t.Y8G("disabled",u.rateForm.invalid||u.isLoading()),t.R7$(),t.Y8G("ngIf",u.isLoading()),t.R7$(),t.Y8G("ngIf",!u.isLoading()))},dependencies:[m.MD,m.Sq,m.bT,c.X1,c.qT,c.me,c.Q0,c.BC,c.cb,c.YS,c.VZ,c.j4,c.JD,l.hM,l.BI,l.E7,l.Yi,C.RG,C.rl,C.nJ,C.TL,M.fS,M.fg,f.Hl,f.$z,_.Ve,_.VO,z.wT,d.m_,d.An,O.D6,O.LG,j.mV,j.sG,I.RI],styles:[".engineer-rate-dialog[_ngcontent-%COMP%]{min-width:700px;max-width:90vw;border-radius:12px;overflow:hidden}h2[mat-dialog-title][_ngcontent-%COMP%]{margin:0;padding:24px 24px 16px;font-size:24px;font-weight:500;color:#1976d2;border-bottom:1px solid #e0e0e0}.rate-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding:24px;max-height:70vh;overflow-y:auto}.selection-section[_ngcontent-%COMP%], .info-section[_ngcontent-%COMP%]{margin-bottom:16px;padding:16px;background-color:#f5f5f5;border-radius:8px}.info-section[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{margin-bottom:8px;font-size:14px}.info-section[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#1976d2}.rates-table-container[_ngcontent-%COMP%]{margin-top:20px;overflow-x:auto}.rates-table[_ngcontent-%COMP%]{width:100%;border-collapse:separate;border-spacing:0;border:1px solid #e0e0e0;border-radius:8px;overflow:hidden}.rates-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f5f5f5}.rates-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:16px;text-align:left;font-weight:600;color:#1976d2;font-size:14px;border-bottom:2px solid #e0e0e0}.rates-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .2s}.rates-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(.zone-separator):hover{background-color:#f9f9f9}.rates-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:not(:last-child):not(.zone-separator)   td[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0}.rates-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;vertical-align:middle}.rate-label[_ngcontent-%COMP%]{font-weight:500;color:#333;min-width:180px}.rate-input[_ngcontent-%COMP%]{width:200px}.rate-input[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;margin:0}.rate-input[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{margin-bottom:0}.rate-input[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{padding:0}.rate-description[_ngcontent-%COMP%]{color:#666;font-size:13px}.zone-separator[_ngcontent-%COMP%]{background-color:#f0f7ff!important}.zone-separator[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-top:2px solid #e0e0e0;border-bottom:2px solid #e0e0e0}.zone-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#1976d2;font-weight:600;font-size:14px}.zone-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.form-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-start}.form-row.status-row[_ngcontent-%COMP%]{margin-top:16px;padding-top:16px;border-top:1px solid #e0e0e0}.form-field[_ngcontent-%COMP%]{flex:1;min-width:0}.toggle-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;width:100%}.toggle-hint[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-left:16px}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-dialog-content[_ngcontent-%COMP%]{padding:0!important}mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 24px 24px;margin:0;border-top:1px solid #e0e0e0;justify-content:flex-end;gap:12px}button[_ngcontent-%COMP%]{min-width:100px;border-radius:8px;text-transform:uppercase;font-weight:500;letter-spacing:.5px}button[color=primary][_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}button[color=primary][_ngcontent-%COMP%]:disabled{background-color:#ccc;color:#666}.mat-mdc-form-field[_ngcontent-%COMP%]{margin-bottom:0}.mat-mdc-form-field-outline[_ngcontent-%COMP%]{border-radius:8px}mat-error[_ngcontent-%COMP%]{font-size:12px;margin-top:4px}@media (max-width: 768px){.engineer-rate-dialog[_ngcontent-%COMP%]{min-width:95vw;margin:16px}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.rate-form[_ngcontent-%COMP%]{padding:16px;gap:16px}h2[mat-dialog-title][_ngcontent-%COMP%]{padding:20px 16px 12px;font-size:20px}mat-dialog-actions[_ngcontent-%COMP%]{padding:12px 16px 20px;flex-direction:column;gap:8px}button[_ngcontent-%COMP%]{width:100%;min-width:unset}.rates-table-container[_ngcontent-%COMP%]{margin-top:16px}.rates-table[_ngcontent-%COMP%]{font-size:13px}.rates-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rates-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 12px}.rate-label[_ngcontent-%COMP%]{min-width:140px;font-size:13px}.rate-input[_ngcontent-%COMP%]{width:150px}.rate-description[_ngcontent-%COMP%]{font-size:12px}}"]})}}return n})();const X=()=>[10,25,50];function V(n,r){if(1&n&&(t.j41(0,"mat-option",37),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.Lme(" ",e.firstName," ",e.lastName," ")}}function L(n,r){if(1&n&&(t.j41(0,"mat-option",37),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}function Z(n,r){1&n&&(t.j41(0,"th",38),t.EFF(1,"\u0418\u043d\u0436\u0435\u043d\u0435\u0440"),t.k0s())}function Q(n,r){if(1&n&&(t.j41(0,"td",39),t.EFF(1),t.k0s()),2&n){const e=r.$implicit,o=t.XpG();t.R7$(),t.JRh(o.getEngineerName(e))}}function W(n,r){1&n&&(t.j41(0,"th",38),t.EFF(1,"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f"),t.k0s())}function H(n,r){if(1&n&&(t.j41(0,"td",39),t.EFF(1),t.k0s()),2&n){const e=r.$implicit;t.R7$(),t.JRh(e.organizationName)}}function J(n,r){1&n&&(t.j41(0,"th",38),t.EFF(1,"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430 (\u20bd/\u0447)"),t.k0s())}function K(n,r){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"number"),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.customBaseRate,"1.2-2")," ")}}function q(n,r){1&n&&(t.j41(0,"span",41),t.EFF(1,"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"),t.k0s())}function tt(n,r){if(1&n&&(t.j41(0,"td",39),t.DNE(1,K,3,4,"span",40)(2,q,2,0,"ng-template",null,0,t.C5r),t.k0s()),2&n){const e=r.$implicit,o=t.sdS(3);t.R7$(),t.Y8G("ngIf",e.customBaseRate)("ngIfElse",o)}}function et(n,r){1&n&&(t.j41(0,"th",38),t.EFF(1,"\u0421\u0442\u0430\u0432\u043a\u0430 \u043f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u043a\u0438 (\u20bd/\u0447)"),t.k0s())}function nt(n,r){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"number"),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",t.i5U(2,1,e.customOvertimeRate,"1.2-2")," ")}}function ut(n,r){1&n&&(t.j41(0,"span",41),t.EFF(1,"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"),t.k0s())}function ot(n,r){if(1&n&&(t.j41(0,"td",39),t.DNE(1,nt,3,4,"span",40)(2,ut,2,0,"ng-template",null,1,t.C5r),t.k0s()),2&n){const e=r.$implicit,o=t.sdS(3);t.R7$(),t.Y8G("ngIf",e.customOvertimeRate)("ngIfElse",o)}}function at(n,r){1&n&&(t.j41(0,"th",42),t.EFF(1,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),t.k0s())}function it(n,r){if(1&n){const e=t.RV6();t.j41(0,"td",39)(1,"button",43),t.bIt("click",function(){const u=t.eBV(e).$implicit,g=t.XpG();return t.Njj(g.onEditRate(u))}),t.j41(2,"mat-icon"),t.EFF(3,"edit"),t.k0s()(),t.j41(4,"button",44),t.bIt("click",function(){const u=t.eBV(e).$implicit,g=t.XpG();return t.Njj(g.onDeleteRate(u))}),t.j41(5,"mat-icon"),t.EFF(6,"delete"),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(),t.Y8G("matTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0441\u0442\u0430\u0432\u043e\u043a")("disabled",!e.canEditRates),t.R7$(3),t.Y8G("disabled",!e.canEditRates)}}function rt(n,r){1&n&&t.nrm(0,"tr",45)}function st(n,r){1&n&&t.nrm(0,"tr",46)}function ct(n,r){1&n&&(t.j41(0,"div",47),t.nrm(1,"mat-spinner",48),t.k0s())}function lt(n,r){if(1&n){const e=t.RV6();t.j41(0,"div",49)(1,"mat-icon",50),t.EFF(2,"info"),t.k0s(),t.j41(3,"h3"),t.EFF(4,"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0441\u0442\u0430\u0432\u043e\u043a \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"),t.k0s(),t.j41(5,"p"),t.EFF(6," \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0441\u0442\u0430\u0432\u043e\u043a \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u043e\u0439 \u043a\u043e\u043c\u043f\u0435\u043d\u0441\u0430\u0446\u0438\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u0432 \u043f\u043e \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f\u043c. "),t.k0s(),t.j41(7,"button",21),t.bIt("click",function(){t.eBV(e);const u=t.XpG();return t.Njj(u.onCreateRate())}),t.j41(8,"mat-icon"),t.EFF(9,"add"),t.k0s(),t.EFF(10," \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0435\u0440\u0432\u0443\u044e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0441\u0442\u0430\u0432\u043e\u043a "),t.k0s()()}if(2&n){const e=t.XpG();t.R7$(7),t.Y8G("disabled",!e.canEditRates)}}let dt=(()=>{class n{constructor(){this.engineerRatesService=(0,t.WQX)(D.n),this.usersService=(0,t.WQX)(b.g),this.organizationsService=(0,t.WQX)(v.k),this.authService=(0,t.WQX)(B.u),this.dialog=(0,t.WQX)(l.bZ),this.modalService=(0,t.WQX)($.B),this.toastService=(0,t.WQX)(k.f),this.fb=(0,t.WQX)(c.ok),this.displayedColumns=["engineerName","organizationName","customBaseRate","customOvertimeRate","actions"],this.dataSource=new s.I6([]),this.isLoading=(0,t.vPA)(!1),this.engineers=(0,t.vPA)([]),this.organizations=(0,t.vPA)([]),this.canViewRates=this.authService.hasAnyRole([P.gG.ADMIN,P.gG.MANAGER]),this.canEditRates=this.authService.isAdmin(),this.filterForm=this.fb.group({engineerId:[""],organizationId:[""]})}ngOnInit(){this.canViewRates&&(this.loadEngineers(),this.loadOrganizations(),this.loadRates())}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}loadEngineers(){this.usersService.getUsers().subscribe({next:e=>{this.engineers.set(e.data.filter(o=>o.role===P.gG.USER))},error:e=>{console.error("Error loading engineers:",e)}})}loadOrganizations(){this.organizationsService.getOrganizations().subscribe({next:e=>{this.organizations.set(e.data)},error:e=>{console.error("Error loading organizations:",e)}})}loadRates(){this.isLoading.set(!0),this.engineerRatesService.getRates(this.filterForm.value).subscribe({next:o=>{this.dataSource.data=o,this.isLoading.set(!1)},error:o=>{console.error("Error loading rates:",o),this.toastService.error("Error loading engineer rates"),this.isLoading.set(!1)}})}getEngineerName(e){const o=this.engineers().find(u=>u.id===e.engineerId);return o?`${o.firstName} ${o.lastName}`:`Engineer ${e.engineerId}`}onEditRate(e){this.openRateDialog(e)}onCreateRate(){this.openRateDialog()}openRateDialog(e){this.modalService.openDialog(Y,{rate:e,isEdit:!!e}).subscribe(u=>{u&&this.loadRates()})}onDeleteRate(e){if(!this.canEditRates)return void this.toastService.error("\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0432\u043e\u043a");const o=this.getEngineerName(e);confirm(`\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0438 \u0434\u043b\u044f \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u0430 "${o}" \u0432 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 "${e.organizationName}"? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.`)&&this.engineerRatesService.deleteRate(e.id).subscribe({next:()=>{this.toastService.success("\u0421\u0442\u0430\u0432\u043a\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u044b"),this.loadRates()},error:g=>{console.error("Error deleting rate:",g),this.toastService.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0441\u0442\u0430\u0432\u043e\u043a")}})}onApplyFilters(){this.loadRates()}onClearFilters(){this.filterForm.reset({engineerId:"",organizationId:""}),this.loadRates()}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-engineer-rates"]],viewQuery:function(o,u){if(1&o&&(t.GBs(F.iy,5),t.GBs(E.B4,5)),2&o){let g;t.mGM(g=t.lsd())&&(u.paginator=g.first),t.mGM(g=t.lsd())&&(u.sort=g.first)}},standalone:!0,features:[t.aNF],decls:74,vars:12,consts:[["defaultBaseRate",""],["defaultOvertimeRate",""],[1,"engineer-rates-container"],[1,"header"],[1,"info-card"],[1,"info-content"],[1,"info-icon"],[1,"info-text"],[1,"filters-card"],[1,"filters-form",3,"formGroup"],[1,"filter-row"],["appearance","outline"],["formControlName","engineerId"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","organizationId"],[1,"filter-actions"],["mat-raised-button","","color","primary",3,"click"],["mat-button","",3,"click"],[1,"table-card"],[1,"header-actions"],["mat-raised-button","","color","primary",3,"click","disabled"],[1,"table-container"],["mat-table","","matSort","",1,"rates-table",3,"dataSource"],["matColumnDef","engineerName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","organizationName"],["matColumnDef","customBaseRate"],["matColumnDef","customOvertimeRate"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","loading-container",4,"ngIf"],["class","no-data-container",4,"ngIf"],["showFirstLastButtons","",3,"pageSizeOptions","pageSize"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],[1,"default-value"],["mat-header-cell",""],["mat-icon-button","",3,"click","matTooltip","disabled"],["mat-icon-button","","matTooltip","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0438",1,"delete-button",3,"click","disabled"],["mat-header-row",""],["mat-row",""],[1,"loading-container"],["diameter","50"],[1,"no-data-container"],[1,"no-data-icon"]],template:function(o,u){1&o&&(t.j41(0,"div",2)(1,"div",3)(2,"h1"),t.EFF(3,"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0430\u043c\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u0432"),t.k0s(),t.j41(4,"p"),t.EFF(5,"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u0441\u0442\u0430\u0432\u043a\u0430\u043c\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u0432 \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0439"),t.k0s(),t.j41(6,"mat-card",4)(7,"mat-card-content")(8,"div",5)(9,"mat-icon",6),t.EFF(10,"lightbulb"),t.k0s(),t.j41(11,"div",7)(12,"p")(13,"strong"),t.EFF(14,"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u0432\u043e\u043a:"),t.k0s(),t.EFF(15," \u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043d\u043e\u0432\u043e\u0433\u043e \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u0430 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u0431\u0430\u0437\u043e\u0432\u044b\u0435 \u0441\u0442\u0430\u0432\u043a\u0438 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0439. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0438\u0445 \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438. "),t.k0s()()()()()(),t.j41(16,"mat-card",8)(17,"mat-card-header")(18,"mat-card-title"),t.EFF(19,"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"),t.k0s()(),t.j41(20,"mat-card-content")(21,"form",9)(22,"div",10)(23,"mat-form-field",11)(24,"mat-label"),t.EFF(25,"\u0418\u043d\u0436\u0435\u043d\u0435\u0440"),t.k0s(),t.j41(26,"mat-select",12)(27,"mat-option",13),t.EFF(28,"\u0412\u0441\u0435 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u044b"),t.k0s(),t.DNE(29,V,2,3,"mat-option",14),t.k0s()(),t.j41(30,"mat-form-field",11)(31,"mat-label"),t.EFF(32,"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f"),t.k0s(),t.j41(33,"mat-select",15)(34,"mat-option",13),t.EFF(35,"\u0412\u0441\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"),t.k0s(),t.DNE(36,L,2,2,"mat-option",14),t.k0s()(),t.j41(37,"div",16)(38,"button",17),t.bIt("click",function(){return u.onApplyFilters()}),t.EFF(39," \u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b "),t.k0s(),t.j41(40,"button",18),t.bIt("click",function(){return u.onClearFilters()}),t.EFF(41,"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"),t.k0s()()()()()(),t.j41(42,"mat-card",19)(43,"mat-card-header")(44,"mat-card-title"),t.EFF(45,"\u0421\u0442\u0430\u0432\u043a\u0438 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043e\u0432 \u043f\u043e \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f\u043c"),t.k0s(),t.j41(46,"div",20)(47,"button",21),t.bIt("click",function(){return u.onCreateRate()}),t.j41(48,"mat-icon"),t.EFF(49,"add"),t.k0s(),t.EFF(50," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0441\u0442\u0430\u0432\u043e\u043a "),t.k0s()()(),t.j41(51,"mat-card-content")(52,"div",22)(53,"table",23),t.qex(54,24),t.DNE(55,Z,2,0,"th",25)(56,Q,2,1,"td",26),t.bVm(),t.qex(57,27),t.DNE(58,W,2,0,"th",25)(59,H,2,1,"td",26),t.bVm(),t.qex(60,28),t.DNE(61,J,2,0,"th",25)(62,tt,4,2,"td",26),t.bVm(),t.qex(63,29),t.DNE(64,et,2,0,"th",25)(65,ot,4,2,"td",26),t.bVm(),t.qex(66,30),t.DNE(67,at,2,0,"th",31)(68,it,7,3,"td",26),t.bVm(),t.DNE(69,rt,1,0,"tr",32)(70,st,1,0,"tr",33),t.k0s(),t.DNE(71,ct,2,0,"div",34)(72,lt,11,1,"div",35),t.k0s(),t.nrm(73,"mat-paginator",36),t.k0s()()()),2&o&&(t.R7$(21),t.Y8G("formGroup",u.filterForm),t.R7$(8),t.Y8G("ngForOf",u.engineers()),t.R7$(7),t.Y8G("ngForOf",u.organizations()),t.R7$(11),t.Y8G("disabled",!u.canEditRates),t.R7$(6),t.Y8G("dataSource",u.dataSource),t.R7$(16),t.Y8G("matHeaderRowDef",u.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",u.displayedColumns),t.R7$(),t.Y8G("ngIf",u.isLoading()),t.R7$(),t.Y8G("ngIf",!u.isLoading()&&0===u.dataSource.data.length),t.R7$(),t.Y8G("pageSizeOptions",t.lJ4(11,X))("pageSize",10))},dependencies:[m.MD,m.Sq,m.bT,m.QX,c.X1,c.qT,c.BC,c.cb,c.j4,c.JD,s.tP,s.Zl,s.tL,s.ji,s.cC,s.YV,s.iL,s.KS,s.$R,s.YZ,s.NB,f.Hl,f.$z,f.iY,d.m_,d.An,F.Ou,F.iy,i.Hu,i.RN,i.m2,i.MM,i.dh,E.NQ,E.B4,E.aE,p.YN,C.RG,C.rl,C.nJ,M.fS,_.Ve,_.VO,z.wT,R.uc,R.oV,O.D6,O.LG],styles:[".engineer-rates-container[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto;display:flex;flex-direction:column;gap:24px}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:300;margin-bottom:8px;color:#1976d2}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#666;margin:0}.header[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{margin-top:20px;background-color:#fff3cd!important;border:1px solid #ffeaa7!important;max-width:800px;margin-left:auto;margin-right:auto}.header[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px!important}.header[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px}.header[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{color:#856404;font-size:24px;margin-top:2px}.header[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{flex:1}.header[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#856404;font-size:14px;line-height:1.4}.filters-card[_ngcontent-%COMP%]   .filters-form[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:flex-start;flex-wrap:wrap}.filters-card[_ngcontent-%COMP%]   .filters-form[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:200px;flex:1}.filters-card[_ngcontent-%COMP%]   .filters-form[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .filter-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;margin-top:16px}.filters-card[_ngcontent-%COMP%]   .filters-form[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .filter-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:120px}.table-card[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.table-card[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]{position:relative;min-height:400px}.table-card[_ngcontent-%COMP%]   .rates-table[_ngcontent-%COMP%]{width:100%}.table-card[_ngcontent-%COMP%]   .rates-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem;text-transform:uppercase;letter-spacing:.5px;color:#666}.table-card[_ngcontent-%COMP%]   .rates-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px}.table-card[_ngcontent-%COMP%]   .rates-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .default-value[_ngcontent-%COMP%]{color:#999;font-style:italic}.table-card[_ngcontent-%COMP%]   .rates-table[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-size:.75rem;min-height:24px}.table-card[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:200px}.table-card[_ngcontent-%COMP%]   .no-data-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 24px;text-align:center;color:#666}.table-card[_ngcontent-%COMP%]   .no-data-container[_ngcontent-%COMP%]   .no-data-icon[_ngcontent-%COMP%]{font-size:48px;height:48px;width:48px;margin-bottom:16px;opacity:.5}.table-card[_ngcontent-%COMP%]   .no-data-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:500}.table-card[_ngcontent-%COMP%]   .no-data-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;max-width:400px}.table-card[_ngcontent-%COMP%]   .no-data-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:200px}.table-card[_ngcontent-%COMP%]   mat-paginator[_ngcontent-%COMP%]{margin-top:16px}@media (max-width: 768px){.engineer-rates-container[_ngcontent-%COMP%]{padding:16px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.header[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.header[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{align-self:flex-start}.filters-card[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]{flex-direction:column}.filters-card[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:unset;width:100%}.filters-card[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .filter-actions[_ngcontent-%COMP%]{width:100%;justify-content:stretch}.filters-card[_ngcontent-%COMP%]   .filter-row[_ngcontent-%COMP%]   .filter-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}.table-card[_ngcontent-%COMP%]   .rates-table[_ngcontent-%COMP%]{font-size:.875rem}.table-card[_ngcontent-%COMP%]   .rates-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table-card[_ngcontent-%COMP%]   .rates-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 12px}.table-card[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.table-card[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.rates-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rates-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px 8px;font-size:.8rem}.no-data-container[_ngcontent-%COMP%]   .no-data-icon[_ngcontent-%COMP%]{font-size:36px;height:36px;width:36px}.no-data-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.no-data-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}}"]})}}return n})()},5720:(x,h,a)=>{a.d(h,{k:()=>f});var t=a(4292),m=a(6e3),s=a(878);let f=(()=>{class d{constructor(){this.http=(0,t.WQX)(m.Qq)}getOrganizations(i){let l=new m.Nl;return i&&Object.entries(i).forEach(([E,p])=>{null!=p&&""!==p&&(l=l.set(E,p.toString()))}),this.http.get(`${s.c.apiUrl}/organizations`,{params:l})}getOrganization(i){return this.http.get(`${s.c.apiUrl}/organizations/${i}`)}createOrganization(i){return this.http.post(`${s.c.apiUrl}/organizations`,i)}updateOrganization(i,l){return this.http.patch(`${s.c.apiUrl}/organizations/${i}`,l)}deleteOrganization(i){return this.http.delete(`${s.c.apiUrl}/organizations/${i}`)}toggleOrganizationStatus(i){return this.http.patch(`${s.c.apiUrl}/organizations/${i}/toggle-status`,{})}static{this.\u0275fac=function(l){return new(l||d)}}static{this.\u0275prov=t.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})()},4740:(x,h,a)=>{a.d(h,{g:()=>f});var t=a(4292),m=a(6e3),s=a(878);let f=(()=>{class d{constructor(){this.http=(0,t.WQX)(m.Qq)}getUsers(i){let l=new m.Nl;return i&&Object.entries(i).forEach(([E,p])=>{null!=p&&""!==p&&(l=l.set(E,p.toString()))}),this.http.get(`${s.c.apiUrl}/users`,{params:l})}getUser(i){return this.http.get(`${s.c.apiUrl}/users/${i}`)}createUser(i){return this.http.post(`${s.c.apiUrl}/users`,i)}updateUser(i,l){return this.http.patch(`${s.c.apiUrl}/users/${i}`,l)}deleteUser(i){return this.http.delete(`${s.c.apiUrl}/users/${i}`)}checkUserDeletion(i){return this.http.delete(`${s.c.apiUrl}/users/${i}`)}forceDeleteUser(i){return this.http.delete(`${s.c.apiUrl}/users/${i}/force`)}getUserProfile(){return this.http.get(`${s.c.apiUrl}/users/profile`)}updateProfile(i){return this.http.patch(`${s.c.apiUrl}/users/profile`,i)}static{this.\u0275fac=function(l){return new(l||d)}}static{this.\u0275prov=t.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})()}}]);