# üì± –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Ionic/Capacitor

## üìä –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–µ—Ä—Å–∏–π

### 1. Frontend (environment)

```typescript
// frontend/src/environments/environment.prod.ts
appVersion: '1.0.1'; // ‚Üê –ó–∞—à–∏—Ç–∞ –≤ –∫–æ–¥ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
```

### 2. Backend (API)

```typescript
// backend/src/modules/app/app.controller.ts
version: '1.0.2'; // ‚Üê –í–µ—Ä—Å–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
downloadUrl: 'http://192.144.12.102:3001/app-debug.apk';
```

### 3. Android (build.gradle)

```gradle
// frontend/android/app/build.gradle
versionCode 1        // ‚Üê –ß–∏c–ª–æ (—É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Å–±–æ—Ä–∫–µ)
versionName "1.0.1"  // ‚Üê –°—Ç—Ä–æ–∫–∞ –≤–µ—Ä—Å–∏–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
```

### 4. package.json

```json
// frontend/package.json
"version": "0.0.0" // ‚Üê –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏
```

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π

### –í –Ω–∞—Ç–∏–≤–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ (Android/iOS):

1. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏:**

   ```typescript
   const info = await App.getInfo();
   const currentVersion = info.version; // –ò–∑ AndroidManifest.xml (versionName)
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:**

   ```typescript
   const response = await http.get('/api/app/version');
   const serverVersion = response.version; // '1.0.2'

   if (serverVersion !== currentVersion) {
     // –ü–æ–∫–∞–∑–∞—Ç—å –¥–∏–∞–ª–æ–≥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
   }
   ```

3. **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ APK:**
   ```typescript
   await App.openUrl({ url: 'http://192.144.12.102:3001/app-debug.apk' });
   ```

### –í –≤–µ–±-–≤–µ—Ä—Å–∏–∏:

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π **–æ—Ç–∫–ª—é—á–µ–Ω–∞**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ—Ä—Å–∏—è –∏–∑ `environment.appVersion`

## üì¶ –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø—Ä–∏ —Å–±–æ—Ä–∫–µ APK

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

- **environment.appVersion:** `1.0.1`
- **build.gradle versionName:** `1.0.1`
- **build.gradle versionCode:** `1`

### –ü—Ä–∏ —Å–±–æ—Ä–∫–µ APK —Å –≤–µ—Ä—Å–∏–µ–π 1.0.2:

**–®–∞–≥ 1:** –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏–∏

```bash
# 1. environment.prod.ts
appVersion: '1.0.2'

# 2. build.gradle
versionCode 2           # ‚Üë –£–≤–µ–ª–∏—á–∏—Ç—å –Ω–∞ 1
versionName "1.0.2"     # ‚Üê –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è

# 3. app.controller.ts (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
version: '1.0.2'
```

**–®–∞–≥ 2:** –°–±–æ—Ä–∫–∞

```bash
cd frontend
npm run build:android  # –°–æ–±—Ä–∞—Ç—å –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å Android
```

**–®–∞–≥ 3:** –°–±–æ—Ä–∫–∞ APK

```bash
cd android
./gradlew assembleDebug  # –°–æ–∑–¥–∞—Å—Ç APK
# –§–∞–π–ª: app/build/outputs/apk/debug/app-debug.apk
```

**–®–∞–≥ 4:** –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å APK –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp app/build/outputs/apk/debug/app-debug.apk \
  user1@192.144.12.102:~/coffe/app-debug.apk

# APK –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ: http://192.144.12.102:3001/app-debug.apk
```

## ‚ö†Ô∏è –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–±–æ—Ä–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–µ—Ä–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–≤–µ—Ä—Å–∏—è 1.0.1)

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç APK —Å –≤–µ—Ä—Å–∏–µ–π 1.0.1
‚Üì
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
‚Üì
–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:
  - –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è (–∏–∑ APK): 1.0.1
  - –í–µ—Ä—Å–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: 1.0.2
  - –í–µ—Ä—Å–∏–∏ –ù–ï —Å–æ–≤–ø–∞–¥–∞—é—Ç ‚úì
‚Üì
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∏–∞–ª–æ–≥: "–î–æ—Å—Ç—É–ø–Ω–∞ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è 1.0.2"
‚Üì
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–û–±–Ω–æ–≤–∏—Ç—å"
‚Üì
–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä —Å APK
‚Üì
Android –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É
‚Üì
–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏: –≤–µ—Ä—Å–∏—è 1.0.2
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –£–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –≤–µ—Ä—Å–∏–µ–π 1.0.2 –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚Üì
–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:
  - –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: 1.0.2
  - –í–µ—Ä—Å–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: 1.0.2
  - –í–µ—Ä—Å–∏–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç ‚úì
‚Üì
–î–∏–∞–ª–æ–≥ –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è
‚Üì
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å –≤–µ—Ä—Å–∏–µ–π 1.0.1
‚Üì
–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:
  - required: true
‚Üì
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –¥–∏–∞–ª–æ–≥
‚Üì
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –º–æ–∂–µ—Ç –∑–∞–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥
‚Üì
–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–û—Ç–º–µ–Ω–∞" - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
‚Üì
–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–û–±–Ω–æ–≤–∏—Ç—å" - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è APK
```

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### –í–∞—Ä–∏–∞–Ω—Ç 1: –≠–º—É–ª—è—Ü–∏—è —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏–π

**1.1** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å APK —Å –≤–µ—Ä—Å–∏–µ–π 1.0.1 –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ/—ç–º—É–ª—è—Ç–æ—Ä

**1.2** –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é 1.0.2:

```typescript
// backend/src/modules/app/app.controller.ts
version: '1.0.2';
```

**1.3** –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

```
–î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –¥–∏–∞–ª–æ–≥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
```

**1.4** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ Chrome DevTools (–µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω):

```
üì± –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (native): 1.0.1
üì° –ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞: {version: "1.0.2", ...}
‚úÖ –î–æ—Å—Ç—É–ø–Ω–∞ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è: 1.0.2
üì• URL –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è: http://192.144.12.102:3001/app-debug.apk
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
curl http://192.144.12.102:3001/api/app/version

# –û—Ç–≤–µ—Ç:
{
  "version": "1.0.2",
  "downloadUrl": "http://192.144.12.102:3001/app-debug.apk",
  "required": false,
  "releaseNotes": "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∫–ª—é—á–∞–µ—Ç –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫."
}
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–¥–µ

```typescript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –∏–ª–∏ DevTools
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
const info = await App.getInfo();
console.log('–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è:', info.version); // '1.0.1'

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
const response = await fetch('http://192.144.12.102:3001/api/app/version');
const data = await response.json();
console.log('–í–µ—Ä—Å–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:', data.version); // '1.0.2'
```

### –í–∞—Ä–∏–∞–Ω—Ç 4: –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å backend –ª–æ–∫–∞–ª—å–Ω–æ
cd backend && npm run start:dev

# 2. –ò–∑–º–µ–Ω–∏—Ç—å –≤–µ—Ä—Å–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
# –í app.controller.ts —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: version: '1.0.2'

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å Android Studio
cd frontend/android
./gradlew assembleDebug

# 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å APK –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä
adb install app/build/outputs/apk/debug/app-debug.apk

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
# –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –¥–∏–∞–ª–æ–≥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
```

## üìã –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

### –ü–µ—Ä–µ–¥ –≤—ã–ø—É—Å–∫–æ–º –≤–µ—Ä—Å–∏–∏ 1.0.2:

- [ ] **–û–±–Ω–æ–≤–∏—Ç—å environment.prod.ts**

  ```typescript
  appVersion: '1.0.2';
  ```

- [ ] **–û–±–Ω–æ–≤–∏—Ç—å build.gradle**

  ```gradle
  versionCode 2
  versionName "1.0.2"
  ```

- [ ] **–û–±–Ω–æ–≤–∏—Ç—å backend app.controller.ts**

  ```typescript
  version: '1.0.2';
  ```

- [ ] **–ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**

  ```bash
  cd frontend
  npm run build:android
  ```

- [ ] **–°–æ–±—Ä–∞—Ç—å APK**

  ```bash
  cd android
  ./gradlew assembleDebug
  ```

- [ ] **–ó–∞–≥—Ä—É–∑–∏—Ç—å APK –Ω–∞ —Å–µ—Ä–≤–µ—Ä**

  ```bash
  scp app/build/outputs/apk/debug/app-debug.apk \
    user1@192.144.12.102:~/coffe/app-debug.apk
  ```

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å APK**

  ```bash
  curl -I http://192.144.12.102:3001/app-debug.apk
  # –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å HTTP 200
  ```

- [ ] **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**
  - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é (1.0.1) –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
  - –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
  - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

## üéØ –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### 1. versionCode

- **–í—Å–µ–≥–¥–∞ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å** –ø—Ä–∏ –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ–π —Å–±–æ—Ä–∫–µ APK
- **–¢–æ–ª—å–∫–æ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞:** 1, 2, 3, 4...
- **–ù–ï –º–æ–∂–µ—Ç —É–º–µ–Ω—å—à–∞—Ç—å—Å—è** (Google Play –Ω–µ –ø—Ä–∏–º–µ—Ç)
- Android –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, –∫–∞–∫–∞—è –≤–µ—Ä—Å–∏—è –Ω–æ–≤–µ–µ

### 2. versionName

- –ú–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–æ–π —Å—Ç—Ä–æ–∫–æ–π: "1.0.1", "2.0.0-beta", "v1.2.3"
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –î–æ–ª–∂–Ω–∞ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å serverVersion –ø—Ä–∏ –≤—ã–ø—É—Å–∫–µ

### 3. environment.appVersion

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ **–≤–µ–±-–≤–µ—Ä—Å–∏–∏**
- –í –Ω–∞—Ç–∏–≤–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –±–µ—Ä–µ—Ç—Å—è –∏–∑ `App.getInfo()`
- –ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ fallback

### 4. –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **—Ä–∞–∑ –≤ 24 —á–∞—Å–∞**
- –ß—Ç–æ–±—ã —Ñ–æ—Ä—Å–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É, –Ω—É–∂–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å localStorage:
  ```javascript
  localStorage.removeItem('app_update_last_check');
  ```

### 5. –°–∫–∞—á–∏–≤–∞–Ω–∏–µ APK

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä
- Android –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ —ç—Ç–æ APK
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–π –¥–∏–∞–ª–æ–≥ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

## üìù –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥

### –ü–æ–ª–Ω–∞—è —Å–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# 1. –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏–∏
# (–≤—Ä—É—á–Ω—É—é –≤ —Ñ–∞–π–ª–∞—Ö)

# 2. –°–æ–±—Ä–∞—Ç—å –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å
cd frontend
npm run build:android

# 3. –°–æ–±—Ä–∞—Ç—å APK
cd android
./gradlew assembleDebug

# 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä
adb install app/build/outputs/apk/debug/app-debug.apk

# 5. –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
scp app/build/outputs/apk/debug/app-debug.apk \
  user1@192.144.12.102:~/coffe/app-debug.apk
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
curl http://192.144.12.102:3001/api/app/version

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å APK
curl -I http://192.144.12.102:3001/app-debug.apk

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ backend
ssh user1@192.144.12.102
docker logs coffee_backend_fallback
```
