# ‚úÖ –†–∞–±–æ—Ç–∞—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã

## –ü—Ä–æ–±–ª–µ–º–∞
- SSH –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω —Å–µ—Ä–≤–µ—Ä–æ–º: `Connection reset by peer`
- API —á–µ—Ä–µ–∑ IP:–ø–æ—Ä—Ç –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω
- Cloudflare –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API

## ‚úÖ –ß—Ç–æ –†–ê–ë–û–¢–ê–ï–¢ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å

### 1. –õ–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (100% —Ä–∞–±–æ—Ç–∞—é—Ç)

```bash
# –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
npm run local:help

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Docker –ª–æ–∫–∞–ª—å–Ω–æ  
npm run local:status

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
npm run local:logs

# –û—á–∏—Å—Ç–∏—Ç—å Docker
npm run local:clean

# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
npm run local:generate
```

### 2. Docker –∫–æ–º–∞–Ω–¥—ã (—Ä–∞–±–æ—Ç–∞—é—Ç)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã
npm run docker:up

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
npm run docker:down

# –õ–æ–≥–∏
npm run docker:logs
```

### 3. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç)

```bash
npm run dev             # –ü–æ–ª–Ω—ã–π —Å—Ç–µ–∫
npm run dev:frontend    # –¢–æ–ª—å–∫–æ —Ñ—Ä–æ–Ω—Ç
npm run dev:backend     # –¢–æ–ª—å–∫–æ –±—ç–∫
```

### 4. –°–±–æ—Ä–∫–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç)

```bash
npm run build           # –í—Å—ë
npm run build:frontend  # –§—Ä–æ–Ω—Ç
npm run build:backend   # –ë—ç–∫
npm run build:apk       # Android APK
```

## üîß –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–µ—Ä–≤–µ—Ä–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä (–°–ê–ú–û–ï –ü–†–û–°–¢–û–ï)

1. –û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://coffe-ug.ru/login`
2. –í–æ–π–¥–∏ –∫–∞–∫ –∞–¥–º–∏–Ω:
   - Email: `admin@coffee.com`
   - Password: `admin123`

3. –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –º–æ–∂–Ω–æ:
   - –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–∫–∞–∑—ã
   - –£–≤–∏–¥–µ—Ç—å —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í–µ–±-–∫–æ–Ω—Å–æ–ª—å VPS (–ù–ê–î–ï–ñ–ù–û)

1. –ó–∞–π–¥–∏ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è VPS (—É —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞)
2. –û—Ç–∫—Ä–æ–π –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∫–æ–Ω—Å–æ–ª—å/—Ç–µ—Ä–º–∏–Ω–∞–ª
3. –í—ã–ø–æ–ª–Ω–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏—Å–∫–∞
df -h /
du -sh ~/coffe
docker system df

# –û—á–∏—Å—Ç–∫–∞
rm -rf ~/coffe/backups/*
docker system prune -af

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
cd ~/coffe
docker compose -f docker-compose.fallback.yml restart
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: GitHub Actions (–ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò)

```bash
# –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—à–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .
git commit -m "Update"
git push origin main

# –ü—Ä–æ–≤–µ—Ä—å –¥–µ–ø–ª–æ–π: https://github.com/YOUR_REPO/actions
```

### –í–∞—Ä–∏–∞–Ω—Ç 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

```bash
# 1. –°–æ–∑–¥–∞–π —Å–∫—Ä–∏–ø—Ç
npm run local:generate

# 2. –°–∫–æ–ø–∏—Ä—É–π –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
cat server-maintenance.sh

# 3. –í—ã–ø–æ–ª–Ω–∏ –≤ –≤–µ–±-–∫–æ–Ω—Å–æ–ª–∏ VPS
#    (—Å–∫–æ–ø–∏—Ä—É–π –∏ –≤—Å—Ç–∞–≤—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ)
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑ SSH

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –§—Ä–æ–Ω—Ç–µ–Ω–¥
curl -I https://coffe-ug.ru

# API (—á–µ—Ä–µ–∑ –º–æ–±–∏–ª—å–Ω–æ–µ API)
curl https://api.coffe-ug.ru/api/app/version
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–µ—Ä—Å–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
curl https://api.coffe-ug.ru/api/app/version | python3 -m json.tool
```

## üöÄ –ù–æ–≤—ã–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)

–Ø —Å–æ–∑–¥–∞–ª –Ω–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤ backend:
- `GET /api/system/status` - —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
- `GET /api/system/disk` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
- `GET /api/system/cleanup` - –æ—á–∏—Å—Ç–∫–∞

–û–Ω–∏ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ—Å–ª–µ —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–µ–ø–ª–æ—è —á–µ—Ä–µ–∑ `https://api.coffe-ug.ru/api/system/*`

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ
npm run local:status

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev
```

### –î–ª—è –¥–µ–ø–ª–æ—è

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
git push origin main
```

### –î–ª—è —Å—Ä–æ—á–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫

1. –û—Ç–∫—Ä–æ–π `https://coffe-ug.ru` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
3. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ - –∏—Å–ø–æ–ª—å–∑—É–π –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å VPS

## üî• –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–∞–º–∞—è —á–∞—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
npm run local:status

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã
npm run

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
npm run dev

# –î–µ–ø–ª–æ–π
git push
```

## ‚ö†Ô∏è –ù–ï —Ä–∞–±–æ—Ç–∞—é—Ç (—Ç—Ä–µ–±—É—é—Ç SSH)

```bash
npm run check:disk:ssh     # –°—Ç–∞—Ä–∞—è SSH –≤–µ—Ä—Å–∏—è
npm run clean:backups:ssh  # –°—Ç–∞—Ä–∞—è SSH –≤–µ—Ä—Å–∏—è
```

–í–º–µ—Å—Ç–æ –Ω–∏—Ö –∏—Å–ø–æ–ª—å–∑—É–π:
- `npm run local:generate` + –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å VPS
- –ü—Ä—è–º–æ–π –≤—Ö–æ–¥ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è VPS

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `LOCAL_COMMANDS_README.md` - –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
- `SSH_TROUBLESHOOTING.md` - –ü–æ—á–µ–º—É SSH –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- `COMMANDS_QUICK_REFERENCE.md` - –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞
- `DEPLOYMENT_CONNECTION_FIX.md` - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–ø–ª–æ—è

## ‚úÖ –ò—Ç–æ–≥–æ: –ß—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

**–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
```bash
npm run dev
```

**–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ:**
```bash
npm run local:status
npm run local:logs
```

**–î–ª—è –¥–µ–ø–ª–æ—è:**
```bash
git push origin main
```

**–î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–µ—Ä–≤–µ—Ä–∞:**
- –û—Ç–∫—Ä–æ–π `https://coffe-ug.ru` –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π –≤–µ–±-–∫–æ–Ω—Å–æ–ª—å VPS

–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç! üéâ

