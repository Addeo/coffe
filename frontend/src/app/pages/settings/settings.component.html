<div class="settings-container">
  <div class="header">
    <h1>System Settings</h1>
    <p>Configure system-wide settings and preferences</p>
  </div>

  <form [formGroup]="settingsForm" (ngSubmit)="saveSettings()">
    <div class="settings-grid">
      <!-- General Settings -->
      <mat-card class="settings-section">
        <mat-card-header>
          <mat-card-title>General Settings</mat-card-title>
        </mat-card-header>

        <mat-card-content>
          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Site Name</mat-label>
            <input matInput formControlName="siteName" />
          </mat-form-field>

          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Theme</mat-label>
            <mat-select formControlName="theme">
              <mat-option *ngFor="let theme of themes" [value]="theme.value">
                {{ theme.label }}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Language</mat-label>
            <mat-select formControlName="language">
              <mat-option *ngFor="let lang of languages" [value]="lang.value">
                {{ lang.label }}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Items Per Page</mat-label>
            <input matInput type="number" formControlName="itemsPerPage" />
          </mat-form-field>
        </mat-card-content>
      </mat-card>

      <!-- Notifications -->
      <mat-card class="settings-section">
        <mat-card-header>
          <mat-card-title>Notifications</mat-card-title>
        </mat-card-header>

        <mat-card-content>
          <div class="toggle-setting">
            <span>Email Notifications</span>
            <mat-slide-toggle formControlName="emailNotifications"></mat-slide-toggle>
          </div>

          <div class="toggle-setting">
            <span>Push Notifications</span>
            <mat-slide-toggle formControlName="pushNotifications"></mat-slide-toggle>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- System Settings -->
      <mat-card class="settings-section">
        <mat-card-header>
          <mat-card-title>System Preferences</mat-card-title>
        </mat-card-header>

        <mat-card-content>
          <div class="toggle-setting">
            <span>Auto Save</span>
            <mat-slide-toggle formControlName="autoSave"></mat-slide-toggle>
          </div>

          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Timezone</mat-label>
            <input matInput formControlName="timezone" />
          </mat-form-field>
        </mat-card-content>
      </mat-card>

      <!-- Actions -->
      <mat-card class="settings-section actions-section">
        <mat-card-header>
          <mat-card-title>Actions</mat-card-title>
        </mat-card-header>

        <mat-card-content>
          <div class="action-buttons">
            <button
              mat-raised-button
              color="primary"
              type="submit"
              [disabled]="isLoading() || settingsForm.invalid"
            >
              <mat-icon *ngIf="isLoading()">refresh</mat-icon>
              <mat-icon *ngIf="!isLoading()">save</mat-icon>
              {{ isLoading() ? 'Saving...' : 'Save Settings' }}
            </button>

            <button mat-button type="button" (click)="resetToDefaults()">
              <mat-icon>restore</mat-icon>
              Reset to Defaults
            </button>

            <button mat-button type="button" (click)="exportSettings()">
              <mat-icon>download</mat-icon>
              Export Settings
            </button>

            <button mat-button type="button" (click)="importSettings()">
              <mat-icon>upload</mat-icon>
              Import Settings
            </button>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </form>
</div>
