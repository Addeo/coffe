"use strict";(self.webpackChunkcoffee_admin=self.webpackChunkcoffee_admin||[]).push([[209],{1209:(T,p,o)=>{o.r(p),o.d(p,{ProfileComponent:()=>I});var t=o(4292),P=o(9351),i=o(7199),l=o(8598),m=o(6721),C=o(3505),g=o(5320),M=o(91),v=o(4910),E=o(8497),F=o(5822),u=o(4100);function y(a,c){1&a&&(t.j41(0,"mat-error"),t.EFF(1," First name is required and must be at least 2 characters "),t.k0s())}function k(a,c){1&a&&(t.j41(0,"mat-error"),t.EFF(1," Last name is required and must be at least 2 characters "),t.k0s())}function b(a,c){1&a&&(t.j41(0,"mat-error"),t.EFF(1," Please enter a valid email address "),t.k0s())}function R(a,c){if(1&a&&(t.j41(0,"div",25)(1,"mat-form-field",17)(2,"mat-label"),t.EFF(3,"Role"),t.k0s(),t.nrm(4,"input",26),t.k0s()()),2&a){const e=t.XpG();t.R7$(4),t.Y8G("value",e.getRoleDisplay(e.currentUser().role))}}function x(a,c){1&a&&(t.j41(0,"mat-icon"),t.EFF(1,"refresh"),t.k0s())}function j(a,c){1&a&&(t.j41(0,"mat-icon"),t.EFF(1,"save"),t.k0s())}function D(a,c){if(1&a){const e=t.RV6();t.j41(0,"div",27)(1,"button",28),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.cancelEdit())}),t.EFF(2," Cancel "),t.k0s(),t.j41(3,"button",29),t.DNE(4,x,2,0,"mat-icon",15)(5,j,2,0,"mat-icon",15),t.EFF(6),t.k0s()()}if(2&a){const e=t.XpG();t.R7$(),t.Y8G("disabled",e.isLoading()),t.R7$(2),t.Y8G("disabled",e.isLoading()||e.profileForm.invalid),t.R7$(),t.Y8G("ngIf",e.isLoading()),t.R7$(),t.Y8G("ngIf",!e.isLoading()),t.R7$(),t.SpI(" ",e.isLoading()?"Saving...":"Save Changes"," ")}}let I=(()=>{class a{constructor(){this.fb=(0,t.WQX)(i.ok),this.authService=(0,t.WQX)(F.u),this.snackBar=(0,t.WQX)(v.UG),this.isLoading=(0,t.vPA)(!1),this.isEditing=(0,t.vPA)(!1),this.currentUser=this.authService.currentUser}ngOnInit(){this.initializeForm(),this.loadUserProfile()}initializeForm(){this.profileForm=this.fb.group({firstName:["",[i.k0.required,i.k0.minLength(2)]],lastName:["",[i.k0.required,i.k0.minLength(2)]],email:["",[i.k0.required,i.k0.email]]})}loadUserProfile(){const e=this.currentUser();e&&this.profileForm.patchValue({firstName:e.firstName,lastName:e.lastName,email:e.email})}toggleEditMode(){this.isEditing()?this.cancelEdit():this.isEditing.set(!0)}saveProfile(){this.profileForm.valid?(this.isLoading.set(!0),console.log("Updating profile:",this.profileForm.value),setTimeout(()=>{this.isLoading.set(!1),this.isEditing.set(!1),this.snackBar.open("Profile updated successfully","Close",{duration:3e3})},1e3)):this.markFormGroupTouched()}cancelEdit(){this.loadUserProfile(),this.isEditing.set(!1)}markFormGroupTouched(){Object.keys(this.profileForm.controls).forEach(e=>{this.profileForm.get(e)?.markAsTouched()})}getRoleDisplay(e){switch(e){case u.g.ADMIN:return"Administrator";case u.g.MANAGER:return"Manager";default:return"User"}}changePassword(){this.snackBar.open("Change password functionality coming soon","Close",{duration:2e3})}uploadAvatar(){this.snackBar.open("Avatar upload functionality coming soon","Close",{duration:2e3})}static{this.\u0275fac=function(s){return new(s||a)}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-profile"]],standalone:!0,features:[t.aNF],decls:68,vars:14,consts:[[1,"profile-container"],[1,"header"],[1,"profile-content"],[1,"avatar-card"],[1,"avatar-section"],[1,"avatar-placeholder"],[1,"avatar-info"],["mat-raised-button","","color","primary",3,"click"],[1,"info-card"],[1,"card-actions"],["mat-icon-button","",3,"click","disabled"],[3,"ngSubmit","formGroup"],[1,"form-row"],["appearance","outline",1,"form-field"],["matInput","","formControlName","firstName",3,"readonly"],[4,"ngIf"],["matInput","","formControlName","lastName",3,"readonly"],["appearance","outline",1,"form-field","full-width"],["matInput","","formControlName","email","type","email",3,"readonly"],["class","role-info",4,"ngIf"],["class","form-actions",4,"ngIf"],[1,"security-card"],[1,"security-item"],[1,"security-info"],["mat-raised-button","",3,"click"],[1,"role-info"],["matInput","","readonly","",3,"value"],[1,"form-actions"],["mat-button","","type","button",3,"click","disabled"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(s,n){if(1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"h1"),t.EFF(3,"My Profile"),t.k0s()(),t.j41(4,"div",2)(5,"mat-card",3)(6,"mat-card-content")(7,"div",4)(8,"div",5)(9,"mat-icon"),t.EFF(10,"person"),t.k0s()(),t.j41(11,"div",6)(12,"h3"),t.EFF(13),t.k0s(),t.j41(14,"p"),t.EFF(15),t.k0s(),t.j41(16,"button",7),t.bIt("click",function(){return n.uploadAvatar()}),t.j41(17,"mat-icon"),t.EFF(18,"photo_camera"),t.k0s(),t.EFF(19," Change Avatar "),t.k0s()()()()(),t.j41(20,"mat-card",8)(21,"mat-card-header")(22,"mat-card-title"),t.EFF(23,"Profile Information"),t.k0s(),t.j41(24,"mat-card-subtitle"),t.EFF(25,"Update your personal information"),t.k0s(),t.j41(26,"div",9)(27,"button",10),t.bIt("click",function(){return n.toggleEditMode()}),t.j41(28,"mat-icon"),t.EFF(29),t.k0s()()()(),t.j41(30,"mat-card-content")(31,"form",11),t.bIt("ngSubmit",function(){return n.saveProfile()}),t.j41(32,"div",12)(33,"mat-form-field",13)(34,"mat-label"),t.EFF(35,"First Name"),t.k0s(),t.nrm(36,"input",14),t.DNE(37,y,2,0,"mat-error",15),t.k0s(),t.j41(38,"mat-form-field",13)(39,"mat-label"),t.EFF(40,"Last Name"),t.k0s(),t.nrm(41,"input",16),t.DNE(42,k,2,0,"mat-error",15),t.k0s()(),t.j41(43,"mat-form-field",17)(44,"mat-label"),t.EFF(45,"Email"),t.k0s(),t.nrm(46,"input",18),t.DNE(47,b,2,0,"mat-error",15),t.k0s(),t.DNE(48,R,5,1,"div",19)(49,D,7,5,"div",20),t.k0s()()(),t.j41(50,"mat-card",21)(51,"mat-card-header")(52,"mat-card-title"),t.EFF(53,"Security"),t.k0s(),t.j41(54,"mat-card-subtitle"),t.EFF(55,"Manage your account security"),t.k0s()(),t.j41(56,"mat-card-content")(57,"div",22)(58,"div",23)(59,"mat-icon"),t.EFF(60,"lock"),t.k0s(),t.j41(61,"div")(62,"h4"),t.EFF(63,"Password"),t.k0s(),t.j41(64,"p"),t.EFF(65,"Last changed: Recently"),t.k0s()()(),t.j41(66,"button",24),t.bIt("click",function(){return n.changePassword()}),t.EFF(67,"Change Password"),t.k0s()()()()()()),2&s){let r,O,d,_,f,h;t.R7$(13),t.Lme("",null==(r=n.currentUser())?null:r.firstName," ",null==(r=n.currentUser())?null:r.lastName,""),t.R7$(2),t.JRh(null==(O=n.currentUser())?null:O.email),t.R7$(12),t.Y8G("disabled",n.isLoading()),t.R7$(2),t.JRh(n.isEditing()?"close":"edit"),t.R7$(2),t.Y8G("formGroup",n.profileForm),t.R7$(5),t.Y8G("readonly",!n.isEditing()),t.R7$(),t.Y8G("ngIf",(null==(d=n.profileForm.get("firstName"))?null:d.invalid)&&(null==(d=n.profileForm.get("firstName"))?null:d.touched)),t.R7$(4),t.Y8G("readonly",!n.isEditing()),t.R7$(),t.Y8G("ngIf",(null==(_=n.profileForm.get("lastName"))?null:_.invalid)&&(null==(_=n.profileForm.get("lastName"))?null:_.touched)),t.R7$(4),t.Y8G("readonly",!n.isEditing()),t.R7$(),t.Y8G("ngIf",(null==(f=n.profileForm.get("email"))?null:f.invalid)&&(null==(f=n.profileForm.get("email"))?null:f.touched)),t.R7$(),t.Y8G("ngIf",null==(h=n.currentUser())?null:h.role),t.R7$(),t.Y8G("ngIf",n.isEditing())}},dependencies:[P.MD,P.bT,i.X1,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,l.Hu,l.RN,l.m2,l.MM,l.Lc,l.dh,m.RG,m.rl,m.nJ,m.TL,C.fS,C.fg,g.Hl,g.$z,g.iY,M.m_,M.An,E.D6],styles:[".profile-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:24px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#333}.profile-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.avatar-card[_ngcontent-%COMP%]   .avatar-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:24px}.avatar-card[_ngcontent-%COMP%]   .avatar-section[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background-color:#e0e0e0;display:flex;align-items:center;justify-content:center}.avatar-card[_ngcontent-%COMP%]   .avatar-section[_ngcontent-%COMP%]   .avatar-placeholder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px;color:#666}.avatar-card[_ngcontent-%COMP%]   .avatar-section[_ngcontent-%COMP%]   .avatar-info[_ngcontent-%COMP%]{flex:1}.avatar-card[_ngcontent-%COMP%]   .avatar-section[_ngcontent-%COMP%]   .avatar-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#333}.avatar-card[_ngcontent-%COMP%]   .avatar-section[_ngcontent-%COMP%]   .avatar-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px;color:#666}.info-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{margin-left:auto}.info-card[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:16px}.info-card[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{flex:1}.info-card[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.info-card[_ngcontent-%COMP%]   .form-field.full-width[_ngcontent-%COMP%]{width:100%}.info-card[_ngcontent-%COMP%]   .role-info[_ngcontent-%COMP%]{margin-top:16px;padding-top:16px;border-top:1px solid #e0e0e0}.info-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px;padding-top:16px;border-top:1px solid #e0e0e0}.security-card[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px 0}.security-card[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .security-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.security-card[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .security-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#666}.security-card[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .security-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;color:#333}.security-card[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   .security-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:.875rem}@media (max-width: 768px){.profile-container[_ngcontent-%COMP%]{padding:16px}.avatar-card[_ngcontent-%COMP%]   .avatar-section[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:16px}.avatar-card[_ngcontent-%COMP%]   .avatar-section[_ngcontent-%COMP%]   .avatar-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .avatar-card[_ngcontent-%COMP%]   .avatar-section[_ngcontent-%COMP%]   .avatar-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px}.info-card[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{flex-direction:column;gap:0}.security-card[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.security-card[_ngcontent-%COMP%]   .security-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})}}return a})()}}]);