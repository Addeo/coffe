"use strict";(self.webpackChunkcoffee_admin=self.webpackChunkcoffee_admin||[]).push([[423],{1423:(f,g,o)=>{o.r(g),o.d(g,{UnauthorizedComponent:()=>P});var t=o(4292),l=o(9351),u=o(1240),r=o(8598),_=o(5320),d=o(91),m=o(8613),h=o(5822),s=o(4100);function p(e,a){if(1&e&&(t.j41(0,"mat-chip",16),t.EFF(1),t.k0s()),2&e){const n=a.$implicit,c=t.XpG(2);t.R7$(),t.SpI(" ",c.getRoleDisplay(n)," ")}}function M(e,a){if(1&e&&(t.j41(0,"div",13)(1,"h3"),t.EFF(2,"Required Permissions:"),t.k0s(),t.j41(3,"div",14),t.DNE(4,p,2,1,"mat-chip",15),t.k0s()()),2&e){const n=t.XpG();t.R7$(4),t.Y8G("ngForOf",n.requiredRoles)}}function C(e,a){if(1&e&&(t.j41(0,"div",17)(1,"p",18)(2,"strong"),t.EFF(3,"Attempted URL:"),t.k0s(),t.EFF(4),t.k0s()()),2&e){const n=t.XpG();t.R7$(4),t.SpI(" ",n.attemptedUrl,"")}}function O(e,a){if(1&e){const n=t.RV6();t.j41(0,"button",19),t.bIt("click",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.goToLogin())}),t.j41(1,"mat-icon"),t.EFF(2,"login"),t.k0s(),t.EFF(3," Request Access "),t.k0s()}}let P=(()=>{class e{constructor(){this.route=(0,t.WQX)(u.nX),this.router=(0,t.WQX)(u.Ix),this.authService=(0,t.WQX)(h.u),this.requiredRoles=[],this.attemptedUrl="",this.currentUserRole=null}ngOnInit(){this.route.queryParams.subscribe(n=>{this.requiredRoles=n.requiredRoles?.split(",")||[],this.attemptedUrl=n.attemptedUrl||""}),this.currentUserRole=this.authService.currentUser()?.role||null}goBack(){this.router.navigate(["/dashboard"])}goToLogin(){this.authService.logout()}getRoleDisplay(n){switch(n){case s.g.ADMIN:return"Administrator";case s.g.MANAGER:return"Manager";case s.g.USER:return"User";default:return n}}getCurrentRoleDisplay(){return this.currentUserRole?this.getRoleDisplay(this.currentUserRole):"None"}canRequestAccess(){return this.currentUserRole===s.g.USER}requestAccess(){console.log("Requesting access elevation")}static{this.\u0275fac=function(c){return new(c||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-unauthorized"]],standalone:!0,features:[t.aNF],decls:25,vars:5,consts:[[1,"unauthorized-container"],[1,"unauthorized-card"],[1,"header-content"],[1,"error-icon"],[1,"message-section"],[1,"main-message"],["class","details-section",4,"ngIf"],[1,"current-role-section"],["selected","",3,"color"],["class","attempted-url-section",4,"ngIf"],[1,"actions-section"],["mat-raised-button","","color","primary",3,"click"],["mat-button","",3,"click",4,"ngIf"],[1,"details-section"],[1,"roles-list"],["color","warn","selected","",4,"ngFor","ngForOf"],["color","warn","selected",""],[1,"attempted-url-section"],[1,"attempted-url"],["mat-button","",3,"click"]],template:function(c,i){1&c&&(t.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"div",2)(4,"mat-icon",3),t.EFF(5,"block"),t.k0s(),t.j41(6,"h1"),t.EFF(7,"Access Denied"),t.k0s()()(),t.j41(8,"mat-card-content")(9,"div",4)(10,"p",5),t.EFF(11,"You don't have permission to access this page."),t.k0s(),t.DNE(12,M,5,1,"div",6),t.j41(13,"div",7)(14,"h3"),t.EFF(15,"Your Current Role:"),t.k0s(),t.j41(16,"mat-chip",8),t.EFF(17),t.k0s()(),t.DNE(18,C,5,1,"div",9),t.k0s()(),t.j41(19,"mat-card-actions",10)(20,"button",11),t.bIt("click",function(){return i.goBack()}),t.j41(21,"mat-icon"),t.EFF(22,"home"),t.k0s(),t.EFF(23," Go to Dashboard "),t.k0s(),t.DNE(24,O,4,0,"button",12),t.k0s()()()),2&c&&(t.R7$(12),t.Y8G("ngIf",i.requiredRoles.length>0),t.R7$(4),t.Y8G("color",i.currentUserRole?"primary":"accent"),t.R7$(),t.SpI(" ",i.getCurrentRoleDisplay()," "),t.R7$(),t.Y8G("ngIf",i.attemptedUrl),t.R7$(6),t.Y8G("ngIf",i.canRequestAccess()))},dependencies:[l.MD,l.Sq,l.bT,r.Hu,r.RN,r.YY,r.m2,r.MM,_.Hl,_.$z,d.m_,d.An,m.YN,m.Jl],styles:[".unauthorized-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:80vh;padding:20px}.unauthorized-card[_ngcontent-%COMP%]{max-width:600px;width:100%}.unauthorized-card[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.unauthorized-card[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:4rem;width:4rem;height:4rem;color:#f44336;margin-bottom:16px}.unauthorized-card[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#333;font-weight:500}.message-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.message-section[_ngcontent-%COMP%]   .main-message[_ngcontent-%COMP%]{font-size:1.2rem;color:#666;margin-bottom:24px;line-height:1.5}.message-section[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%], .message-section[_ngcontent-%COMP%]   .current-role-section[_ngcontent-%COMP%]{margin-bottom:20px;text-align:left}.message-section[_ngcontent-%COMP%]   .details-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .message-section[_ngcontent-%COMP%]   .current-role-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;color:#333;font-size:1rem;font-weight:500}.message-section[_ngcontent-%COMP%]   .roles-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.message-section[_ngcontent-%COMP%]   .attempted-url-section[_ngcontent-%COMP%]{margin-top:20px;padding-top:16px;border-top:1px solid #e0e0e0}.message-section[_ngcontent-%COMP%]   .attempted-url-section[_ngcontent-%COMP%]   .attempted-url[_ngcontent-%COMP%]{margin:0;color:#666;font-size:.9rem}.message-section[_ngcontent-%COMP%]   .attempted-url-section[_ngcontent-%COMP%]   .attempted-url[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.actions-section[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:16px;padding:16px 0}.actions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:140px}@media (max-width: 600px){.unauthorized-container[_ngcontent-%COMP%]{padding:16px}.unauthorized-card[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem}.unauthorized-card[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.message-section[_ngcontent-%COMP%]   .main-message[_ngcontent-%COMP%]{font-size:1rem}.actions-section[_ngcontent-%COMP%]{flex-direction:column}.actions-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;min-width:unset}}"]})}}return e})()}}]);