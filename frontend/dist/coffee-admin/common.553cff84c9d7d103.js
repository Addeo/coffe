"use strict";(self.webpackChunkcoffee_admin=self.webpackChunkcoffee_admin||[]).push([[76],{2517:(u,d,s)=>{s.d(d,{i:()=>O});var t=s(4292),c=s(9351),a=s(4165),l=s(5320),o=s(91),n=s(8497),i=s(4740),e=s(4755);function r(g,f){if(1&g&&(t.j41(0,"div",12)(1,"strong"),t.EFF(2),t.k0s(),t.nrm(3,"br"),t.j41(4,"small"),t.EFF(5),t.k0s()()),2&g){const p=t.XpG();t.R7$(2),t.Lme("",p.data.user.firstName," ",p.data.user.lastName,""),t.R7$(3),t.JRh(p.data.user.email)}}function m(g,f){1&g&&t.nrm(0,"mat-spinner",13)}function E(g,f){1&g&&(t.j41(0,"span"),t.EFF(1,"Delete"),t.k0s())}let O=(()=>{class g{constructor(){this.dialogRef=(0,t.WQX)(a.CP),this.usersService=(0,t.WQX)(i.g),this.toastService=(0,t.WQX)(e.f),this.data=(0,t.WQX)(a.Vh),this.isLoading=(0,t.vPA)(!1)}onConfirm(){this.data.user&&(this.isLoading.set(!0),this.usersService.deleteUser(this.data.user.id).subscribe({next:()=>{this.toastService.success("User deleted successfully"),this.dialogRef.close(!0)},error:p=>{console.error("Error deleting user:",p),this.toastService.error("Error deleting user. Please try again."),this.isLoading.set(!1)}}))}onCancel(){this.dialogRef.close(!1)}static{this.\u0275fac=function(h){return new(h||g)}}static{this.\u0275cmp=t.VBU({type:g,selectors:[["app-delete-confirmation-dialog"]],standalone:!0,features:[t.aNF],decls:18,vars:6,consts:[[1,"delete-dialog"],[1,"delete-header"],["color","warn"],["mat-dialog-title",""],[1,"delete-message"],["class","user-info",4,"ngIf"],[1,"warning-text"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","warn",3,"click","disabled"],["diameter","20",4,"ngIf"],[4,"ngIf"],[1,"user-info"],["diameter","20"]],template:function(h,_){1&h&&(t.j41(0,"div",0)(1,"div",1)(2,"mat-icon",2),t.EFF(3,"warning"),t.k0s(),t.j41(4,"h2",3),t.EFF(5),t.k0s()(),t.j41(6,"mat-dialog-content")(7,"p",4),t.EFF(8),t.k0s(),t.DNE(9,r,6,3,"div",5),t.j41(10,"p",6),t.EFF(11,"This action cannot be undone."),t.k0s()(),t.j41(12,"mat-dialog-actions",7)(13,"button",8),t.bIt("click",function(){return _.onCancel()}),t.EFF(14,"Cancel"),t.k0s(),t.j41(15,"button",9),t.bIt("click",function(){return _.onConfirm()}),t.DNE(16,m,1,0,"mat-spinner",10)(17,E,2,0,"span",11),t.k0s()()()),2&h&&(t.R7$(5),t.JRh(_.data.title||"Confirm Delete"),t.R7$(3),t.SpI(" ",_.data.message||"Are you sure you want to delete this user?"," "),t.R7$(),t.Y8G("ngIf",_.data.user),t.R7$(6),t.Y8G("disabled",_.isLoading()),t.R7$(),t.Y8G("ngIf",_.isLoading()),t.R7$(),t.Y8G("ngIf",!_.isLoading()))},dependencies:[c.MD,c.bT,a.hM,a.BI,a.E7,a.Yi,l.Hl,l.$z,o.m_,o.An,n.D6,n.LG],styles:[".delete-dialog[_ngcontent-%COMP%]{max-width:400px}.delete-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.delete-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.delete-message[_ngcontent-%COMP%]{margin:0 0 16px;line-height:1.5}.user-info[_ngcontent-%COMP%]{background:#f5f5f5;padding:12px;border-radius:4px;margin-bottom:16px}.user-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}.user-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#666}.warning-text[_ngcontent-%COMP%]{color:#d32f2f;font-weight:500;margin:0}mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 0 0}button[_ngcontent-%COMP%]{min-width:80px}"]})}}return g})()},4193:(u,d,s)=>{s.d(d,{B:()=>a});var t=s(4292),c=s(4165);let a=(()=>{class l{constructor(){this.dialog=(0,t.WQX)(c.bZ)}openDialog(n,i,e){return this.dialog.open(n,{data:i,width:"600px",maxWidth:"90vw",disableClose:!1,hasBackdrop:!0,backdropClass:"modal-backdrop",panelClass:"modal-panel",...e}).afterClosed()}closeAll(){this.dialog.closeAll()}static{this.\u0275fac=function(i){return new(i||l)}}static{this.\u0275prov=t.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},8953:(u,d,s)=>{s.d(d,{B:()=>o});var t=s(4292),c=s(6e3),a=s(878),l=s(777);let o=(()=>{class n{constructor(){this.http=(0,t.WQX)(c.Qq)}createOrder(e){return this.http.post(`${a.c.apiUrl}/orders`,e)}getOrders(e={}){let r=new c.Nl;return void 0!==e.page&&(r=r.set("page",e.page.toString())),void 0!==e.limit&&(r=r.set("limit",e.limit.toString())),e.status&&(r=r.set("status",e.status)),e.organizationId&&(r=r.set("organizationId",e.organizationId.toString())),e.engineerId&&(r=r.set("engineerId",e.engineerId.toString())),e.sortBy&&(r=r.set("sortBy",e.sortBy)),e.sortOrder&&(r=r.set("sortOrder",e.sortOrder)),this.http.get(`${a.c.apiUrl}/orders`,{params:r})}getOrderStats(){return this.http.get(`${a.c.apiUrl}/orders/stats`)}getOrder(e){return this.http.get(`${a.c.apiUrl}/orders/${e}`)}updateOrder(e,r){return this.http.patch(`${a.c.apiUrl}/orders/${e}`,r)}assignEngineer(e,r){return this.http.post(`${a.c.apiUrl}/orders/${e}/assign-engineer`,r)}deleteOrder(e){return this.http.delete(`${a.c.apiUrl}/orders/${e}`)}startOrder(e){return this.updateOrder(e,{status:l.Re.WORKING})}completeOrder(e){return this.updateOrder(e,{status:l.Re.COMPLETED})}updateMultipleOrders(e,r){return this.http.patch(`${a.c.apiUrl}/orders/batch`,{ids:e,updates:r})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()},5720:(u,d,s)=>{s.d(d,{k:()=>l});var t=s(4292),c=s(6e3),a=s(878);let l=(()=>{class o{constructor(){this.http=(0,t.WQX)(c.Qq)}getOrganizations(i){let e=new c.Nl;return void 0!==i?.page&&(e=e.set("page",i.page.toString())),void 0!==i?.limit&&(e=e.set("limit",i.limit.toString())),i?.search&&(e=e.set("search",i.search)),void 0!==i?.isActive&&(e=e.set("isActive",i.isActive.toString())),i?.sortBy&&(e=e.set("sortBy",i.sortBy)),i?.sortOrder&&(e=e.set("sortOrder",i.sortOrder)),this.http.get(`${a.c.apiUrl}/organizations`,{params:e})}getOrganization(i){return this.http.get(`${a.c.apiUrl}/organizations/${i}`)}createOrganization(i){return this.http.post(`${a.c.apiUrl}/organizations`,i)}updateOrganization(i,e){return this.http.patch(`${a.c.apiUrl}/organizations/${i}`,e)}deleteOrganization(i){return this.http.delete(`${a.c.apiUrl}/organizations/${i}`)}toggleOrganizationStatus(i){return this.http.patch(`${a.c.apiUrl}/organizations/${i}/toggle-status`,{})}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()},4740:(u,d,s)=>{s.d(d,{g:()=>l});var t=s(4292),c=s(6e3),a=s(878);let l=(()=>{class o{constructor(){this.http=(0,t.WQX)(c.Qq)}getUsers(i,e){let r=new c.Nl;return void 0!==i&&(r=r.set("page",i.toString())),void 0!==e&&(r=r.set("limit",e.toString())),this.http.get(`${a.c.apiUrl}/users`,{params:r})}getUser(i){return this.http.get(`${a.c.apiUrl}/users/${i}`)}createUser(i){return this.http.post(`${a.c.apiUrl}/users`,i)}updateUser(i,e){return this.http.patch(`${a.c.apiUrl}/users/${i}`,e)}deleteUser(i){return this.http.delete(`${a.c.apiUrl}/users/${i}`)}getUserProfile(){return this.http.get(`${a.c.apiUrl}/users/profile`)}updateProfile(i){return this.http.patch(`${a.c.apiUrl}/users/profile`,i)}static{this.\u0275fac=function(e){return new(e||o)}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})()},777:(u,d,s)=>{s.d(d,{F2:()=>a,Re:()=>t,jB:()=>c});var t=function(n){return n.WAITING="waiting",n.PROCESSING="processing",n.WORKING="working",n.REVIEW="review",n.COMPLETED="completed",n}(t||{}),c=function(n){return n.WAITING="Waiting",n.PROCESSING="Processing",n.WORKING="In Progress",n.REVIEW="Under Review",n.COMPLETED="Completed",n}(c||{}),a=function(n){return n.URBAN="urban",n.SUBURBAN="suburban",n.RURAL="rural",n.HOME="home",n.ZONE_1="zone_1",n.ZONE_2="zone_2",n.ZONE_3="zone_3",n}(a||{})}}]);