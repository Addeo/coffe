# –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2024-11-18  
**API URL:** `http://localhost:3001/api`

## üìã –û–±–∑–æ—Ä —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ü–æ–ª–Ω—ã–π end-to-end —Ç–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –æ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–∞ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞—è–≤–∫–∏ –∏–Ω–∂–µ–Ω–µ—Ä–æ–º.

---

## üîê –≠—Ç–∞–ø 1: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

### 1.1 –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω–∞
- **Endpoint:** `GET /auth/init-admin`
- **–ú–µ—Ç–æ–¥:** GET
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ
- **–¢–µ—Å—Ç:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ admin@example.com

### 1.2 –õ–æ–≥–∏–Ω –∞–¥–º–∏–Ω–∞
- **Endpoint:** `POST /auth/login`
- **–ú–µ—Ç–æ–¥:** POST
- **Body:**
  ```json
  {
    "email": "admin@example.com",
    "password": "admin123"
  }
  ```
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
  - `access_token` (JWT —Ç–æ–∫–µ–Ω)
  - `user` –æ–±—ä–µ–∫—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –∞–¥–º–∏–Ω–∞
  - `agreements` –æ–±—ä–µ–∫—Ç —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º —Å–æ–≥–ª–∞—à–µ–Ω–∏–π
- **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å:** `adminToken`

---

## üìù –≠—Ç–∞–ø 2: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è–º–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 2.1 –ü–æ–ª—É—á–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è (–¥–ª—è –∞–¥–º–∏–Ω–∞)
- **Endpoint:** `GET /agreements`
- **–ú–µ—Ç–æ–¥:** GET
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {adminToken}`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–≥–ª–∞—à–µ–Ω–∏–π

### 2.2 –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–æ–≥–ª–∞—à–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **Endpoint:** `GET /agreements/user/check`
- **–ú–µ—Ç–æ–¥:** GET
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {adminToken}`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç–∞—Ç—É—Å –ø—Ä–∏–Ω—è—Ç–∏—è —Å–æ–≥–ª–∞—à–µ–Ω–∏–π

---

## üè¢ –≠—Ç–∞–ø 3: –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

### 3.1 –°–æ–∑–¥–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é
- **Endpoint:** `POST /organizations`
- **–ú–µ—Ç–æ–¥:** POST
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {adminToken}`
- **–†–æ–ª—å:** ADMIN
- **Body:**
  ```json
  {
    "name": "–¢–µ—Å—Ç–æ–≤–∞—è –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è",
    "contactPerson": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "phone": "+79001234567",
    "email": "test@org.com",
    "address": "–ú–æ—Å–∫–≤–∞, —É–ª. –¢–µ—Å—Ç–æ–≤–∞—è, 1"
  }
  ```
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ–∑–¥–∞–Ω–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Å `id`
- **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å:** `organizationId`

---

## üë• –≠—Ç–∞–ø 4: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 4.1 –°–æ–∑–¥–∞—Ç—å –∏–Ω–∂–µ–Ω–µ—Ä–∞
- **Endpoint:** `POST /users`
- **–ú–µ—Ç–æ–¥:** POST
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {adminToken}`
- **–†–æ–ª—å:** ADMIN
- **Body:**
  ```json
  {
    "email": "engineer@test.com",
    "password": "engineer123",
    "firstName": "–ò–Ω–∂–µ–Ω–µ—Ä",
    "lastName": "–¢–µ—Å—Ç–æ–≤—ã–π",
    "role": "USER",
    "engineer": {
      "type": "FULL_TIME",
      "baseRate": 500,
      "overtimeCoefficient": 1.6,
      "planHoursMonth": 160
    }
  }
  ```
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ–∑–¥–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å `id` –∏ `engineer.id`
- **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å:** `engineerUserId`, `engineerId`

### 4.2 –°–æ–∑–¥–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞
- **Endpoint:** `POST /users`
- **–ú–µ—Ç–æ–¥:** POST
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {adminToken}`
- **–†–æ–ª—å:** ADMIN
- **Body:**
  ```json
  {
    "email": "manager@test.com",
    "password": "manager123",
    "firstName": "–ú–µ–Ω–µ–¥–∂–µ—Ä",
    "lastName": "–¢–µ—Å—Ç–æ–≤—ã–π",
    "role": "MANAGER"
  }
  ```
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ–∑–¥–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å `id`
- **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å:** `managerUserId`, `managerToken` (–ø–æ—Å–ª–µ –ª–æ–≥–∏–Ω–∞)

### 4.3 –õ–æ–≥–∏–Ω –º–µ–Ω–µ–¥–∂–µ—Ä–∞
- **Endpoint:** `POST /auth/login`
- **–ú–µ—Ç–æ–¥:** POST
- **Body:**
  ```json
  {
    "email": "manager@test.com",
    "password": "manager123"
  }
  ```
- **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å:** `managerToken`

---

## ‚úÖ –≠—Ç–∞–ø 5: –†–∞–±–æ—Ç–∞ —Å —Å–æ–≥–ª–∞—à–µ–Ω–∏—è–º–∏ (–∏–Ω–∂–µ–Ω–µ—Ä)

### 5.1 –õ–æ–≥–∏–Ω –∏–Ω–∂–µ–Ω–µ—Ä–∞
- **Endpoint:** `POST /auth/login`
- **–ú–µ—Ç–æ–¥:** POST
- **Body:**
  ```json
  {
    "email": "engineer@test.com",
    "password": "engineer123"
  }
  ```
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
  - `access_token`
  - `agreements.missingAgreements` - —Å–ø–∏—Å–æ–∫ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–æ–≥–ª–∞—à–µ–Ω–∏–π
- **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å:** `engineerToken`

### 5.2 –ü–æ–ª—É—á–∏—Ç—å —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è
- **Endpoint:** `GET /agreements`
- **–ú–µ—Ç–æ–¥:** GET
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {engineerToken}`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —Å–æ–≥–ª–∞—à–µ–Ω–∏–π
- **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å:** `agreementIds[]`

### 5.3 –ü—Ä–∏–Ω—è—Ç—å —Å–æ–≥–ª–∞—à–µ–Ω–∏—è
- **Endpoint:** `POST /agreements/accept`
- **–ú–µ—Ç–æ–¥:** POST
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {engineerToken}`
- **Body:**
  ```json
  {
    "agreementIds": [1, 2, 3]
  }
  ```
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –£—Å–ø–µ—à–Ω–æ–µ –ø—Ä–∏–Ω—è—Ç–∏–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–π

---

## üìã –≠—Ç–∞–ø 6: –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∞–º–∏

### 6.1 –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É (–º–µ–Ω–µ–¥–∂–µ—Ä)
- **Endpoint:** `POST /orders`
- **–ú–µ—Ç–æ–¥:** POST
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {managerToken}`
- **–†–æ–ª—å:** MANAGER
- **Body:**
  ```json
  {
    "organizationId": {organizationId},
    "title": "–¢–µ—Å—Ç–æ–≤–∞—è –∑–∞—è–≤–∫–∞",
    "description": "–û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π –∑–∞—è–≤–∫–∏",
    "location": "–ú–æ—Å–∫–≤–∞, —É–ª. –¢–µ—Å—Ç–æ–≤–∞—è, 10",
    "distanceKm": 15.5,
    "territoryType": "CITY",
    "source": "MANUAL"
  }
  ```
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ–∑–¥–∞–Ω–Ω–∞—è –∑–∞—è–≤–∫–∞ —Å `id` –∏ —Å—Ç–∞—Ç—É—Å–æ–º `WAITING`
- **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å:** `orderId`

### 6.2 –ü–æ–ª—É—á–∏—Ç—å –∑–∞—è–≤–∫—É (–ø—Ä–æ–≤–µ—Ä–∫–∞)
- **Endpoint:** `GET /orders/{orderId}`
- **–ú–µ—Ç–æ–¥:** GET
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {managerToken}`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –î–∞–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏

### 6.3 –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞—è–≤–æ–∫
- **Endpoint:** `GET /orders/stats`
- **–ú–µ—Ç–æ–¥:** GET
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {managerToken}`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞—è–≤–∫–∞–º

---

## üë∑ –≠—Ç–∞–ø 7: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–∂–µ–Ω–µ—Ä–∞

### 7.1 –ù–∞–∑–Ω–∞—á–∏—Ç—å –∏–Ω–∂–µ–Ω–µ—Ä–∞ –Ω–∞ –∑–∞—è–≤–∫—É (–º–µ–Ω–µ–¥–∂–µ—Ä)
- **Endpoint:** `POST /orders/{orderId}/assign-engineer`
- **–ú–µ—Ç–æ–¥:** POST
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {managerToken}`
- **–†–æ–ª—å:** MANAGER –∏–ª–∏ ADMIN
- **Body:**
  ```json
  {
    "engineerId": {engineerId},
    "isPrimary": true
  }
  ```
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∑–∞—è–≤–∫–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `ASSIGNED`

### 7.2 –ü–æ–ª—É—á–∏—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∑–∞—è–≤–∫–∏
- **Endpoint:** `GET /orders/{orderId}/assignments`
- **–ú–µ—Ç–æ–¥:** GET
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {engineerToken}`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–ø–∏—Å–æ–∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ –Ω–∞ –∑–∞—è–≤–∫—É

---

## ‚úÖ –≠—Ç–∞–ø 8: –ü—Ä–∏–Ω—è—Ç–∏–µ –∑–∞—è–≤–∫–∏ –∏–Ω–∂–µ–Ω–µ—Ä–æ–º

### 8.1 –ü–æ–ª—É—á–∏—Ç—å –º–æ–∏ –∑–∞—è–≤–∫–∏ (–∏–Ω–∂–µ–Ω–µ—Ä)
- **Endpoint:** `GET /orders?engineerId={engineerId}`
- **–ú–µ—Ç–æ–¥:** GET
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {engineerToken}`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –Ω–∞ –∏–Ω–∂–µ–Ω–µ—Ä–∞

### 8.2 –ü—Ä–∏–Ω—è—Ç—å –∑–∞—è–≤–∫—É (–∏–Ω–∂–µ–Ω–µ—Ä)
- **Endpoint:** `POST /orders/{orderId}/accept`
- **–ú–µ—Ç–æ–¥:** POST
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {engineerToken}`
- **–†–æ–ª—å:** USER (–∏–Ω–∂–µ–Ω–µ—Ä)
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ó–∞—è–≤–∫–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `WORKING`

---

## üìù –≠—Ç–∞–ø 9: –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–±–æ—á–µ–π —Å–µ—Å—Å–∏–∏

### 9.1 –°–æ–∑–¥–∞—Ç—å —Ä–∞–±–æ—á—É—é —Å–µ—Å—Å–∏—é
- **Endpoint:** `POST /orders/{orderId}/work-sessions`
- **–ú–µ—Ç–æ–¥:** POST
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {engineerToken}`
- **Body:**
  ```json
  {
    "workDate": "2024-11-18",
    "regularHours": 8,
    "overtimeHours": 2,
    "carPayment": 500,
    "distanceKm": 50,
    "territoryType": "CITY",
    "notes": "–í—ã–ø–æ–ª–Ω–µ–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ —Ä–µ–º–æ–Ω—Ç",
    "canBeInvoiced": true
  }
  ```
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ–∑–¥–∞–Ω–Ω–∞—è —Ä–∞–±–æ—á–∞—è —Å–µ—Å—Å–∏—è —Å —Ä–∞—Å—á–µ—Ç–Ω—ã–º–∏ —Å—É–º–º–∞–º–∏
- **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å:** `workSessionId`

### 9.2 –ü–æ–ª—É—á–∏—Ç—å —Ä–∞–±–æ—á–∏–µ —Å–µ—Å—Å–∏–∏ –∑–∞—è–≤–∫–∏
- **Endpoint:** `GET /orders/{orderId}/work-sessions`
- **–ú–µ—Ç–æ–¥:** GET
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {engineerToken}`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–ø–∏—Å–æ–∫ —Ä–∞–±–æ—á–∏—Ö —Å–µ—Å—Å–∏–π

### 9.3 –ü–æ–ª—É—á–∏—Ç—å –º–æ–∏ —Ä–∞–±–æ—á–∏–µ —Å–µ—Å—Å–∏–∏ (–∏–Ω–∂–µ–Ω–µ—Ä)
- **Endpoint:** `GET /work-sessions/my/sessions`
- **–ú–µ—Ç–æ–¥:** GET
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {engineerToken}`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–ø–∏—Å–æ–∫ —Ä–∞–±–æ—á–∏—Ö —Å–µ—Å—Å–∏–π –∏–Ω–∂–µ–Ω–µ—Ä–∞

---

## ‚úÖ –≠—Ç–∞–ø 10: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã

### 10.1 –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞–¥ –∑–∞—è–≤–∫–æ–π (–∏–Ω–∂–µ–Ω–µ—Ä)
- **Endpoint:** `POST /orders/{orderId}/complete-work`
- **–ú–µ—Ç–æ–¥:** POST
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {engineerToken}`
- **–†–æ–ª—å:** USER
- **Body:**
  ```json
  {
    "regularHours": 8,
    "overtimeHours": 2,
    "carPayment": 500,
    "distanceKm": 50,
    "territoryType": "CITY",
    "notes": "–†–∞–±–æ—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞",
    "isFullyCompleted": true
  }
  ```
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ó–∞—è–≤–∫–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `COMPLETED`

### 10.2 –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–∞—è–≤–∫—É (–º–µ–Ω–µ–¥–∂–µ—Ä)
- **Endpoint:** `POST /orders/{orderId}/complete`
- **–ú–µ—Ç–æ–¥:** POST
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {managerToken}`
- **–†–æ–ª—å:** MANAGER –∏–ª–∏ ADMIN
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ó–∞—è–≤–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

---

## üìä –≠—Ç–∞–ø 11: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

### 11.1 –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–Ω–∂–µ–Ω–µ—Ä–∞
- **Endpoint:** `GET /statistics/engineer/{engineerId}?year=2024&month=11`
- **–ú–µ—Ç–æ–¥:** GET
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {managerToken}` –∏–ª–∏ `{adminToken}`
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –∏–Ω–∂–µ–Ω–µ—Ä–∞

### 11.2 –ü–æ–ª—É—á–∏—Ç—å –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (–∞–¥–º–∏–Ω)
- **Endpoint:** `GET /statistics/comprehensive?year=2024&month=11`
- **–ú–µ—Ç–æ–¥:** GET
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** `Authorization: Bearer {adminToken}`
- **–†–æ–ª—å:** ADMIN
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–æ–≤

1. ‚úÖ –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å—Ç–∞—Ç—É—Å 200 –∏–ª–∏ 201
2. ‚úÖ –¢–æ–∫–µ–Ω—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç
3. ‚úÖ –°–æ–≥–ª–∞—à–µ–Ω–∏—è –ø—Ä–∏–Ω—è—Ç—ã –∏–Ω–∂–µ–Ω–µ—Ä–æ–º
4. ‚úÖ –ó–∞—è–≤–∫–∞ —Å–æ–∑–¥–∞–Ω–∞ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –Ω–∞ –∏–Ω–∂–µ–Ω–µ—Ä–∞
5. ‚úÖ –ò–Ω–∂–µ–Ω–µ—Ä –ø—Ä–∏–Ω—è–ª –∑–∞—è–≤–∫—É
6. ‚úÖ –†–∞–±–æ—á–∞—è —Å–µ—Å—Å–∏—è —Å–æ–∑–¥–∞–Ω–∞ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ —Ä–∞—Å—á–µ—Ç–∞–º–∏
7. ‚úÖ –ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
8. ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –¥–∞—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601: `YYYY-MM-DD` –∏–ª–∏ `YYYY-MM-DDTHH:mm:ssZ`
- –í—Å–µ —Å—É–º–º—ã –≤ —Ä—É–±–ª—è—Ö (decimal)
- –í—Å–µ —Ç–æ–∫–µ–Ω—ã –∏–º–µ—é—Ç –ø—Ä–µ—Ñ–∏–∫—Å `Bearer `
- –ü—Ä–∏ –æ—à–∏–±–∫–µ 401 - —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –ü—Ä–∏ –æ—à–∏–±–∫–µ 403 - –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ (—Ä–æ–ª—å)
- –ü—Ä–∏ –æ—à–∏–±–∫–µ 404 - —Ä–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω

---

## üîÑ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω–∞ ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ adminToken
2. –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ organizationId
3. –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–∂–µ–Ω–µ—Ä–∞ ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ engineerUserId, engineerId
4. –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ managerUserId
5. –õ–æ–≥–∏–Ω –º–µ–Ω–µ–¥–∂–µ—Ä–∞ ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ managerToken
6. –õ–æ–≥–∏–Ω –∏–Ω–∂–µ–Ω–µ—Ä–∞ ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ engineerToken
7. –ü—Ä–∏–Ω—è—Ç–∏–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–π –∏–Ω–∂–µ–Ω–µ—Ä–æ–º
8. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ orderId
9. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–∂–µ–Ω–µ—Ä–∞ –Ω–∞ –∑–∞—è–≤–∫—É
10. –ü—Ä–∏–Ω—è—Ç–∏–µ –∑–∞—è–≤–∫–∏ –∏–Ω–∂–µ–Ω–µ—Ä–æ–º
11. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–±–æ—á–µ–π —Å–µ—Å—Å–∏–∏ ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ workSessionId
12. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –∑–∞—è–≤–∫–æ–π
13. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

