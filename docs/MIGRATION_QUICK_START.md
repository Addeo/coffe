# ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ Production

## üéØ –ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç

–î–æ–±–∞–≤–ª—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É `work_sessions` –¥–ª—è —É—á—ë—Ç–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤—ã–µ–∑–¥–æ–≤ –ø–æ –∑–∞–∫–∞–∑–∞–º –≤ —Ä–∞–∑–Ω—ã–µ –º–µ—Å—è—Ü—ã.

---

## üöÄ –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–∏ (3 —à–∞–≥–∞)

### 1Ô∏è‚É£ –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VPS

```bash
ssh user@your-vps-ip
cd /path/to/coffee-admin/backend
```

### 2Ô∏è‚É£ –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
source .env
```

### 3Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é

```bash
cd migrations
./run-migration.sh
```

–°–∫—Ä–∏–ø—Ç:
- ‚úÖ –°–æ–∑–¥–∞—Å—Ç backup –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –ü–æ–∫–∞–∂–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ë–î
- ‚úÖ –ü–æ–ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
- ‚úÖ –í—ã–ø–æ–ª–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏—é
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

---

## ‚è±Ô∏è –í—Ä–µ–º—è: ~1-2 –º–∏–Ω—É—Ç—ã

---

## ‚úÖ –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend:

```bash
pm2 restart coffee-backend
# –∏–ª–∏
npm run start:prod
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- –û—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–∫–∞–∑
- –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –≤–∫–ª–∞–¥–∫–∞ "–†–∞–±–æ—á–∏–µ —Å–µ—Å—Å–∏–∏"

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫

–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ backup:

```bash
cd backend

# –ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π backup
ls -lht backups/backup-*.sql | head -1

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ
mysql -h $DB_HOST -u $DB_USERNAME -p$DB_PASSWORD $DB_DATABASE \
  < backups/backup-YYYY-MM-DD-HH-MM-SS.sql

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend
pm2 restart coffee-backend
```

---

## üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º. **`docs/PRODUCTION_MIGRATION_GUIDE.md`** –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.

---

**–ì–æ—Ç–æ–≤—ã? –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é!** üöÄ

