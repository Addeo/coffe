# –ü–ª–∞–Ω –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –æ—Ç–≤–µ—Ç–æ–≤

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø (–í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢)

### 1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã—Ö —á–∞—Å–æ–≤ ‚ö†Ô∏è –í–ê–ñ–ù–û–ï –ò–ó–ú–ï–ù–ï–ù–ò–ï

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- –°–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã–µ —á–∞—Å—ã —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ —Å—Ç–∞–≤–∫–µ (overtimeRate)
- –û—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —á–∞—Å—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–∞–∫ `regularHours + overtimeHours`

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**
- –°–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã–µ —á–∞—Å—ã –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç** –≤–º–µ—Å—Ç–æ —Å—Ç–∞–≤–∫–∏
- –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —É–º–Ω–æ–∂–∞–µ—Ç—Å—è –Ω–∞ –±–∞–∑–æ–≤—É—é —Å—Ç–∞–≤–∫—É –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –æ–ø–ª–∞—Ç—ã
- **–î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —á–∞—Å–æ–≤:** `regularHours + (overtimeHours * overtimeCoefficient)`
- –ü—Ä–∏–º–µ—Ä: 100 –æ–±—ã—á–Ω—ã—Ö + 50 —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã—Ö —Å –∫–æ—ç—Ñ. 1.6 = `100 + 50*1.6 = 180 —á–∞—Å–æ–≤`

**–ß—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:**

#### Backend:
1. **WorkSession Entity** (`backend/src/entities/work-session.entity.ts`):
   - –ó–∞–º–µ–Ω–∏—Ç—å `engineerOvertimeRate: number` –Ω–∞ `engineerOvertimeCoefficient: number`
   - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `overtimeCoefficient` –≤ —Å—Ö–µ–º—É

2. **Order Entity** (`backend/src/entities/order.entity.ts`):
   - –ó–∞–º–µ–Ω–∏—Ç—å `overtimeHours` —Ä–∞—Å—á–µ—Ç –Ω–∞ —É—á–µ—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞
   - –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—è, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å–æ —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã–º–∏

3. **CalculationService** (`backend/src/modules/—Ä–∞—Å—á–µ—Ç—ã/calculation.service.ts`):
   ```typescript
   // –ë—ã–ª–æ:
   const overtimePayment = overtimeHours * rates.overtimeRate;
   
   // –°—Ç–∞–Ω–µ—Ç:
   const overtimeCoefficient = rates.overtimeCoefficient || 1.6; // –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –∫–æ—ç—Ñ.
   const overtimePayment = overtimeHours * rates.baseRate * overtimeCoefficient;
   
   // –î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–∞—Å–æ–≤:
   const totalWorkedHours = regularHours + (overtimeHours * overtimeCoefficient);
   ```

4. **EngineerOrganizationRate Entity** (`backend/src/entities/engineer-organization-rate.entity.ts`):
   - –ó–∞–º–µ–Ω–∏—Ç—å `customOvertimeRate` –Ω–∞ `customOvertimeCoefficient: number`
   - –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ –ø–æ–ª—è –≤ –Ω–æ–≤–æ–µ

5. **Engineer Entity** (`backend/src/entities/engineer.entity.ts`):
   - –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å `overtimeRate` –≤ `overtimeCoefficient`
   - –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø —Å `decimal` –Ω–∞ `decimal(5,2)` –¥–ª—è –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞

6. **StatisticsService** (`backend/src/modules/statistics/statistics.service.ts`):
   - –û–±–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è —É—á–µ—Ç–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –≤ —á–∞—Å–∞—Ö:
   ```typescript
   const totalHours = regularHours + (overtimeHours * overtimeCoefficient);
   ```

#### Frontend:
1. **DTOs** (`shared/dtos/order.dto.ts`, `shared/dtos/work-session.dto.ts`):
   - –ó–∞–º–µ–Ω–∏—Ç—å `overtimeRate` –Ω–∞ `overtimeCoefficient`
   - –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

2. **Components** - –≤—Å–µ –º–µ—Å—Ç–∞, –≥–¥–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —á–∞—Å—ã:
   - –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ: `regularHours + (overtimeHours * coefficient)`
   - –ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞—Å—á–µ—Ç –≤ –≤–∏–¥–µ —Ñ–æ—Ä–º—É–ª—ã –¥–ª—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏

3. **Forms** - –≥–¥–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç—Å—è —Å—Ç–∞–≤–∫–∏:
   - –ü–æ–ª–µ "–°—Ç–∞–≤–∫–∞ –∑–∞ —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã–µ" ‚Üí "–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã—Ö"
   - –ü–æ–¥—Å–∫–∞–∑–∫–∞: "–ù–∞–ø—Ä–∏–º–µ—Ä, 1.6 –æ–∑–Ω–∞—á–∞–µ—Ç –æ–ø–ª–∞—Ç—É –≤ 1.6 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ –±–∞–∑–æ–≤–æ–π —Å—Ç–∞–≤–∫–∏"

**–ú–∏–≥—Ä–∞—Ü–∏—è –ë–î:**
```sql
-- –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è WorkSession
ALTER TABLE work_sessions 
  ADD COLUMN engineer_overtime_coefficient DECIMAL(5,2) DEFAULT 1.6,
  ADD COLUMN organization_overtime_coefficient DECIMAL(5,2) DEFAULT 1.5;

-- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ overtimeRate –±—ã–ª 1050, –∞ baseRate 700, —Ç–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç = 1050/700 = 1.5)
UPDATE work_sessions 
SET engineer_overtime_coefficient = CASE 
  WHEN engineer_base_rate > 0 
  THEN engineer_overtime_rate / engineer_base_rate 
  ELSE 1.6 
END;

-- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è EngineerOrganizationRate
ALTER TABLE engineer_organization_rates
  ADD COLUMN custom_overtime_coefficient DECIMAL(5,2),
  ADD COLUMN custom_zone1_extra DECIMAL(10,2),
  ADD COLUMN custom_zone2_extra DECIMAL(10,2),
  ADD COLUMN custom_zone3_extra DECIMAL(10,2);

-- –ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö - —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∫–æ–ª–æ–Ω–∫–∏
-- ALTER TABLE work_sessions DROP COLUMN engineer_overtime_rate;
-- ALTER TABLE engineer_organization_rates DROP COLUMN custom_overtime_rate;
```

---

### 2. WorkSession –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –£–¥–∞–ª–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Order` –ø–æ–ª–µ–π –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (regularHours, overtimeHours, calculatedAmount)
- –í—Å–µ —Ä–∞—Å—á–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ –∏–∑ `WorkSession`
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–æ `workDate` –∏–∑ WorkSession

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. **StatisticsService** - –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –≤—Å–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Ç–æ–ª—å–∫–æ —Å WorkSession
2. –£–±—Ä–∞—Ç—å –∞–≥—Ä–µ–≥–∞—Ü–∏—é –∏–∑ Order
3. –û–±–Ω–æ–≤–∏—Ç—å API endpoints –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

---

### 3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã—Ö —á–∞—Å–æ–≤

**–ù–æ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ:** –°–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã–µ = —Ä–∞–±–æ—Ç–∞ –≤ –≤—ã—Ö–æ–¥–Ω—ã–µ, –ø—Ä–∞–∑–¥–Ω–∏–∫–∏, –±—É–¥–Ω–∏ 22:00-06:00

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. **CalculationService.isOvertimeWork()** - –æ–±–Ω–æ–≤–∏—Ç—å –ª–æ–≥–∏–∫—É:
   ```typescript
   isOvertimeWork(startTime: Date, endTime: Date): boolean {
     const hours = this.calculateWorkHours(startTime, endTime);
     const dayOfWeek = startTime.getDay();
     
     // –í—ã—Ö–æ–¥–Ω—ã–µ (0=Sunday, 6=Saturday)
     if (dayOfWeek === 0 || dayOfWeek === 6) return true;
     
     // –ü—Ä–∞–∑–¥–Ω–∏–∫–∏ (–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É holidays –∏–ª–∏ API)
     if (this.isHoliday(startTime)) return true;
     
     // –ë—É–¥–Ω–∏–µ –¥–Ω–∏: 22:00-06:00
     const hour = startTime.getHours();
     if (hour >= 22 || hour < 6) return true;
     
     return false;
   }
   ```

2. –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É `holidays` –¥–ª—è –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã—Ö –¥–Ω–µ–π
3. –í UI –¥–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã—Ö –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ WorkSession

---

### 4. –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ - –ø–µ—Ä–µ—Å–º–æ—Ç—Ä

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**

1. **–ê–¥–º–∏–Ω –Ω–µ —Å–æ–∑–¥–∞–µ—Ç –∑–∞—è–≤–∫–∏** - —É–±—Ä–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–æ–∫ –¥–ª—è ADMIN
   - `OrdersController.create()` - –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ `UserRole.MANAGER`
   - `OrdersController.createAutomatic()` - —É–¥–∞–ª–∏—Ç—å –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ MANAGER

2. **–ú–µ–Ω–µ–¥–∂–µ—Ä –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞—è–≤–∫–∏**
   - –û–±–Ω–æ–≤–∏—Ç—å `@Roles(UserRole.MANAGER)` –≤ `createAutomatic()`

3. **–ò–Ω–∂–µ–Ω–µ—Ä –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∑–∞—è–≤–∫–∏**
   - –û–±–Ω–æ–≤–∏—Ç—å `OrdersService.findAll()` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ assignedEngineerId

4. **–ú–µ–Ω–µ–¥–∂–µ—Ä –≤–∏–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —á–∞—Å–∞–º –≤—Å–µ—Ö –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤, –Ω–æ –Ω–µ –ø–æ –∑–∞—Ä–∞–±–æ—Ç–∫—É**
   - –†–∞–∑–¥–µ–ª–∏—Ç—å endpoints —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:
     - `/statistics/hours` - –¥–æ—Å—Ç—É–ø–µ–Ω MANAGER
     - `/statistics/earnings` - —Ç–æ–ª—å–∫–æ ADMIN

5. **–ú–µ–Ω–µ–¥–∂–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —Å—Ç–∞–≤–∫–∏ –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤**
   - `EngineerOrganizationRatesController` - –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ `UserRole.ADMIN`

---

### 5. –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞–≤–æ–∫

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞–≤–æ–∫

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
1. –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É `engineer_organization_rate_history`:
   ```sql
   CREATE TABLE engineer_organization_rate_history (
     id INT PRIMARY KEY AUTO_INCREMENT,
     engineer_organization_rate_id INT,
     custom_base_rate DECIMAL(10,2),
     custom_overtime_coefficient DECIMAL(5,2),
     changed_by INT,
     changed_at DATETIME,
     valid_from DATETIME,
     valid_to DATETIME,
     FOREIGN KEY (engineer_organization_rate_id) REFERENCES engineer_organization_rates(id)
   );
   ```

2. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞–≤–∫–∏ - —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏—é
3. –ü—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –æ–ø–ª–∞—Ç—ã - –±—Ä–∞—Ç—å —Å—Ç–∞–≤–∫—É, –¥–µ–π—Å—Ç–≤–æ–≤–∞–≤—à—É—é –Ω–∞ –¥–∞—Ç—É —Ä–∞–±–æ—Ç—ã (`workDate`)

---

### 6. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ –Ω–∞ –∑–∞—è–≤–∫—É

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** `assignedEngineerId` - –æ–¥–Ω–æ –ø–æ–ª–µ, –æ–¥–∏–Ω –∏–Ω–∂–µ–Ω–µ—Ä

**–†–µ—à–µ–Ω–∏–µ:**
1. –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É —Å–≤—è–∑–∏ many-to-many:
   ```sql
   CREATE TABLE order_engineers (
     id INT PRIMARY KEY AUTO_INCREMENT,
     order_id INT,
     engineer_id INT,
     assigned_by INT,
     assigned_at DATETIME,
     accepted_at DATETIME,
     status ENUM('assigned', 'accepted', 'completed') DEFAULT 'assigned',
     FOREIGN KEY (order_id) REFERENCES orders(id),
     FOREIGN KEY (engineer_id) REFERENCES engineers(id)
   );
   ```

2. –û–±–Ω–æ–≤–∏—Ç—å `Order.assignEngineer()` - –¥–æ–±–∞–≤–ª—è—Ç—å –≤ —Ç–∞–±–ª–∏—Ü—É —Å–≤—è–∑–∏
3. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É - —É—á–∏—Ç—ã–≤–∞—Ç—å –≤—Å–µ—Ö –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ –ø–æ –∏—Ö WorkSession
4. –û–±–Ω–æ–≤–∏—Ç—å UI - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤

---

## üìã –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢

### 7. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π

**–õ–æ–≥–∏–∫–∞:**
- –ü—Ä–∏ –ª–æ–≥–∏–Ω–µ - –≤—Å–µ–≥–¥–∞ `primaryRole`
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω–∞ —Ä–æ–ª–∏ **–Ω–∏–∂–µ** —Ç–µ–∫—É—â–µ–π
- –ù–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. **AuthService.switchRole()** - –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É:
   ```typescript
   const canSwitchTo = getAvailableRoles(primaryRole);
   if (!canSwitchTo.includes(newRole)) {
     throw new BadRequestException('Cannot switch to higher role');
   }
   ```

2. **Frontend** - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–æ–ª–∏ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
3. –ü—Ä–∏ logout - —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å activeRole

---

### 8. –ò–Ω–∂–µ–Ω–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç –∑–∞—è–≤–∫–∏

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –£–±—Ä–∞—Ç—å –∫–Ω–æ–ø–∫—É "–û—Ç–∫–ª–æ–Ω–∏—Ç—å" –≤ UI –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤
- –£–±—Ä–∞—Ç—å endpoint `/orders/:id/reject` –µ—Å–ª–∏ –µ—Å—Ç—å

---

### 9. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∑–∞ 1 —á–∞—Å –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** –ï—Å–ª–∏ –∏–Ω–∂–µ–Ω–µ—Ä –Ω–µ –ø—Ä–∏–Ω—è–ª –∑–∞—è–≤–∫—É –∑–∞ 1 —á–∞—Å –¥–æ —Å—Ä–æ–∫–∞ ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä—É –∏ –∞–¥–º–∏–Ω—É

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
1. –°–æ–∑–¥–∞—Ç—å scheduled task (cron job):
   ```typescript
   @Cron('0 * * * *') // –ö–∞–∂–¥—ã–π —á–∞—Å
   async checkPendingAssignments() {
     const oneHourFromNow = new Date(Date.now() + 60 * 60 * 1000);
     
     const pendingOrders = await this.ordersRepository.find({
       where: {
         status: OrderStatus.ASSIGNED,
         plannedStartDate: LessThan(oneHourFromNow)
       },
       relations: ['assignedEngineer', 'createdBy']
     });
     
     for (const order of pendingOrders) {
       // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä—É –∏ –∞–¥–º–∏–Ω—É
       // Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏–Ω–∂–µ–Ω–µ—Ä—É
     }
   }
   ```

2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Firebase Cloud Messaging –∏–ª–∏ –∞–Ω–∞–ª–æ–≥)

---

### 10. –†–∞–±–æ—á–∏–µ —Å–µ—Å—Å–∏–∏ - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ —Ç–æ–ª—å–∫–æ –∏–Ω–∂–µ–Ω–µ—Ä–æ–º
2. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ
3. –ó–∞–¥–Ω–∏–º —á–∏—Å–ª–æ–º - –Ω–µ –±–æ–ª–µ–µ 24 —á–∞—Å–æ–≤
4. –í–∞–ª–∏–¥–∞—Ü–∏—è `workDate`:
   ```typescript
   const now = new Date();
   const maxPastDate = new Date(now.getTime() - 24 * 60 * 60 * 1000);
   const maxFutureDate = new Date(now.getTime() + 1 * 60 * 60 * 1000); // +1 —á–∞—Å
   
   if (workDate < maxPastDate || workDate > maxFutureDate) {
     throw new BadRequestException('Work date must be within last 24 hours');
   }
   ```

---

### 11. –ß–∞—Å—Ç–∏—á–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –¢–æ–ª—å–∫–æ –º–µ–Ω–µ–¥–∂–µ—Ä –º–æ–∂–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ —á–∞—Å—Ç–∏—á–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—É—é
2. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `completionComment` –≤ Order
3. –ü—Ä–∏ —á–∞—Å—Ç–∏—á–Ω–æ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ - —Ä–∞—Å—á–µ—Ç –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
4. –ó–∞—è–≤–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –≤ —Å—Ç–∞—Ç—É—Å–µ WORKING

---

### 12. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫ = –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 0

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:**
```typescript
// –ë—ã–ª–æ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è engineer.baseRate
// –°—Ç–∞–Ω–µ—Ç: –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç = 0, –æ–ø–ª–∞—Ç–∞ = 0
if (!customRate) {
  throw new Error('Individual rates must be set. Work cannot be calculated.');
  // –ò–õ–ò –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 0
}
```

**–ù—É–∂–Ω–æ —É—Ç–æ—á–Ω–∏—Ç—å:** –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —Å—Ç–∞–≤–∫–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã - –æ—à–∏–±–∫–∞ –∏–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ?

---

### 13. –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–ø–ª–∞—Ç–∞ –∑–∞ –º–∞—à–∏–Ω—É (fixedCarAmount)

**–õ–æ–≥–∏–∫–∞:**
- –û–¥–∏–Ω —Ä–∞–∑ –≤ –º–µ—Å—è—Ü (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∏–∑ —Å—Ç–∞–≤–æ–∫ –∑–∞ –º–µ—Å—è—Ü)
- –î–æ–ø–ª–∞—Ç—ã –∑–∞ –∑–æ–Ω—ã - –∑–∞ –∫–∞–∂–¥—ã–π –≤—ã–µ–∑–¥ –æ—Ç–¥–µ–ª—å–Ω–æ

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. **CalculationService.calculateMonthlySalary()**:
   ```typescript
   // –ù–∞–π—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π fixedCarAmount –∏–∑ –≤—Å–µ—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –∑–∞ –º–µ—Å—è—Ü
   let maxFixedCarAmount = 0;
   for (const [orgId, orgOrders] of organizationOrders) {
     const org = orgOrders[0].organization;
     const rates = await this.getEngineerRatesForOrganization(engineer, org);
     maxFixedCarAmount = Math.max(maxFixedCarAmount, rates.fixedCarAmount);
   }
   
   // –î–æ–ø–ª–∞—Ç—ã –∑–∞ –∑–æ–Ω—ã - —Å—É–º–º–∏—Ä—É—é—Ç—Å—è –∑–∞ –∫–∞–∂–¥—ã–π –≤—ã–µ–∑–¥
   let zoneExtraAmount = 0;
   for (const order of orders) {
     if (order.territoryType && order.territoryType !== TerritoryType.HOME) {
       const rates = await this.getEngineerRatesForOrganization(engineer, order.organization);
       zoneExtraAmount += rates.zone1Extra || rates.zone2Extra || rates.zone3Extra || 0;
     }
   }
   
   const totalCarAmount = maxFixedCarAmount + zoneExtraAmount;
   ```

---

### 14. –ü–ª–∞–Ω —á–∞—Å–æ–≤ –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Ä–∞–±–æ—Ç–∫–∞

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å `planHoursMonth` –∏ `actualHours` –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ
2. –ï—Å–ª–∏ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–æ –±–æ–ª—å—à–µ –ø–ª–∞–Ω–∞:
   - –ö —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞—Ä–ø–ª–∞—Ç–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —á–∞—Å–æ–≤
   - –†–∞—Å—á–µ—Ç: `(actualHours - planHours) * baseRate * overtimeCoefficient`
3. –ï—Å–ª–∏ –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–æ –º–µ–Ω—å—à–µ –ø–ª–∞–Ω–∞ - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞ –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è

**–§–æ—Ä–º—É–ª–∞ –∑–∞—Ä–ø–ª–∞—Ç—ã:**
```typescript
const baseSalary = Math.max(fixedSalary, earnedAmount);
const overtimeBonus = actualHours > planHours 
  ? (actualHours - planHours) * baseRate * overtimeCoefficient 
  : 0;
const totalSalary = baseSalary + overtimeBonus + totalCarAmount;
```

---

### 15. –ü—Ä–∏–±—ã–ª—å –∫–æ–º–ø–∞–Ω–∏–∏

**–ù–æ–≤–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** –ü—Ä–∏–±—ã–ª—å = —Å—É–º–º–∞ –≤—Å–µ—Ö –æ—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —á–∞—Å–æ–≤ * —Å—Ç–∞–≤–∫–∞ –æ–ø–ª–∞—Ç—ã –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –ù—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞–≤–∫—É –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–π WorkSession
2. –†–∞—Å—á–µ—Ç:
   ```typescript
   const profit = organizationPayment - engineerEarnings - carUsageAmount;
   ```

3. –£–±—Ä–∞—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ `receivedFromOrganization` - –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

---

### 16. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –Ω–∞—Ä–∞–±–æ—Ç–∫–µ —á–∞—Å–æ–≤ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞

**–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ endpoints:**
1. `/statistics/hours` - –¥–æ—Å—Ç—É–ø–µ–Ω MANAGER –∏ ADMIN
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á–∞—Å—ã –≤—Å–µ—Ö –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤
   - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–∞
   - –ë–µ–∑ –¥–∞–Ω–Ω—ã—Ö –æ –∑–∞—Ä–∞–±–æ—Ç–∫–µ

2. `/statistics/earnings` - —Ç–æ–ª—å–∫–æ ADMIN
   - –ü–æ–ª–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å –∑–∞—Ä–∞–±–æ—Ç–∫–æ–º

3. `/statistics/my` - –¥–ª—è USER
   - –¢–æ–ª—å–∫–æ —Å–≤–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

---

## üìä –°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢

### 17. –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- –û—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Service Workers –¥–ª—è –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—á–µ—Ä–µ–¥—å –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
3. –ò–Ω–¥–∏–∫–∞—Ü–∏—è –æ—Ñ–ª–∞–π–Ω/–æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å–∞

---

### 18. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –ø–æ –∑–∞—è–≤–∫–∞–º
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
3. –¢–∞–±–ª–∏—Ü–∞ `user_notification_settings`:
   ```sql
   CREATE TABLE user_notification_settings (
     user_id INT,
     notification_type VARCHAR(50),
     enabled BOOLEAN DEFAULT true,
     push_enabled BOOLEAN DEFAULT true,
     email_enabled BOOLEAN DEFAULT false,
     configured_by INT,
     PRIMARY KEY (user_id, notification_type)
   );
   ```

---

### 19. –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

**–¢—Ä–µ–±—É–µ—Ç—Å—è —É—Ç–æ—á–Ω–µ–Ω–∏–µ:**
- –ö–∞–∫–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã –Ω—É–∂–Ω—ã (Excel, PDF, CSV)?
- –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏?
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —ç–∫—Å–ø–æ—Ä—Ç –Ω—É–∂–µ–Ω?

–ü–æ–∫–∞ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å, –¥–æ–±–∞–≤–∏—Ç—å –≤ backlog.

---

### 20. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞—è–≤–∫–∏

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ù–µ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —Å–µ–π—á–∞—Å

**–î–µ–π—Å—Ç–≤–∏–µ:** –û—Å—Ç–∞–≤–∏—Ç—å endpoints, –Ω–æ –ø–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ "–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ"

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –£–õ–£–ß–®–ï–ù–ò–Ø

### 21. –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

**–ü–ª–∞–Ω:**
1. –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤—Å—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –Ω–∞ WorkSession
2. –ü–æ–º–µ—Ç–∏—Ç—å –ø–æ–ª—è –≤ Order –∫–∞–∫ deprecated (–Ω–µ —É–¥–∞–ª—è—Ç—å —Å—Ä–∞–∑—É)
3. –ß–µ—Ä–µ–∑ 3 –º–µ—Å—è—Ü–∞ —É–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–ª—è

---

### 22. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–£–ª—É—á—à–µ–Ω–∏—è:**
1. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π exception filter (—É–∂–µ –µ—Å—Ç—å `AllExceptionsFilter`)
2. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

---

### 23. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü–ª–∞–Ω (–Ω–µ–∫—Ä–∏—Ç–∏—á–Ω–æ):**
1. –ó–∞–º–µ–Ω–∏—Ç—å `console.log` –Ω–∞ Winston/Pino
2. –£—Ä–æ–≤–Ω–∏: DEBUG, INFO, WARN, ERROR
3. –ê—É–¥–∏—Ç-–ª–æ–≥–∏ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π

---

## üìÖ –ü–õ–ê–ù –í–ù–ï–î–†–ï–ù–ò–Ø

### –§–∞–∑–∞ 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ - 2-3 –Ω–µ–¥–µ–ª–∏):
1. ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã—Ö (–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–º–µ—Å—Ç–æ —Å—Ç–∞–≤–∫–∏)
2. ‚úÖ WorkSession –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫
3. ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã—Ö –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã
4. ‚úÖ –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (–∞–¥–º–∏–Ω –Ω–µ —Å–æ–∑–¥–∞–µ—Ç –∑–∞—è–≤–∫–∏)
5. ‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞–≤–æ–∫

### –§–∞–∑–∞ 2 (–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - 2 –Ω–µ–¥–µ–ª–∏):
6. ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤
7. ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π
8. ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–µ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã—Ö –∑–∞—è–≤–∫–∞—Ö
9. ‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã
10. ‚úÖ –ü–ª–∞–Ω —á–∞—Å–æ–≤ –∏ –Ω–∞—Ä–∞–±–æ—Ç–∫–∞

### –§–∞–∑–∞ 3 (–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - 2 –Ω–µ–¥–µ–ª–∏):
11. ‚úÖ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–ø–ª–∞—Ç–∞ –∑–∞ –º–∞—à–∏–Ω—É (—Ä–∞–∑ –≤ –º–µ—Å—è—Ü)
12. ‚úÖ –î–æ–ø–ª–∞—Ç—ã –∑–∞ –∑–æ–Ω—ã (–∑–∞ –∫–∞–∂–¥—ã–π –≤—ã–µ–∑–¥)
13. ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞ (—á–∞—Å—ã –±–µ–∑ –∑–∞—Ä–∞–±–æ—Ç–∫–∞)
14. ‚úÖ –ü—Ä–∏–±—ã–ª—å –∫–æ–º–ø–∞–Ω–∏–∏

### –§–∞–∑–∞ 4 (–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è - 1 –Ω–µ–¥–µ–ª—è):
15. ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
16. ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
17. ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –§–∞–∑–∞ 5 (–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ - 3-4 –Ω–µ–¥–µ–ª–∏):
18. ‚úÖ –û—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º
19. ‚úÖ Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
20. ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

---

## ‚ùì –¢–†–ï–ë–£–ï–¢ –£–¢–û–ß–ù–ï–ù–ò–Ø

1. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫:**
   - –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç = 0 –æ–∑–Ω–∞—á–∞–µ—Ç –Ω—É–ª–µ–≤—É—é –æ–ø–ª–∞—Ç—É?
   - –ò–ª–∏ –Ω—É–∂–Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É —Å—Ç–∞–≤–æ–∫ –ø–µ—Ä–µ–¥ —Ä–∞–±–æ—Ç–æ–π?

2. **–ü—Ä–∏–±—ã–ª—å –∫–æ–º–ø–∞–Ω–∏–∏:**
   - –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Å—Ç–∞–≤–∫–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–∏–±—ã–ª–∏?
   - –ù—É–∂–Ω–∞ –ª–∏ —Ç–∞–±–ª–∏—Ü–∞ `organization_rates_history`?

3. **–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö:**
   - –ö–∞–∫–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã –Ω—É–∂–Ω—ã?
   - –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–π —Ä–æ–ª–∏?

4. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ "–≤ —Ä–∞–±–æ—Ç–µ":**
   - –¢—Ä–µ–±—É–µ—Ç—Å—è –ª–∏ –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–º –∑–∞—è–≤–∫–∞–º?

5. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞—è–≤–∫–∏:**
   - –ö–æ–≥–¥–∞ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è?
   - –ö–∞–∫–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –æ–∂–∏–¥–∞—é—Ç—Å—è?

---

## üìù CHECKLIST –ü–ï–†–ï–î –ù–ê–ß–ê–õ–û–ú –†–ê–ë–û–¢–´

- [ ] –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–∏
- [ ] –°–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å –ø–ª–∞–Ω —Å –∫–æ–º–∞–Ω–¥–æ–π
- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¥–∞—Ç—ã —Ä–µ–ª–∏–∑–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ–∞–∑—ã
- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –Ω–æ–≤–æ–π –ª–æ–≥–∏–∫–µ
- [ ] –û–±–Ω–æ–≤–∏—Ç—å API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

---

## üéØ –ö–õ–Æ–ß–ï–í–´–ï –ú–ï–¢–†–ò–ö–ò –î–õ–Ø –ü–†–û–í–ï–†–ö–ò

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
1. ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–∞ —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—ã—Ö (–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç * –±–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞)
2. ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–∞—Å–æ–≤: `regular + (overtime * coefficient)`
3. ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑ WorkSession
4. ‚úÖ –ê–¥–º–∏–Ω –Ω–µ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞—è–≤–∫–∏
5. ‚úÖ –ú–µ–Ω–µ–¥–∂–µ—Ä –≤–∏–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —á–∞—Å–∞–º, –Ω–æ –Ω–µ –ø–æ –∑–∞—Ä–∞–±–æ—Ç–∫—É
6. ‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞–≤–æ–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ
7. ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
8. ‚úÖ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–ø–ª–∞—Ç–∞ –∑–∞ –º–∞—à–∏–Ω—É - —Ä–∞–∑ –≤ –º–µ—Å—è—Ü
9. ‚úÖ –î–æ–ø–ª–∞—Ç—ã –∑–∞ –∑–æ–Ω—ã - –∑–∞ –∫–∞–∂–¥—ã–π –≤—ã–µ–∑–¥

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞–Ω–∞:** ${new Date().toLocaleString('ru-RU')}
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

