# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: VM + Docker + Backups

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- SSH –∫–ª—é—á (—É–∂–µ –µ—Å—Ç—å —É –≤–∞—Å)
- –î–æ—Å—Ç—É–ø –∫ SberCloud VM
- –ü—Ä–æ–µ–∫—Ç Coffee Admin –Ω–∞—Å—Ç—Ä–æ–µ–Ω

## 1. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ VM

```bash
# –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x deploy-sbercloud.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç –±—ç–∫–∞–ø—ã)
./deploy-sbercloud.sh –í–ê–®_VM_IP ~/.ssh/id_ed25519
```

## 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ VM

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
./vm-manage.sh status –í–ê–®_VM_IP ~/.ssh/id_ed25519

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
./vm-manage.sh logs all –í–ê–®_VM_IP ~/.ssh/id_ed25519

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
./vm-manage.sh restart –í–ê–®_VM_IP ~/.ssh/id_ed25519
```

## 3. –†–∞–±–æ—Ç–∞ —Å –±—ç–∫–∞–ø–∞–º–∏

```bash
# –°–∫–∞—á–∞—Ç—å –≤—Å–µ –±—ç–∫–∞–ø—ã –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É
./download-backups.sh –í–ê–®_VM_IP ~/.ssh/id_ed25519 ./my-backups

# –†—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞ –Ω–∞ VM
ssh -i ~/.ssh/id_ed25519 ubuntu@–í–ê–®_VM_IP "~/scripts/create-backup.sh"
```

## üìã –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

- ‚úÖ **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –±—ç–∫–∞–ø—ã** –≤ 2:00 –Ω–æ—á–∏
- ‚úÖ **–û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤** –∫–∞–∂–¥–æ–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤** Docker
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üÜò –ü—Ä–æ–±–ª–µ–º—ã?

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
./vm-manage.sh status

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
./vm-manage.sh logs all

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ë
./vm-manage.sh restart
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ
./vm-manage.sh monitor –í–ê–®_VM_IP ~/.ssh/id_ed25519

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ VM
ssh ubuntu@–í–ê–®_VM_IP "df -h && docker-compose ps"
```

## üíæ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
coffee-project/
‚îú‚îÄ‚îÄ vm-manage.sh           # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ VM
‚îú‚îÄ‚îÄ download-backups.sh    # –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤
‚îú‚îÄ‚îÄ vm-backup-setup.sh     # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±—ç–∫–∞–ø–æ–≤
‚îú‚îÄ‚îÄ deploy-sbercloud.sh    # –î–µ–ø–ª–æ–π –Ω–∞ SberCloud
‚îî‚îÄ‚îÄ docs/
    ‚îî‚îÄ‚îÄ VM_MANAGEMENT_BACKUP_README.md  # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: `./vm-manage.sh status`
2. **–ë—ç–∫–∞–ø—ã**: `./download-backups.sh`
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –≤ SberCloud Console
4. **SSL**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

---

**üéâ –ì–æ—Ç–æ–≤–æ! –í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ SberCloud —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –±—ç–∫–∞–ø–∞–º–∏.**
