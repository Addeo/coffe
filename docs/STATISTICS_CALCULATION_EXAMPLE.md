# –ü—Ä–∏–º–µ—Ä —Ä–∞—Å—á—ë—Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–º –∑–∞–∫–∞–∑–∞–º

## üìä –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

#### –û–û–û "–ê–ª—å—Ñ–∞"
- –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞: **900 ‚ÇΩ/—á**
- –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏: **1.5**
- –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞: **–î–∞**

#### –û–û–û "–ë–µ—Ç–∞"
- –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞: **800 ‚ÇΩ/—á**
- –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏: **1.5**
- –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞: **–î–∞**

#### –û–û–û "–ì–∞–º–º–∞"
- –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞: **1000 ‚ÇΩ/—á**
- –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏: **2.0**
- –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞: **–î–∞**

---

### –ò–Ω–∂–µ–Ω–µ—Ä—ã

#### –ò–Ω–∂–µ–Ω–µ—Ä #1: –ò–≤–∞–Ω–æ–≤ –ò.–ò.
**–ë–∞–∑–æ–≤—ã–µ —Å—Ç–∞–≤–∫–∏:**
- –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞: **700 ‚ÇΩ/—á**
- –°—Ç–∞–≤–∫–∞ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏: **1050 ‚ÇΩ/—á** (1.5√ó)

**–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Å—Ç–∞–≤–∫–∏ –¥–ª—è –û–û–û "–ê–ª—å—Ñ–∞":**
- –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞: **750 ‚ÇΩ/—á** (–ø–æ–≤—ã—à–µ–Ω–Ω–∞—è)
- –°—Ç–∞–≤–∫–∞ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏: **1125 ‚ÇΩ/—á** (1.5√ó)

---

#### –ò–Ω–∂–µ–Ω–µ—Ä #2: –ü–µ—Ç—Ä–æ–≤ –ü.–ü.
**–ë–∞–∑–æ–≤—ã–µ —Å—Ç–∞–≤–∫–∏:**
- –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞: **650 ‚ÇΩ/—á**
- –°—Ç–∞–≤–∫–∞ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏: **975 ‚ÇΩ/—á** (1.5√ó)

**–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Å—Ç–∞–≤–∫–∏ –¥–ª—è –û–û–û "–ë–µ—Ç–∞":**
- –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞: **700 ‚ÇΩ/—á** (–ø–æ–≤—ã—à–µ–Ω–Ω–∞—è)
- –°—Ç–∞–≤–∫–∞ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏: **1050 ‚ÇΩ/—á** (1.5√ó)

---

#### –ò–Ω–∂–µ–Ω–µ—Ä #3: –°–∏–¥–æ—Ä–æ–≤ –°.–°.
**–ë–∞–∑–æ–≤—ã–µ —Å—Ç–∞–≤–∫–∏:**
- –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞: **800 ‚ÇΩ/—á**
- –°—Ç–∞–≤–∫–∞ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏: **1200 ‚ÇΩ/—á** (1.5√ó)

*(–ù–µ—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫)*

---

## üìù –ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∑–∞–∫–∞–∑—ã –∑–∞ –æ–∫—Ç—è–±—Ä—å 2025

### –ó–∞–∫–∞–∑ #1
- **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è:** –û–û–û "–ê–ª—å—Ñ–∞"
- **–ò–Ω–∂–µ–Ω–µ—Ä:** –ò–≤–∞–Ω–æ–≤ –ò.–ò. (—Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ —Å—Ç–∞–≤–∫–∞–º–∏)
- **–î–∞—Ç–∞:** 05.10.2025
- **–†–∞–±–æ—Ç–∞:**
  - –û–±—ã—á–Ω—ã–µ —á–∞—Å—ã: **8 —á**
  - –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞: **2 —á**
  - –î–æ–ø–ª–∞—Ç–∞ –∑–∞ –º–∞—à–∏–Ω—É: **500 ‚ÇΩ**

#### –†–∞—Å—á—ë—Ç –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–∞ (–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Å—Ç–∞–≤–∫–∏):
```
regularPayment = 8 —á √ó 750 ‚ÇΩ/—á = 6,000 ‚ÇΩ
overtimePayment = 2 —á √ó 1,125 ‚ÇΩ/—á = 2,250 ‚ÇΩ
calculatedAmount = 6,000 + 2,250 = 8,250 ‚ÇΩ
carUsageAmount = 500 ‚ÇΩ
–ò–¢–û–ì–û –∏–Ω–∂–µ–Ω–µ—Ä—É: 8,750 ‚ÇΩ
```

#### –†–∞—Å—á—ë—Ç –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:
```
organizationRegularPayment = 8 —á √ó 900 ‚ÇΩ/—á = 7,200 ‚ÇΩ
organizationOvertimePayment = 2 —á √ó 900 ‚ÇΩ/—á √ó 1.5 = 2,700 ‚ÇΩ
organizationPayment = 7,200 + 2,700 = 9,900 ‚ÇΩ
carUsageAmount = 500 ‚ÇΩ
–ò–¢–û–ì–û –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏: 10,400 ‚ÇΩ
```

#### –ü—Ä–∏–±—ã–ª—å:
```
profit = 9,900 - 8,250 = 1,650 ‚ÇΩ
```

#### –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ Order #1:
```json
{
  "id": 1,
  "organizationId": 1,
  "assignedEngineerId": 1,
  "status": "completed",
  "completionDate": "2025-10-05",
  "regularHours": 8,
  "overtimeHours": 2,
  "engineerBaseRate": 750,
  "engineerOvertimeRate": 1125,
  "organizationBaseRate": 900,
  "organizationOvertimeMultiplier": 1.5,
  "regularPayment": 6000,
  "overtimePayment": 2250,
  "calculatedAmount": 8250,
  "organizationRegularPayment": 7200,
  "organizationOvertimePayment": 2700,
  "organizationPayment": 9900,
  "carUsageAmount": 500,
  "profit": 1650
}
```

---

### –ó–∞–∫–∞–∑ #2
- **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è:** –û–û–û "–ë–µ—Ç–∞"
- **–ò–Ω–∂–µ–Ω–µ—Ä:** –ü–µ—Ç—Ä–æ–≤ –ü.–ü. (—Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ —Å—Ç–∞–≤–∫–∞–º–∏)
- **–î–∞—Ç–∞:** 10.10.2025
- **–†–∞–±–æ—Ç–∞:**
  - –û–±—ã—á–Ω—ã–µ —á–∞—Å—ã: **6 —á**
  - –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞: **3 —á**
  - –î–æ–ø–ª–∞—Ç–∞ –∑–∞ –º–∞—à–∏–Ω—É: **400 ‚ÇΩ**

#### –†–∞—Å—á—ë—Ç –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–∞ (–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Å—Ç–∞–≤–∫–∏):
```
regularPayment = 6 —á √ó 700 ‚ÇΩ/—á = 4,200 ‚ÇΩ
overtimePayment = 3 —á √ó 1,050 ‚ÇΩ/—á = 3,150 ‚ÇΩ
calculatedAmount = 4,200 + 3,150 = 7,350 ‚ÇΩ
carUsageAmount = 400 ‚ÇΩ
–ò–¢–û–ì–û –∏–Ω–∂–µ–Ω–µ—Ä—É: 7,750 ‚ÇΩ
```

#### –†–∞—Å—á—ë—Ç –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:
```
organizationRegularPayment = 6 —á √ó 800 ‚ÇΩ/—á = 4,800 ‚ÇΩ
organizationOvertimePayment = 3 —á √ó 800 ‚ÇΩ/—á √ó 1.5 = 3,600 ‚ÇΩ
organizationPayment = 4,800 + 3,600 = 8,400 ‚ÇΩ
carUsageAmount = 400 ‚ÇΩ
–ò–¢–û–ì–û –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏: 8,800 ‚ÇΩ
```

#### –ü—Ä–∏–±—ã–ª—å:
```
profit = 8,400 - 7,350 = 1,050 ‚ÇΩ
```

---

### –ó–∞–∫–∞–∑ #3
- **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è:** –û–û–û "–ì–∞–º–º–∞"
- **–ò–Ω–∂–µ–Ω–µ—Ä:** –°–∏–¥–æ—Ä–æ–≤ –°.–°. (–±–∞–∑–æ–≤—ã–µ —Å—Ç–∞–≤–∫–∏)
- **–î–∞—Ç–∞:** 15.10.2025
- **–†–∞–±–æ—Ç–∞:**
  - –û–±—ã—á–Ω—ã–µ —á–∞—Å—ã: **10 —á**
  - –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞: **0 —á**
  - –î–æ–ø–ª–∞—Ç–∞ –∑–∞ –º–∞—à–∏–Ω—É: **600 ‚ÇΩ**

#### –†–∞—Å—á—ë—Ç –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–∞ (–±–∞–∑–æ–≤—ã–µ —Å—Ç–∞–≤–∫–∏):
```
regularPayment = 10 —á √ó 800 ‚ÇΩ/—á = 8,000 ‚ÇΩ
overtimePayment = 0 —á √ó 1,200 ‚ÇΩ/—á = 0 ‚ÇΩ
calculatedAmount = 8,000 + 0 = 8,000 ‚ÇΩ
carUsageAmount = 600 ‚ÇΩ
–ò–¢–û–ì–û –∏–Ω–∂–µ–Ω–µ—Ä—É: 8,600 ‚ÇΩ
```

#### –†–∞—Å—á—ë—Ç –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:
```
organizationRegularPayment = 10 —á √ó 1,000 ‚ÇΩ/—á = 10,000 ‚ÇΩ
organizationOvertimePayment = 0 —á √ó 1,000 ‚ÇΩ/—á √ó 2.0 = 0 ‚ÇΩ
organizationPayment = 10,000 + 0 = 10,000 ‚ÇΩ
carUsageAmount = 600 ‚ÇΩ
–ò–¢–û–ì–û –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏: 10,600 ‚ÇΩ
```

#### –ü—Ä–∏–±—ã–ª—å:
```
profit = 10,000 - 8,000 = 2,000 ‚ÇΩ
```

---

### –ó–∞–∫–∞–∑ #4
- **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è:** –û–û–û "–ê–ª—å—Ñ–∞"
- **–ò–Ω–∂–µ–Ω–µ—Ä:** –ò–≤–∞–Ω–æ–≤ –ò.–ò. (—Å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–º–∏ —Å—Ç–∞–≤–∫–∞–º–∏)
- **–î–∞—Ç–∞:** 20.10.2025
- **–†–∞–±–æ—Ç–∞:**
  - –û–±—ã—á–Ω—ã–µ —á–∞—Å—ã: **7 —á**
  - –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞: **4 —á**
  - –î–æ–ø–ª–∞—Ç–∞ –∑–∞ –º–∞—à–∏–Ω—É: **450 ‚ÇΩ**

#### –†–∞—Å—á—ë—Ç –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–∞ (–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Å—Ç–∞–≤–∫–∏):
```
regularPayment = 7 —á √ó 750 ‚ÇΩ/—á = 5,250 ‚ÇΩ
overtimePayment = 4 —á √ó 1,125 ‚ÇΩ/—á = 4,500 ‚ÇΩ
calculatedAmount = 5,250 + 4,500 = 9,750 ‚ÇΩ
carUsageAmount = 450 ‚ÇΩ
–ò–¢–û–ì–û –∏–Ω–∂–µ–Ω–µ—Ä—É: 10,200 ‚ÇΩ
```

#### –†–∞—Å—á—ë—Ç –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:
```
organizationRegularPayment = 7 —á √ó 900 ‚ÇΩ/—á = 6,300 ‚ÇΩ
organizationOvertimePayment = 4 —á √ó 900 ‚ÇΩ/—á √ó 1.5 = 5,400 ‚ÇΩ
organizationPayment = 6,300 + 5,400 = 11,700 ‚ÇΩ
carUsageAmount = 450 ‚ÇΩ
–ò–¢–û–ì–û –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏: 12,150 ‚ÇΩ
```

#### –ü—Ä–∏–±—ã–ª—å:
```
profit = 11,700 - 9,750 = 1,950 ‚ÇΩ
```

---

### –ó–∞–∫–∞–∑ #5
- **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è:** –û–û–û "–ë–µ—Ç–∞"
- **–ò–Ω–∂–µ–Ω–µ—Ä:** –°–∏–¥–æ—Ä–æ–≤ –°.–°. (–±–∞–∑–æ–≤—ã–µ —Å—Ç–∞–≤–∫–∏)
- **–î–∞—Ç–∞:** 25.10.2025
- **–†–∞–±–æ—Ç–∞:**
  - –û–±—ã—á–Ω—ã–µ —á–∞—Å—ã: **9 —á**
  - –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞: **1 —á**
  - –î–æ–ø–ª–∞—Ç–∞ –∑–∞ –º–∞—à–∏–Ω—É: **350 ‚ÇΩ**

#### –†–∞—Å—á—ë—Ç –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–∞ (–±–∞–∑–æ–≤—ã–µ —Å—Ç–∞–≤–∫–∏):
```
regularPayment = 9 —á √ó 800 ‚ÇΩ/—á = 7,200 ‚ÇΩ
overtimePayment = 1 —á √ó 1,200 ‚ÇΩ/—á = 1,200 ‚ÇΩ
calculatedAmount = 7,200 + 1,200 = 8,400 ‚ÇΩ
carUsageAmount = 350 ‚ÇΩ
–ò–¢–û–ì–û –∏–Ω–∂–µ–Ω–µ—Ä—É: 8,750 ‚ÇΩ
```

#### –†–∞—Å—á—ë—Ç –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:
```
organizationRegularPayment = 9 —á √ó 800 ‚ÇΩ/—á = 7,200 ‚ÇΩ
organizationOvertimePayment = 1 —á √ó 800 ‚ÇΩ/—á √ó 1.5 = 1,200 ‚ÇΩ
organizationPayment = 7,200 + 1,200 = 8,400 ‚ÇΩ
carUsageAmount = 350 ‚ÇΩ
–ò–¢–û–ì–û –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏: 8,750 ‚ÇΩ
```

#### –ü—Ä–∏–±—ã–ª—å:
```
profit = 8,400 - 8,400 = 0 ‚ÇΩ (–Ω—É–ª–µ–≤–∞—è –ø—Ä–∏–±—ã–ª—å!)
```

---

## üìà –†–ê–°–ß–Å–¢ –°–¢–ê–¢–ò–°–¢–ò–ö–ò –ó–ê –û–ö–¢–Ø–ë–†–¨ 2025

### SQL-–∑–∞–ø—Ä–æ—Å –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–∞ (userId = 1, –ò–≤–∞–Ω–æ–≤ –ò.–ò.):

```sql
SELECT 
  SUM(calculatedAmount + carUsageAmount) as totalEarnings,
  SUM(regularHours + overtimeHours) as totalHours,
  SUM(regularHours) as regularHours,
  SUM(overtimeHours) as overtimeHours,
  COUNT(*) as completedOrders
FROM orders
WHERE assignedEngineerId = 1
  AND status = 'completed'
  AND completionDate >= '2025-10-01'
  AND completionDate < '2025-11-01'
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –ò–≤–∞–Ω–æ–≤–∞ –ò.–ò.:
```json
{
  "totalEarnings": 18950,  // (8,250+500) + (9,750+450) = 18,950
  "totalHours": 21,        // (8+2) + (7+4) = 21
  "regularHours": 15,      // 8 + 7 = 15
  "overtimeHours": 6,      // 2 + 4 = 6
  "completedOrders": 2     // –ó–∞–∫–∞–∑—ã #1 –∏ #4
}
```

---

### SQL-–∑–∞–ø—Ä–æ—Å –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–∞ (userId = 2, –ü–µ—Ç—Ä–æ–≤ –ü.–ü.):

```sql
SELECT 
  SUM(calculatedAmount + carUsageAmount) as totalEarnings,
  SUM(regularHours + overtimeHours) as totalHours,
  COUNT(*) as completedOrders
FROM orders
WHERE assignedEngineerId = 2
  AND status = 'completed'
  AND completionDate >= '2025-10-01'
  AND completionDate < '2025-11-01'
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –ü–µ—Ç—Ä–æ–≤–∞ –ü.–ü.:
```json
{
  "totalEarnings": 7750,   // 7,350 + 400 = 7,750
  "totalHours": 9,         // 6 + 3 = 9
  "regularHours": 6,
  "overtimeHours": 3,
  "completedOrders": 1     // –ó–∞–∫–∞–∑ #2
}
```

---

### SQL-–∑–∞–ø—Ä–æ—Å –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–∞ (userId = 3, –°–∏–¥–æ—Ä–æ–≤ –°.–°.):

```sql
SELECT 
  SUM(calculatedAmount + carUsageAmount) as totalEarnings,
  SUM(regularHours + overtimeHours) as totalHours,
  COUNT(*) as completedOrders
FROM orders
WHERE assignedEngineerId = 3
  AND status = 'completed'
  AND completionDate >= '2025-10-01'
  AND completionDate < '2025-11-01'
```

#### –†–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –°–∏–¥–æ—Ä–æ–≤–∞ –°.–°.:
```json
{
  "totalEarnings": 17350,  // (8,000+600) + (8,400+350) = 17,350
  "totalHours": 20,        // (10+0) + (9+1) = 20
  "regularHours": 19,
  "overtimeHours": 1,
  "completedOrders": 2     // –ó–∞–∫–∞–∑—ã #3 –∏ #5
}
```

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –î–õ–Ø –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–ê

### SQL-–∑–∞–ø—Ä–æ—Å –¥–ª—è –∞–¥–º–∏–Ω–∞:

```sql
SELECT 
  engineer.userId as engineerId,
  user.firstName,
  user.lastName,
  COUNT(order.id) as completedOrders,
  SUM(order.regularHours + order.overtimeHours) as totalHours,
  SUM(order.calculatedAmount + order.carUsageAmount) as engineerEarnings,
  SUM(order.organizationPayment + order.carUsageAmount) as organizationPayments,
  SUM(order.profit) as totalProfit
FROM orders
JOIN engineer ON order.assignedEngineerId = engineer.id
JOIN user ON engineer.userId = user.id
WHERE order.status = 'completed'
  AND order.completionDate >= '2025-10-01'
  AND order.completionDate < '2025-11-01'
GROUP BY engineer.userId
ORDER BY engineerEarnings DESC
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç (—Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –∞–¥–º–∏–Ω–∞):

| –ò–Ω–∂–µ–Ω–µ—Ä | –ó–∞–∫–∞–∑–æ–≤ | –ß–∞—Å–æ–≤ | –ò–Ω–∂–µ–Ω–µ—Ä—É | –û—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π | –ü—Ä–∏–±—ã–ª—å | –ú–∞—Ä–∂–∞ |
|---------|---------|-------|----------|----------------|---------|-------|
| **–ò–≤–∞–Ω–æ–≤ –ò.–ò.** | 2 | 21 —á | **18,950 ‚ÇΩ** | **22,300 ‚ÇΩ** | **3,600 ‚ÇΩ** | 16.1% |
| **–°–∏–¥–æ—Ä–æ–≤ –°.–°.** | 2 | 20 —á | **17,350 ‚ÇΩ** | **19,350 ‚ÇΩ** | **2,000 ‚ÇΩ** | 10.3% |
| **–ü–µ—Ç—Ä–æ–≤ –ü.–ü.** | 1 | 9 —á | **7,750 ‚ÇΩ** | **8,800 ‚ÇΩ** | **1,050 ‚ÇΩ** | 11.9% |
| **–ò–¢–û–ì–û:** | **5** | **50 —á** | **44,050 ‚ÇΩ** | **50,450 ‚ÇΩ** | **6,650 ‚ÇΩ** | **13.2%** |

### –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –ò–≤–∞–Ω–æ–≤—É –ò.–ò.:
```
–ó–∞–∫–∞–∑ #1 (–û–û–û "–ê–ª—å—Ñ–∞"):
  –ò–Ω–∂–µ–Ω–µ—Ä—É:      8,750 ‚ÇΩ (8—á √ó 750‚ÇΩ + 2—á √ó 1,125‚ÇΩ + 500‚ÇΩ)
  –û—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏: 10,400 ‚ÇΩ (8—á √ó 900‚ÇΩ + 2—á √ó 1,350‚ÇΩ + 500‚ÇΩ)
  –ü—Ä–∏–±—ã–ª—å:       1,650 ‚ÇΩ

–ó–∞–∫–∞–∑ #4 (–û–û–û "–ê–ª—å—Ñ–∞"):
  –ò–Ω–∂–µ–Ω–µ—Ä—É:      10,200 ‚ÇΩ (7—á √ó 750‚ÇΩ + 4—á √ó 1,125‚ÇΩ + 450‚ÇΩ)
  –û—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏: 12,150 ‚ÇΩ (7—á √ó 900‚ÇΩ + 4—á √ó 1,350‚ÇΩ + 450‚ÇΩ)
  –ü—Ä–∏–±—ã–ª—å:       1,950 ‚ÇΩ

–ò–¢–û–ì–û –ò–≤–∞–Ω–æ–≤:
  –ó–∞—Ä–∞–±–æ—Ç–∞–ª:     18,950 ‚ÇΩ
  –ü—Ä–∏–Ω—ë—Å:        22,300 ‚ÇΩ
  –ü—Ä–∏–±—ã–ª—å:       3,600 ‚ÇΩ (16.1% –º–∞—Ä–∂–∞)
```

---

## üìã –°–í–û–î–ù–ê–Ø –¢–ê–ë–õ–ò–¶–ê –ü–û –û–†–ì–ê–ù–ò–ó–ê–¶–ò–Ø–ú

### –î–ª—è –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏–∏:

| –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è | –ó–∞–∫–∞–∑–æ–≤ | –ß–∞—Å–æ–≤ | –í—ã–ø–ª–∞—á–µ–Ω–æ –∏–Ω–∂–µ–Ω–µ—Ä–∞–º | –ü–æ–ª—É—á–µ–Ω–æ –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ | –ü—Ä–∏–±—ã–ª—å |
|------------|---------|-------|---------------------|------------------------|---------|
| **–û–û–û "–ê–ª—å—Ñ–∞"** | 2 | 21 —á | 18,950 ‚ÇΩ | 22,300 ‚ÇΩ | **3,600 ‚ÇΩ** |
| **–û–û–û "–ë–µ—Ç–∞"** | 2 | 15 —á | 16,500 ‚ÇΩ | 17,550 ‚ÇΩ | **1,050 ‚ÇΩ** |
| **–û–û–û "–ì–∞–º–º–∞"** | 1 | 10 —á | 8,600 ‚ÇΩ | 10,600 ‚ÇΩ | **2,000 ‚ÇΩ** |
| **–ò–¢–û–ì–û:** | **5** | **46 —á** | **44,050 ‚ÇΩ** | **50,450 ‚ÇΩ** | **6,650 ‚ÇΩ** |

---

## üéØ –í–´–í–û–î–´

### –ü—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤:
1. **–ò–≤–∞–Ω–æ–≤ –ò.–ò.** - —Å–∞–º—ã–π –ø—Ä–∏–±—ã–ª—å–Ω—ã–π (3,600 ‚ÇΩ, –º–∞—Ä–∂–∞ 16.1%)
2. **–°–∏–¥–æ—Ä–æ–≤ –°.–°.** - —Å—Ä–µ–¥–Ω—è—è –ø—Ä–∏–±—ã–ª—å (2,000 ‚ÇΩ, –º–∞—Ä–∂–∞ 10.3%)
3. **–ü–µ—Ç—Ä–æ–≤ –ü.–ü.** - –Ω–∏–∑–∫–∞—è –ø—Ä–∏–±—ã–ª—å (1,050 ‚ÇΩ, –º–∞—Ä–∂–∞ 11.9%)

### –ü—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π:
1. **–û–û–û "–ê–ª—å—Ñ–∞"** - —Å–∞–º–∞—è –ø—Ä–∏–±—ã–ª—å–Ω–∞—è (3,600 ‚ÇΩ)
2. **–û–û–û "–ì–∞–º–º–∞"** - —Ö–æ—Ä–æ—à–∞—è –ø—Ä–∏–±—ã–ª—å (2,000 ‚ÇΩ)
3. **–û–û–û "–ë–µ—Ç–∞"** - –Ω–∏–∑–∫–∞—è –ø—Ä–∏–±—ã–ª—å (1,050 ‚ÇΩ)

### –í–∞–∂–Ω—ã–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è:
- ‚úÖ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Å—Ç–∞–≤–∫–∏ –ø–æ–≤—ã—à–∞—é—Ç –ø—Ä–∏–±—ã–ª—å (–ò–≤–∞–Ω–æ–≤ —É –ê–ª—å—Ñ–∞)
- ‚ö†Ô∏è –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∞–≤–∫–∏ –º–æ–≥—É—Ç –¥–∞–≤–∞—Ç—å –Ω—É–ª–µ–≤—É—é –ø—Ä–∏–±—ã–ª—å (–°–∏–¥–æ—Ä–æ–≤ —É –ë–µ—Ç–∞, –∑–∞–∫–∞–∑ #5)
- üìà –°—Ä–µ–¥–Ω—è—è –º–∞—Ä–∂–∞ –ø–æ –≤—Å–µ–º –∑–∞–∫–∞–∑–∞–º: **13.2%**
- üí° –ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ø—Ä–∏–±—ã–ª—å –ø—Ä–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞—Ö

---

## üîç –ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢ –í –ö–û–î–ï

### Backend: StatisticsService.getAdminEngineerStatistics()
```typescript
const engineerStats = await this.orderRepository
  .createQueryBuilder('order')
  .select('engineer.userId', 'engineerId')
  .addSelect('user.firstName', 'firstName')
  .addSelect('user.lastName', 'lastName')
  .addSelect('COUNT(order.id)', 'completedOrders')
  .addSelect('SUM(order.regularHours + order.overtimeHours)', 'totalHours')
  .addSelect('SUM(order.calculatedAmount)', 'engineerEarnings')
  .addSelect('SUM(order.organizationPayment)', 'organizationPayments')
  .addSelect('SUM(order.carUsageAmount)', 'carUsageAmount')
  .leftJoin('order.assignedEngineer', 'engineer')
  .leftJoin('engineer.user', 'user')
  .where('order.completionDate >= :startDate', { startDate })
  .andWhere('order.completionDate < :endDate', { endDate })
  .andWhere('order.status = :status', { status: 'completed' })
  .groupBy('engineer.userId')
  .getRawMany();

// –†–∞—Å—á—ë—Ç –ø—Ä–∏–±—ã–ª–∏ –∏ –º–∞—Ä–∂–∏
const profit = organizationPayments - engineerEarnings;
const profitMargin = (profit / (organizationPayments + carUsageAmount)) * 100;
```

### Frontend: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –∞–¥–º–∏–Ω–∞
```html
<!-- –¢–∞–±–ª–∏—Ü–∞ –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ -->
<table>
  <tr *ngFor="let engineer of engineers">
    <td>{{ engineer.name }}</td>
    <td>{{ engineer.completedOrders }}</td>
    <td>{{ engineer.totalHours }} —á</td>
    <td>{{ formatAmount(engineer.engineerEarnings) }}</td>
    <td>{{ formatAmount(engineer.organizationPayments) }}</td>
    <td class="profit">{{ formatAmount(engineer.profit) }}</td>
    <td>{{ engineer.profitMargin.toFixed(1) }}%</td>
  </tr>
</table>
```

---

## ‚úÖ –ò–¢–û–ì–û

**–í—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –ù–ê–ü–†–Ø–ú–£–Æ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `orders`:**
- ‚úÖ –ù–µ—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
- ‚úÖ –ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –í—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ –ü–æ–ª–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å —Ä–∞—Å—á—ë—Ç–æ–≤
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è —Ä–∞–∑–±–∏–≤–∫–∞ –¥–ª—è –∞—É–¥–∏—Ç–∞

