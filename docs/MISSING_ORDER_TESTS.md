# –ù–µ–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è —Å –∑–∞–∫–∞–∑–∞–º–∏

## –°–ø–∏—Å–æ–∫ –Ω–µ–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

### 1. ‚ùå –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏

- **–≠–Ω–¥–ø–æ–∏–Ω—Ç**: `DELETE /orders/:id`
- **–†–æ–ª—å**: ADMIN, MANAGER
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏
- **–í–∞–∂–Ω–æ—Å—Ç—å**: üî¥ –í—ã—Å–æ–∫–∞—è

### 2. ‚ùå –£–¥–∞–ª–µ–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏–Ω–∂–µ–Ω–µ—Ä–∞

- **–≠–Ω–¥–ø–æ–∏–Ω—Ç**: `DELETE /orders/:id/assignments/:assignmentId`
- **–†–æ–ª—å**: ADMIN, MANAGER
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏–Ω–∂–µ–Ω–µ—Ä–∞ –Ω–∞ –∑–∞—è–≤–∫—É
- **–í–∞–∂–Ω–æ—Å—Ç—å**: üü° –°—Ä–µ–¥–Ω—è—è

### 3. ‚ùå –°–æ–∑–¥–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞—è–≤–∫–∏

- **–≠–Ω–¥–ø–æ–∏–Ω—Ç**: `POST /orders/automatic`
- **–†–æ–ª—å**: MANAGER
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –°–æ–∑–¥–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞—è–≤–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ email –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)
- **–í–∞–∂–Ω–æ—Å—Ç—å**: üü° –°—Ä–µ–¥–Ω—è—è

### 4. ‚ùå –ü–æ–ª—É—á–µ–Ω–∏–µ –º–æ–∏—Ö —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∑–∞—è–≤–æ–∫

- **–≠–Ω–¥–ø–æ–∏–Ω—Ç**: `GET /orders/my-orders`
- **–†–æ–ª—å**: ADMIN, MANAGER
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ç–µ–∫—É—â–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- **–í–∞–∂–Ω–æ—Å—Ç—å**: üü° –°—Ä–µ–¥–Ω—è—è

### 5. ‚ùå –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É

- **–≠–Ω–¥–ø–æ–∏–Ω—Ç**: `GET /orders/by-source/:source`
- **–†–æ–ª—å**: ADMIN, MANAGER
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**: source = 'manual' | 'automatic'
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞—è–≤–æ–∫ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è
- **–í–∞–∂–Ω–æ—Å—Ç—å**: üü¢ –ù–∏–∑–∫–∞—è

### 6. ‚ùå –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∑–∞—è–≤–æ–∫

- **–≠–Ω–¥–ø–æ–∏–Ω—Ç**: `GET /orders/stats`
- **–†–æ–ª—å**: –í—Å–µ
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∑–∞—è–≤–∫–∞–º (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, —Å—Ç–∞—Ç—É—Å—ã –∏ —Ç.–¥.)
- **–í–∞–∂–Ω–æ—Å—Ç—å**: üü° –°—Ä–µ–¥–Ω—è—è

### 7. ‚ùå –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è –∑–∞—è–≤–æ–∫

- **–≠–Ω–¥–ø–æ–∏–Ω—Ç**: `GET /orders` —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- **–†–æ–ª—å**: –í—Å–µ
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
  - `page`, `limit` - –ø–∞–≥–∏–Ω–∞—Ü–∏—è
  - `status` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É
  - `organizationId` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
  - `assignedEngineerId` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –∏–Ω–∂–µ–Ω–µ—Ä—É
  - `source` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É
  - `createdById` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Å–æ–∑–¥–∞—Ç–µ–ª—é
  - `search` - –ø–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É
  - `territoryType` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏
  - `minDistanceKm`, `maxDistanceKm` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é
  - `plannedStartDateFrom`, `plannedStartDateTo` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –ø–ª–∞–Ω–æ–≤–æ–π –¥–∞—Ç–µ
  - `actualStartDateFrom`, `actualStartDateTo` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –¥–∞—Ç–µ
  - `completionDateFrom`, `completionDateTo` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
  - `assignedById` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–æ–º—É, –∫—Ç–æ –Ω–∞–∑–Ω–∞—á–∏–ª
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ –∑–∞—è–≤–æ–∫
- **–í–∞–∂–Ω–æ—Å—Ç—å**: üü° –°—Ä–µ–¥–Ω—è—è

### 8. ‚ùå –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏ –∏–Ω–∂–µ–Ω–µ—Ä–æ–º

- **–≠–Ω–¥–ø–æ–∏–Ω—Ç**: –ù–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–Ω–∂–µ–Ω–µ—Ä–∞ –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—É—é –∑–∞—è–≤–∫—É (–º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- **–í–∞–∂–Ω–æ—Å—Ç—å**: üü¢ –ù–∏–∑–∫–∞—è (–µ—Å–ª–∏ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

## –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞

| #   | –≠–Ω–¥–ø–æ–∏–Ω—Ç                                | –ú–µ—Ç–æ–¥  | –†–æ–ª—å           | –í–∞–∂–Ω–æ—Å—Ç—å   | –°—Ç–∞—Ç—É—Å               |
| --- | --------------------------------------- | ------ | -------------- | ---------- | -------------------- |
| 1   | `/orders/:id`                           | DELETE | ADMIN, MANAGER | üî¥ –í—ã—Å–æ–∫–∞—è | ‚ùå –ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω       |
| 2   | `/orders/:id/assignments/:assignmentId` | DELETE | ADMIN, MANAGER | üü° –°—Ä–µ–¥–Ω—è—è | ‚ùå –ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω       |
| 3   | `/orders/automatic`                     | POST   | MANAGER        | üü° –°—Ä–µ–¥–Ω—è—è | ‚ùå –ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω       |
| 4   | `/orders/my-orders`                     | GET    | ADMIN, MANAGER | üü° –°—Ä–µ–¥–Ω—è—è | ‚ùå –ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω       |
| 5   | `/orders/by-source/:source`             | GET    | ADMIN, MANAGER | üü¢ –ù–∏–∑–∫–∞—è  | ‚ùå –ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω       |
| 6   | `/orders/stats`                         | GET    | –í—Å–µ            | üü° –°—Ä–µ–¥–Ω—è—è | ‚ùå –ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω       |
| 7   | `/orders` (—Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏)               | GET    | –í—Å–µ            | üü° –°—Ä–µ–¥–Ω—è—è | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω |

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω—ã–µ)

1. **–£–¥–∞–ª–µ–Ω–∏–µ –∑–∞—è–≤–∫–∏** - –≤–∞–∂–Ω–æ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –∑–∞—è–≤–æ–∫

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω—ã–µ)

2. **–£–¥–∞–ª–µ–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏–Ω–∂–µ–Ω–µ—Ä–∞** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è–º–∏
3. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∑–∞—è–≤–æ–∫** - –¥–ª—è –¥–∞—à–±–æ—Ä–¥–æ–≤
4. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏—è** - –≤–∞–∂–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ)

5. **–°–æ–∑–¥–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞—è–≤–∫–∏** - –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
6. **–ü–æ–ª—É—á–µ–Ω–∏–µ –º–æ–∏—Ö –∑–∞—è–≤–æ–∫** - —É–¥–æ–±—Å—Ç–≤–æ —Ä–∞–±–æ—Ç—ã –º–µ–Ω–µ–¥–∂–µ—Ä–∞
7. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É** - –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
