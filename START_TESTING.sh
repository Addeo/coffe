#!/bin/bash

echo "🚀 Запуск системы для тестирования..."
echo ""

# Проверка, что БД создана
if [ ! -f "backend/database.sqlite" ]; then
    echo "⚠️  БД не найдена. Она создастся при первом запуске backend."
    echo ""
fi

# Запуск backend
echo "▶️  Запуск Backend (порт 3000)..."
echo "   Команда: cd backend && npm run start:dev"
echo ""

# Запуск frontend
echo "▶️  Запуск Frontend (порт 4200)..."
echo "   Команда: cd frontend && ng serve"
echo ""

echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo "📋 ЧТО ТЕСТИРОВАТЬ:"
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo ""
echo "1. Откройте: http://localhost:4200"
echo "2. Войдите в систему"
echo "3. Создайте новый заказ"
echo "4. Назначьте инженера"
echo "5. Откройте заказ → вкладка 'Рабочие сессии'"
echo "6. Добавьте сессию:"
echo "   • Дата: сегодня"
echo "   • Часы: 4 обычных"
echo "   • Машина: 2000₽"
echo "   • Примечания: 'Тест 1'"
echo "7. Добавьте ещё одну сессию с другой датой"
echo "8. Проверьте сводку вверху списка"
echo "9. Перейдите в Расчёты → Зарплата"
echo "10. Проверьте, что сессии учитываются"
echo ""
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo ""
echo "Запустите в двух терминалах:"
echo ""
echo "  Terminal 1: cd backend && npm run start:dev"
echo "  Terminal 2: cd frontend && ng serve"
echo ""
